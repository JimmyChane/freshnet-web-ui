{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue","mtime":1666360294406},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBJdGVtRXZlbnQgZnJvbSAiLi9JdGVtRXZlbnQudnVlIjsKaW1wb3J0IHsgZ2V0RGF5LCBwcmV2aW91c0RheSwgZW5kT2ZEYXksIGZvcm1hdCB9IGZyb20gImRhdGUtZm5zIjsKCmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHsgSXRlbUV2ZW50IH0sCglwcm9wczogewoJCWl0ZW1zOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiAoKSA9PiBbXSB9LAoJfSwKCWNvbXB1dGVkOiB7CgkJZ3JvdXBzKCkgewoJCQlyZXR1cm4gdGhpcy5pdGVtcy5yZWR1Y2UoKGdyb3VwcywgaXRlbSkgPT4gewoJCQkJY29uc3QgdHMgPSBpdGVtLnRpbWVzdGFtcDsKCQkJCWNvbnN0IHRpbWUgPSB0cy50aW1lOwoKCQkJCWNvbnN0IGlzV2l0aGluV2VlayA9ICgpID0+IHsKCQkJCQljb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7CgkJCQkJY29uc3QgZGF5V2VlayA9IGdldERheSh0b2RheSk7CgkJCQkJY29uc3QgZGF5V2Vla1ByZXZpb3VzID0gcHJldmlvdXNEYXkodG9kYXksIGRheVdlZWspOwoJCQkJCWNvbnN0IHRpbWVTdGFydFdlZWsgPSBlbmRPZkRheShkYXlXZWVrUHJldmlvdXMpOwoJCQkJCXJldHVybiB0aW1lID4gdGltZVN0YXJ0V2VlazsKCQkJCX07CgoJCQkJY29uc3Qgb3B0R3JvdXAgPSAodGl0bGUpID0+IHsKCQkJCQlsZXQgZ3JvdXAgPSBncm91cHMuZmluZCgoZ3JvdXApID0+IGdyb3VwLnRpdGxlID09PSB0aXRsZSk7CgkJCQkJaWYgKCFncm91cCkgZ3JvdXBzLnB1c2goKGdyb3VwID0geyB0aXRsZSwgaXRlbXM6IFtdIH0pKTsKCQkJCQlyZXR1cm4gZ3JvdXA7CgkJCQl9OwoJCQkJY29uc3QgcHV0SXRlbSA9ICh0aXRsZSkgPT4gb3B0R3JvdXAodGl0bGUpLml0ZW1zLnB1c2goaXRlbSk7CgoJCQkJaWYgKHRzLmlzVG9kYXkoKSkgcHV0SXRlbSgiVG9kYXkiKTsKCQkJCWVsc2UgaWYgKHRzLmlzWWVzdGVyZGF5KCkpIHB1dEl0ZW0oIlllc3RlcmRheSIpOwoJCQkJZWxzZSBpZiAoaXNXaXRoaW5XZWVrKCkpIHB1dEl0ZW0oZm9ybWF0KHRpbWUsICJFRUVFLCBkZC9MTC95eXl5IikpOwoJCQkJZWxzZSBpZiAodHMuaXNUaGlzWWVhcigpKSBwdXRJdGVtKGZvcm1hdCh0aW1lLCAiZGQvTEwveXl5eSIpKTsKCQkJCWVsc2UgcHV0SXRlbSh0cy5nZXRZZWFyKCkudG9TdHJpbmcoKSk7CgoJCQkJcmV0dXJuIGdyb3VwczsKCQkJfSwgW10pOwoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["ListEvents.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ListEvents.vue","sourceRoot":"src/pages/service","sourcesContent":["<script>\r\n\timport ItemEvent from \"./ItemEvent.vue\";\r\n\timport { getDay, previousDay, endOfDay, format } from \"date-fns\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ItemEvent },\r\n\t\tprops: {\r\n\t\t\titems: { type: Array, default: () => [] },\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgroups() {\r\n\t\t\t\treturn this.items.reduce((groups, item) => {\r\n\t\t\t\t\tconst ts = item.timestamp;\r\n\t\t\t\t\tconst time = ts.time;\r\n\r\n\t\t\t\t\tconst isWithinWeek = () => {\r\n\t\t\t\t\t\tconst today = new Date();\r\n\t\t\t\t\t\tconst dayWeek = getDay(today);\r\n\t\t\t\t\t\tconst dayWeekPrevious = previousDay(today, dayWeek);\r\n\t\t\t\t\t\tconst timeStartWeek = endOfDay(dayWeekPrevious);\r\n\t\t\t\t\t\treturn time > timeStartWeek;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tconst optGroup = (title) => {\r\n\t\t\t\t\t\tlet group = groups.find((group) => group.title === title);\r\n\t\t\t\t\t\tif (!group) groups.push((group = { title, items: [] }));\r\n\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst putItem = (title) => optGroup(title).items.push(item);\r\n\r\n\t\t\t\t\tif (ts.isToday()) putItem(\"Today\");\r\n\t\t\t\t\telse if (ts.isYesterday()) putItem(\"Yesterday\");\r\n\t\t\t\t\telse if (isWithinWeek()) putItem(format(time, \"EEEE, dd/LL/yyyy\"));\r\n\t\t\t\t\telse if (ts.isThisYear()) putItem(format(time, \"dd/LL/yyyy\"));\r\n\t\t\t\t\telse putItem(ts.getYear().toString());\r\n\r\n\t\t\t\t\treturn groups;\r\n\t\t\t\t}, []);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"ListEvents\">\r\n\t\t<div class=\"ListEvents-group\" v-for=\"group of groups\" :key=\"group.title\">\r\n\t\t\t<span class=\"ListEvents-group-title\" v-if=\"group.title\">{{ group.title }}</span>\r\n\r\n\t\t\t<ItemEvent\r\n\t\t\t\tclass=\"ListEvents-group-item\"\r\n\t\t\t\tv-for=\"item of group.items\"\r\n\t\t\t\t:key=\"item.timestamp.time\"\r\n\t\t\t\t:item=\"item\"\r\n\t\t\t\t@callback-delete=\"(item) => $emit('click-item-delete', item)\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.ListEvents {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.ListEvents-group {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.ListEvents-group-title {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t\tbackground: hsl(0, 0%, 98%);\r\n\t\t\t\tborder-bottom: 1px solid hsla(0, 0%, 0%, 0.1);\r\n\t\t\t\tpadding: 0.2rem 0.4rem;\r\n\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\tposition: sticky;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 3;\r\n\t\t\t}\r\n\t\t\t.ListEvents-group-item {\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}