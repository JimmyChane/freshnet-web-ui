{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer_ImagePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer_ImagePreview.vue","mtime":1665404769982},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICAgZW1pdHM6IFsiY2xpY2stcmVtb3ZlIiwgImNsaWNrLXByZXZpb3VzIiwgImNsaWNrLW5leHQiXSwKICAgcHJvcHM6IHsKICAgICAgaW1hZ2U6IHsgdHlwZTogT2JqZWN0LCBkZWZhdWx0OiAoKSA9PiBudWxsIH0sCgogICAgICBoYXNJbWFnZVByZXZpb3VzOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICAgIGhhc0ltYWdlTmV4dDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAoKICAgICAgaGFzUHJvZHVjdFByZXZpb3VzOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICAgIGhhc1Byb2R1Y3ROZXh0OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCgogICAgICBpc0VkaXRhYmxlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIGltYWdlU3R5bGU6IHsgc2NhbGU6ICIxIiwgeDogIjAlIiwgeTogIjAlIiB9LAogICAgICAgICBpbWFnZVVybDogIiIsCiAgICAgICAgIGltYWdlSXNGZXRjaGluZzogZmFsc2UsCiAgICAgIH07CiAgIH0sCiAgIGNvbXB1dGVkOiB7CiAgICAgIGltYWdlSXNTaG93aW5nKCkgewogICAgICAgICBpZiAodGhpcy5pbWFnZUlzRmV0Y2hpbmcpIHJldHVybiB0cnVlOwogICAgICAgICByZXR1cm4gISF0aGlzLmltYWdlVXJsOwogICAgICB9LAogICB9LAogICB3YXRjaDogewogICAgICBpbWFnZSgpIHsKICAgICAgICAgdGhpcy5vbkltYWdlKCk7CiAgICAgIH0sCiAgIH0sCiAgIG1ldGhvZHM6IHsKICAgICAgb25JbWFnZSgpIHsKICAgICAgICAgdGhpcy5pbWFnZVVybCA9ICIiOwogICAgICAgICBpZiAodGhpcy5pbWFnZSkgewogICAgICAgICAgICB0aGlzLmltYWdlSXNGZXRjaGluZyA9IHRydWU7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICB0aGlzLmltYWdlSXNGZXRjaGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gdGhpcy5pbWFnZS51cmwoeyBoZWlnaHQ6IDYwMCB9KTsKICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgfQogICAgICB9LAogICAgICBvbkltYWdlTW91c2VFbnRlcihldmVudCkgewogICAgICAgICB0aGlzLmltYWdlU3R5bGUuc2NhbGUgPSAiMS41IjsKICAgICAgfSwKICAgICAgb25JbWFnZU1vdXNlTW92ZShldmVudCkgewogICAgICAgICBjb25zdCB7IG9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgfSA9IGV2ZW50LnRhcmdldDsKICAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZIH0gPSBldmVudDsKICAgICAgICAgY29uc3QgY2VudGVyWCA9IG9mZnNldFdpZHRoIC8gMiwKICAgICAgICAgICAgY2VudGVyWSA9IG9mZnNldEhlaWdodCAvIDI7CgogICAgICAgICBjb25zdCBwZXJjZW50WCA9IGNlbnRlclggLSBvZmZzZXRYOwogICAgICAgICBjb25zdCBwZXJjZW50WSA9IGNlbnRlclkgLSBvZmZzZXRZOwoKICAgICAgICAgY29uc29sZS5sb2coeyBwZXJjZW50WCwgcGVyY2VudFkgfSk7CgogICAgICAgICB0aGlzLmltYWdlU3R5bGUueCA9IGAke3BlcmNlbnRYfSVgOwogICAgICAgICB0aGlzLmltYWdlU3R5bGUueSA9IGAke3BlcmNlbnRZfSVgOwogICAgICB9LAogICAgICBvbkltYWdlTW91c2VMZWF2ZShldmVudCkgewogICAgICAgICB0aGlzLmltYWdlU3R5bGUuc2NhbGUgPSAiMSI7CiAgICAgICAgIHRoaXMuaW1hZ2VTdHlsZS54ID0gIjAlIjsKICAgICAgICAgdGhpcy5pbWFnZVN0eWxlLnkgPSAiMCUiOwogICAgICB9LAogICB9LAogICBtb3VudGVkKCkgewogICAgICB0aGlzLm9uSW1hZ2UoKTsKICAgfSwKfTsK"},{"version":3,"sources":["LayoutProductViewer_ImagePreview.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LayoutProductViewer_ImagePreview.vue","sourceRoot":"src/pages/product/LayoutProductViewer","sourcesContent":["<script>\r\n   export default {\r\n      emits: [\"click-remove\", \"click-previous\", \"click-next\"],\r\n      props: {\r\n         image: { type: Object, default: () => null },\r\n\r\n         hasImagePrevious: { type: Boolean, default: false },\r\n         hasImageNext: { type: Boolean, default: false },\r\n\r\n         hasProductPrevious: { type: Boolean, default: false },\r\n         hasProductNext: { type: Boolean, default: false },\r\n\r\n         isEditable: { type: Boolean, default: false },\r\n      },\r\n      data() {\r\n         return {\r\n            imageStyle: { scale: \"1\", x: \"0%\", y: \"0%\" },\r\n            imageUrl: \"\",\r\n            imageIsFetching: false,\r\n         };\r\n      },\r\n      computed: {\r\n         imageIsShowing() {\r\n            if (this.imageIsFetching) return true;\r\n            return !!this.imageUrl;\r\n         },\r\n      },\r\n      watch: {\r\n         image() {\r\n            this.onImage();\r\n         },\r\n      },\r\n      methods: {\r\n         onImage() {\r\n            this.imageUrl = \"\";\r\n            if (this.image) {\r\n               this.imageIsFetching = true;\r\n               setTimeout(() => {\r\n                  this.imageIsFetching = false;\r\n                  this.imageUrl = this.image.url({ height: 600 });\r\n               }, 200);\r\n            }\r\n         },\r\n         onImageMouseEnter(event) {\r\n            this.imageStyle.scale = \"1.5\";\r\n         },\r\n         onImageMouseMove(event) {\r\n            const { offsetWidth, offsetHeight } = event.target;\r\n            const { offsetX, offsetY } = event;\r\n            const centerX = offsetWidth / 2,\r\n               centerY = offsetHeight / 2;\r\n\r\n            const percentX = centerX - offsetX;\r\n            const percentY = centerY - offsetY;\r\n\r\n            console.log({ percentX, percentY });\r\n\r\n            this.imageStyle.x = `${percentX}%`;\r\n            this.imageStyle.y = `${percentY}%`;\r\n         },\r\n         onImageMouseLeave(event) {\r\n            this.imageStyle.scale = \"1\";\r\n            this.imageStyle.x = \"0%\";\r\n            this.imageStyle.y = \"0%\";\r\n         },\r\n      },\r\n      mounted() {\r\n         this.onImage();\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div\r\n      :class=\"[\r\n         'LayoutProductViewerImagePreview',\r\n         `LayoutProductViewerImagePreview-${\r\n            imageIsShowing ? 'isShown' : 'isHidden'\r\n         }`,\r\n      ]\"\r\n   >\r\n      <div\r\n         :class=\"[\r\n            'LayoutProductViewerImagePreview-preview-parent',\r\n            `LayoutProductViewerImagePreview-preview-parent-${\r\n               imageUrl ? 'isShown' : 'isHidden'\r\n            }`,\r\n         ]\"\r\n      >\r\n         <img class=\"LayoutProductViewerImagePreview-preview\" :src=\"imageUrl\" />\r\n      </div>\r\n\r\n      <button\r\n         :class=\"[\r\n            'LayoutProductViewerImagePreview-arrowParent',\r\n            `LayoutProductViewerImagePreview-arrowParent-${\r\n               hasImagePrevious || hasProductPrevious ? 'isShown' : 'isHidden'\r\n            }`,\r\n            'LayoutProductViewerImagePreview-toLeft',\r\n         ]\"\r\n         @click=\"(event) => $emit('click-previous')\"\r\n      >\r\n         <img\r\n            class=\"LayoutProductViewerImagePreview-arrow\"\r\n            :src=\"host.res('icon/arrowDown-black.svg')\"\r\n         />\r\n      </button>\r\n\r\n      <button\r\n         :class=\"[\r\n            'LayoutProductViewerImagePreview-arrowParent',\r\n            `LayoutProductViewerImagePreview-arrowParent-${\r\n               hasImageNext || hasProductNext ? 'isShown' : 'isHidden'\r\n            }`,\r\n            'LayoutProductViewerImagePreview-toRight',\r\n         ]\"\r\n         @click=\"(event) => $emit('click-next')\"\r\n      >\r\n         <img\r\n            class=\"LayoutProductViewerImagePreview-arrow\"\r\n            :src=\"host.res('icon/arrowDown-black.svg')\"\r\n         />\r\n      </button>\r\n\r\n      <div\r\n         :class=\"[\r\n            'LayoutProductViewerImagePreview-tool',\r\n            `LayoutProductViewerImagePreview-tool-${\r\n               isEditable && image ? 'isShown' : 'isHidden'\r\n            }`,\r\n         ]\"\r\n      >\r\n         <div class=\"LayoutProductViewerImagePreview-tool-body\">\r\n            <button @click=\"$emit('click-remove', image)\">\r\n               <img :src=\"host.res('icon/trash-505050.svg')\" />\r\n            </button>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .LayoutProductViewerImagePreview {\r\n      height: 50vh;\r\n      max-height: 30rem;\r\n\r\n      position: relative;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      transition: var(--animation-duration);\r\n\r\n      .LayoutProductViewerImagePreview-preview-parent {\r\n         width: 100%;\r\n         height: inherit;\r\n         max-height: inherit;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n         justify-content: center;\r\n\r\n         .LayoutProductViewerImagePreview-preview {\r\n            z-index: 1;\r\n            width: fit-content;\r\n            height: inherit;\r\n            max-height: inherit;\r\n            max-width: 100%;\r\n            object-fit: contain;\r\n         }\r\n      }\r\n\r\n      .LayoutProductViewerImagePreview-arrowParent {\r\n         z-index: 2;\r\n\r\n         width: 4rem;\r\n         height: 100%;\r\n\r\n         position: absolute;\r\n         top: 0;\r\n         bottom: 0;\r\n         transition: var(--animation-duration);\r\n         background: none;\r\n         border: none;\r\n         cursor: pointer;\r\n\r\n         display: flex;\r\n         align-items: center;\r\n         justify-content: center;\r\n\r\n         .LayoutProductViewerImagePreview-arrow {\r\n            width: 1.8rem;\r\n            height: 1.8rem;\r\n            opacity: 0.66;\r\n            transition: var(--animation-duration);\r\n            pointer-events: none;\r\n         }\r\n      }\r\n      .LayoutProductViewerImagePreview-arrowParent-isHidden {\r\n         opacity: 0;\r\n         pointer-events: none;\r\n      }\r\n\r\n      .LayoutProductViewerImagePreview-toLeft {\r\n         left: 0;\r\n\r\n         .LayoutProductViewerImagePreview-arrow {\r\n            transform: rotate(90deg);\r\n         }\r\n\r\n         &:hover {\r\n            img {\r\n               transform: rotate(90deg) scale(1.3);\r\n            }\r\n         }\r\n      }\r\n      .LayoutProductViewerImagePreview-toRight {\r\n         right: 0;\r\n\r\n         .LayoutProductViewerImagePreview-arrow {\r\n            transform: rotate(-90deg);\r\n         }\r\n\r\n         &:hover {\r\n            img {\r\n               transform: rotate(-90deg) scale(1.3);\r\n            }\r\n         }\r\n      }\r\n\r\n      .LayoutProductViewerImagePreview-tool {\r\n         z-index: 3;\r\n         width: calc(100%);\r\n         height: fit-content;\r\n         padding: 1rem;\r\n         position: absolute;\r\n         left: 0;\r\n         right: 0;\r\n\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n         justify-content: center;\r\n         transition: var(--animation-duration);\r\n\r\n         .LayoutProductViewerImagePreview-tool-body {\r\n            display: flex;\r\n            flex-direction: row;\r\n            background: red;\r\n            // padding: 0.2rem 1.2rem;\r\n            background-color: hsla(0, 0%, 100%, 0.6);\r\n            border: 0.1rem solid hsla(0, 0%, 0%, 0.2);\r\n            box-shadow: 0 0 0.5rem hsla(0, 0%, 0%, 0.2);\r\n            border-radius: 0.5rem;\r\n\r\n            button {\r\n               width: 2.5rem;\r\n               height: 2.5rem;\r\n               background: none;\r\n               border: none;\r\n               display: flex;\r\n               align-items: center;\r\n               justify-content: center;\r\n               border-radius: 50%;\r\n               border-radius: 0.5rem;\r\n               transition: var(--animation-duration);\r\n               cursor: pointer;\r\n               &:hover {\r\n                  background: hsla(0, 0%, 0%, 0.2);\r\n               }\r\n               img {\r\n                  width: 1rem;\r\n                  height: 1rem;\r\n               }\r\n            }\r\n         }\r\n      }\r\n      .LayoutProductViewerImagePreview-tool-isHidden {\r\n         top: -150%;\r\n         opacity: 0;\r\n         pointer-events: none;\r\n      }\r\n   }\r\n   .LayoutProductViewerImagePreview-isShown {\r\n      height: 50vh;\r\n      max-height: 30rem;\r\n      .LayoutProductViewerImagePreview-preview-parent {\r\n         opacity: 1;\r\n      }\r\n   }\r\n   .LayoutProductViewerImagePreview-isHidden {\r\n      height: 10rem;\r\n      .LayoutProductViewerImagePreview-preview-parent {\r\n         pointer-events: none;\r\n         height: inherit;\r\n         opacity: 0;\r\n      }\r\n   }\r\n</style>\r\n"]}]}