{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\ActionBarProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\ActionBarProduct.vue","mtime":1665236869097},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBY3Rpb25iYXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vYWN0aW9uYmFyMi9BY3Rpb25iYXIudnVlIjsKaW1wb3J0IFNlYXJjaElucHV0IGZyb20gIkAvY29tcG9uZW50cy9TZWFyY2hJbnB1dC52dWUiOwppbXBvcnQgSXRlbVNlYXJjaFByb2R1Y3QgZnJvbSAiLi9JdGVtU2VhcmNoUHJvZHVjdC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICBjb21wb25lbnRzOiB7IEFjdGlvbmJhciwgU2VhcmNoSW5wdXQsIEl0ZW1TZWFyY2hQcm9kdWN0IH0sCiAgIHByb3BzOiB7CiAgICAgIHByb2R1Y3RzOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiAoKSA9PiBbXSB9LAogICAgICBsZWZ0TWVudXM6IHsgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAogICAgICByaWdodE1lbnVzOiB7IGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKICAgfSwKICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsgc2VhcmNoVGV4dDogIiIgfTsKICAgfSwKICAgY29tcHV0ZWQ6IHsKICAgICAgaXNPdmVyNTUwcHg6IChjKSA9PiBjLiRyb290LndpbmRvdy5pbm5lcldpZHRoID4gNTUwLAoKICAgICAgcGF0aHM6IChjKSA9PiBjLiRyb290LnBhdGhzLAogICAgICBsYXN0UGF0aCgpIHsKICAgICAgICAgbGV0IHsgcGF0aHMgfSA9IHRoaXM7CiAgICAgICAgIGlmICghcGF0aHMubGVuZ3RoKSByZXR1cm4gIiI7CiAgICAgICAgIHJldHVybiBwYXRoc1twYXRocy5sZW5ndGggLSAxXTsKICAgICAgfSwKICAgICAgcHJvZHVjdFNlYXJjaGVzKCkgewogICAgICAgICBjb25zdCBzdHIgPSB0aGlzLnNlYXJjaFRleHQ7CgogICAgICAgICBpZiAoIXN0cikgcmV0dXJuIFtdOwoKICAgICAgICAgY29uc3Qgc3RycyA9IHN0cgogICAgICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAuc3BsaXQoL1tccyxdKy8pCiAgICAgICAgICAgIC5maWx0ZXIoKHRleHQpID0+IHRleHQpOwoKICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdHMKICAgICAgICAgICAgLnJlZHVjZSgocmVzdWx0cywgcHJvZHVjdCkgPT4gewogICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHByb2R1Y3QudG9Db3VudChzdHJzKTsKICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMCkgcmVzdWx0cy5wdXNoKHsgY291bnQsIHByb2R1Y3QgfSk7CiAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIm9uZSBvZiBzZWFyY2ggcmVzdWx0IGZhaWxlZCIpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgICAgfSwgW10pCiAgICAgICAgICAgIC5zb3J0KChyZXN1bHQxLCByZXN1bHQyKSA9PiByZXN1bHQyLmNvdW50IC0gcmVzdWx0MS5jb3VudCkKICAgICAgICAgICAgLm1hcCgocmVzdWx0KSA9PiByZXN1bHQucHJvZHVjdCk7CiAgICAgIH0sCgogICAgICBpbml0TGVmdE1lbnVzKCkgewogICAgICAgICBjb25zdCBtZW51cyA9IFtdOwoKICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5sZWZ0TWVudXMpKSBtZW51cy5wdXNoKC4uLnRoaXMubGVmdE1lbnVzKTsKICAgICAgICAgaWYgKAogICAgICAgICAgICAhQXJyYXkuaXNBcnJheSh0aGlzLmxlZnRNZW51cykgJiYKICAgICAgICAgICAgdGhpcy5sZWZ0TWVudXMgIT09IG51bGwgJiYKICAgICAgICAgICAgdGhpcy5sZWZ0TWVudXMgIT09IHVuZGVmaW5lZAogICAgICAgICApIHsKICAgICAgICAgICAgbWVudXMucHVzaCh0aGlzLmxlZnRNZW51cyk7CiAgICAgICAgIH0KCiAgICAgICAgIGlmICh0aGlzLiRyb290Lm5hdmlnYXRpb24uaXNEcmF3ZXIoKSkgewogICAgICAgICAgICBtZW51cy5wdXNoKHsKICAgICAgICAgICAgICAga2V5OiAiaG9tZSIsCiAgICAgICAgICAgICAgIHRpdGxlOiAiSG9tZSIsCiAgICAgICAgICAgICAgIGljb246IHRoaXMuaG9zdC5yZXMoImljb24vaG9tZS0yQTQ4NTguc3ZnIiksCiAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUiKSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG1lbnVzLnB1c2goewogICAgICAgICAgICAgICBrZXk6ICJoYW1idXJnZXJNZW51IiwKICAgICAgICAgICAgICAgdGl0bGU6ICJIYW1idXJnZXIgTWVudSIsCiAgICAgICAgICAgICAgIGljb246IHRoaXMuaG9zdC5yZXMoImljb24vaGFtYnVyZ2VyTWVudS0yQTQ4NTguc3ZnIiksCiAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLiRyb290Lm9wZW5OYXZpZ2F0aW9uRHJhd2VyKCksCiAgICAgICAgICAgIH0pOwogICAgICAgICB9CgogICAgICAgICByZXR1cm4gbWVudXM7CiAgICAgIH0sCiAgICAgIGluaXRSaWdodE1lbnVzKCkgewogICAgICAgICBjb25zdCBtZW51cyA9IFtdOwoKICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5yaWdodE1lbnVzKSkgbWVudXMucHVzaCguLi50aGlzLnJpZ2h0TWVudXMpOwogICAgICAgICBpZiAoCiAgICAgICAgICAgICFBcnJheS5pc0FycmF5KHRoaXMucmlnaHRNZW51cykgJiYKICAgICAgICAgICAgdGhpcy5yaWdodE1lbnVzICE9PSBudWxsICYmCiAgICAgICAgICAgIHRoaXMucmlnaHRNZW51cyAhPT0gdW5kZWZpbmVkCiAgICAgICAgICkgewogICAgICAgICAgICBtZW51cy5wdXNoKHRoaXMucmlnaHRNZW51cyk7CiAgICAgICAgIH0KCiAgICAgICAgIG1lbnVzLnB1c2goewogICAgICAgICAgICBrZXk6ICJyZWZyZXNoIiwKICAgICAgICAgICAgdGl0bGU6ICJSZWZyZXNoIiwKICAgICAgICAgICAgaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi9yZWZyZXNoLTJBNDg1OC5zdmciKSwKICAgICAgICAgICAgY2xpY2s6ICgpID0+IHRoaXMucHJvZHVjdFN0b3JlLmRpc3BhdGNoKCJyZWZyZXNoIiksCiAgICAgICAgIH0pOwoKICAgICAgICAgcmV0dXJuIG1lbnVzOwogICAgICB9LAogICB9LAp9Owo="},{"version":3,"sources":["ActionBarProduct.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ActionBarProduct.vue","sourceRoot":"src/pages/product","sourcesContent":["<script>\r\n   import Actionbar from \"@/components/navigation/actionbar2/Actionbar.vue\";\r\n   import SearchInput from \"@/components/SearchInput.vue\";\r\n   import ItemSearchProduct from \"./ItemSearchProduct.vue\";\r\n\r\n   export default {\r\n      components: { Actionbar, SearchInput, ItemSearchProduct },\r\n      props: {\r\n         products: { type: Array, default: () => [] },\r\n         leftMenus: { default: () => null },\r\n         rightMenus: { default: () => null },\r\n      },\r\n      data() {\r\n         return { searchText: \"\" };\r\n      },\r\n      computed: {\r\n         isOver550px: (c) => c.$root.window.innerWidth > 550,\r\n\r\n         paths: (c) => c.$root.paths,\r\n         lastPath() {\r\n            let { paths } = this;\r\n            if (!paths.length) return \"\";\r\n            return paths[paths.length - 1];\r\n         },\r\n         productSearches() {\r\n            const str = this.searchText;\r\n\r\n            if (!str) return [];\r\n\r\n            const strs = str\r\n               .toLowerCase()\r\n               .split(/[\\s,]+/)\r\n               .filter((text) => text);\r\n\r\n            return this.products\r\n               .reduce((results, product) => {\r\n                  try {\r\n                     const count = product.toCount(strs);\r\n                     if (count > 0) results.push({ count, product });\r\n                  } catch (error) {\r\n                     console.error(\"one of search result failed\");\r\n                     console.error(error);\r\n                  }\r\n                  return results;\r\n               }, [])\r\n               .sort((result1, result2) => result2.count - result1.count)\r\n               .map((result) => result.product);\r\n         },\r\n\r\n         initLeftMenus() {\r\n            const menus = [];\r\n\r\n            if (Array.isArray(this.leftMenus)) menus.push(...this.leftMenus);\r\n            if (\r\n               !Array.isArray(this.leftMenus) &&\r\n               this.leftMenus !== null &&\r\n               this.leftMenus !== undefined\r\n            ) {\r\n               menus.push(this.leftMenus);\r\n            }\r\n\r\n            if (this.$root.navigation.isDrawer()) {\r\n               menus.push({\r\n                  key: \"home\",\r\n                  title: \"Home\",\r\n                  icon: this.host.res(\"icon/home-2A4858.svg\"),\r\n                  click: () => this.$router.push(\"/home\"),\r\n               });\r\n               menus.push({\r\n                  key: \"hamburgerMenu\",\r\n                  title: \"Hamburger Menu\",\r\n                  icon: this.host.res(\"icon/hamburgerMenu-2A4858.svg\"),\r\n                  click: () => this.$root.openNavigationDrawer(),\r\n               });\r\n            }\r\n\r\n            return menus;\r\n         },\r\n         initRightMenus() {\r\n            const menus = [];\r\n\r\n            if (Array.isArray(this.rightMenus)) menus.push(...this.rightMenus);\r\n            if (\r\n               !Array.isArray(this.rightMenus) &&\r\n               this.rightMenus !== null &&\r\n               this.rightMenus !== undefined\r\n            ) {\r\n               menus.push(this.rightMenus);\r\n            }\r\n\r\n            menus.push({\r\n               key: \"refresh\",\r\n               title: \"Refresh\",\r\n               icon: this.host.res(\"icon/refresh-2A4858.svg\"),\r\n               click: () => this.productStore.dispatch(\"refresh\"),\r\n            });\r\n\r\n            return menus;\r\n         },\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"ActionbarProduct\">\r\n      <Actionbar\r\n         class=\"ActionbarProduct-actionbar\"\r\n         :leftMenus=\"initLeftMenus\"\r\n         :rightMenus=\"initRightMenus\"\r\n      >\r\n         <div class=\"ActionbarProduct-search\" v-if=\"isOver550px\">\r\n            <SearchInput\r\n               class=\"ActionbarProduct-searchInput\"\r\n               placeholder=\"Search products\"\r\n               :list=\"productSearches\"\r\n               @callback-search=\"(text) => (searchText = text)\"\r\n               v-slot=\"{ list }\"\r\n            >\r\n               <router-link\r\n                  class=\"ActionbarProduct-search-item-link\"\r\n                  v-for=\"product in list\"\r\n                  :key=\"product._id\"\r\n                  :to=\"{ query: { productId: product.getId() } }\"\r\n               >\r\n                  <ItemSearchProduct\r\n                     class=\"ActionbarProduct-search-item\"\r\n                     :item=\"product\"\r\n                  />\r\n               </router-link>\r\n            </SearchInput>\r\n         </div>\r\n      </Actionbar>\r\n\r\n      <div class=\"ActionbarProduct-outside\" v-if=\"!isOver550px\">\r\n         <SearchInput\r\n            class=\"ActionbarProduct-searchInput\"\r\n            placeholder=\"Search products\"\r\n            :list=\"productSearches\"\r\n            @callback-search=\"(text) => (searchText = text)\"\r\n            v-slot=\"{ list }\"\r\n         >\r\n            <router-link\r\n               class=\"ActionbarProduct-search-item-link\"\r\n               v-for=\"product in list\"\r\n               :key=\"product._id\"\r\n               :to=\"{ query: { productId: product.getId() } }\"\r\n            >\r\n               <ItemSearchProduct\r\n                  class=\"ActionbarProduct-search-item\"\r\n                  :item=\"product\"\r\n               />\r\n            </router-link>\r\n         </SearchInput>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .ActionbarProduct {\r\n      width: 100%;\r\n      position: sticky;\r\n      top: 0;\r\n      .ActionbarProduct-actionbar {\r\n         width: 100%;\r\n\r\n         .ActionbarProduct-search {\r\n            width: 100%;\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: nowrap;\r\n            align-items: center;\r\n            justify-content: center;\r\n            gap: 0.8rem;\r\n\r\n            .ActionbarProduct-searchInput {\r\n               flex-grow: 1;\r\n               z-index: 1;\r\n               max-width: 40em;\r\n               border: none;\r\n               --background: white;\r\n               .ActionbarProduct-search-item-link {\r\n                  text-decoration: none;\r\n                  display: flex;\r\n                  width: 100%;\r\n                  .ActionbarProduct-search-item {\r\n                     width: 100%;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      }\r\n\r\n      .ActionbarProduct-outside {\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: row;\r\n         flex-wrap: nowrap;\r\n         align-items: center;\r\n         justify-content: center;\r\n         gap: 0.8rem;\r\n         background-color: #e2e8eb;\r\n\r\n         .ActionbarProduct-searchInput {\r\n            flex-grow: 1;\r\n            z-index: 1;\r\n            max-width: 40em;\r\n            border: none;\r\n            --background: white;\r\n            --border: none;\r\n            --border-radius: 0;\r\n            .ActionbarProduct-search-item-link {\r\n               text-decoration: none;\r\n               display: flex;\r\n               width: 100%;\r\n               .ActionbarProduct-search-item {\r\n                  width: 100%;\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"]}]}