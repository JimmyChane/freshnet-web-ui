{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\service\\LayoutFindCustomer.vue?vue&type=style&index=0&id=bbb81282&lang=scss&scoped=true&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\service\\LayoutFindCustomer.vue","mtime":1666962922835},{"path":"C:\\dev\\freshnet-vue\\node_modules\\css-loader\\index.js","mtime":1662650920109},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1662650934772},{"path":"C:\\dev\\freshnet-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1662650932744},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouTGF5b3V0RmluZEN1c3RvbWVyIHsKCXdpZHRoOiAxMDAlOwoJZGlzcGxheTogZmxleDsKCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CgliYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKCWJvcmRlci1yYWRpdXM6IDAuNnJlbTsKCWJveC1zaGFkb3c6IDAuMnJlbSAwLjRyZW0gMnJlbSBoc2xhKDAsIDAlLCAwJSwgMC40KTsKCW92ZXJmbG93OiBoaWRkZW47CgoJLkxheW91dEZpbmRDdXN0b21lci1ib2R5IHsKCQl3aWR0aDogMTAwJTsKCQltYXgtaGVpZ2h0OiAyMHJlbTsKCQlkaXNwbGF5OiBmbGV4OwoJCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CgkJb3ZlcmZsb3cteTogYXV0bzsKCQlwb3NpdGlvbjogcmVsYXRpdmU7CgkJcGFkZGluZy1ib3R0b206IDRyZW07CgkJLkxheW91dEZpbmRDdXN0b21lci1oZWFkZXIgewoJCQlwb3NpdGlvbjogc3RpY2t5OwoJCQl0b3A6IDA7CgkJCWRpc3BsYXk6IGZsZXg7CgkJCWZsZXgtZGlyZWN0aW9uOiByb3c7CgkJCWFsaWduLWl0ZW1zOiBjZW50ZXI7CgkJCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKCQkJYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CgkJCXBhZGRpbmc6IDFyZW07CgkJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCBoc2xhKDAsIDAlLCAwJSwgMC4xKTsKCQkJLkxheW91dEZpbmRDdXN0b21lci10aXRsZSB7CgkJCQlmb250LXNpemU6IDEuNHJlbTsKCQkJCWZvbnQtd2VpZ2h0OiA5MDA7CgkJCX0KCQkJLkxheW91dEZpbmRDdXN0b21lci1jbG9zZSB7CgkJCQl3aWR0aDogMnJlbTsKCQkJCWhlaWdodDogMnJlbTsKCQkJCWJhY2tncm91bmQ6IG5vbmU7CgkJCQlib3JkZXI6IG5vbmU7CgkJCQlib3JkZXItcmFkaXVzOiA1MCU7CgkJCQlkaXNwbGF5OiBmbGV4OwoJCQkJYWxpZ24taXRlbXM6IGNlbnRlcjsKCQkJCWp1c3RpZnktY29udGVudDogY2VudGVyOwoJCQkJY3Vyc29yOiBwb2ludGVyOwoKCQkJCSY6aG92ZXIgewoJCQkJCWJhY2tncm91bmQtY29sb3I6IGhzbGEoMCwgMCUsIDAlLCAwLjA1KTsKCQkJCX0KCgkJCQkuTGF5b3V0RmluZEN1c3RvbWVyLWNsb3NlLWltZyB7CgkJCQkJd2lkdGg6IDFyZW07CgkJCQkJaGVpZ2h0OiAxcmVtOwoJCQkJfQoJCQl9CgkJfQoKCQkuTGF5b3V0RmluZEN1c3RvbWVyLWxpc3QgewoJCQlkaXNwbGF5OiBmbGV4OwoJCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwoJCQlnYXA6IDAuMnJlbTsKCQkJcGFkZGluZzogMXJlbTsKCgkJCS5MYXlvdXRGaW5kQ3VzdG9tZXItaXRlbSB7CgkJCQlkaXNwbGF5OiBmbGV4OwoJCQkJZmxleC1kaXJlY3Rpb246IHJvdzsKCQkJCWZsZXgtd3JhcDogbm93cmFwOwoJCQkJYWxpZ24taXRlbXM6IGNlbnRlcjsKCQkJCWdhcDogMC42cmVtOwoJCQkJcGFkZGluZzogMC40cmVtOwoKCQkJCWJvcmRlcjogbm9uZTsKCQkJCWJvcmRlcjogMXB4IHNvbGlkIGhzbGEoMCwgMCUsIDAlLCAwLjEpOwoJCQkJYmFja2dyb3VuZDogbm9uZTsKCQkJCXRyYW5zaXRpb246IHZhcigtLWFuaW1hdGlvbi1kdXJhdGlvbik7CgkJCQlmb250LXNpemU6IDFyZW07CgkJCQlkaXNwbGF5OiBmbGV4OwoJCQkJY3Vyc29yOiBwb2ludGVyOwoJCQkJYm9yZGVyLXJhZGl1czogMC4ycmVtOwoJCQkJJjpob3ZlciB7CgkJCQkJYmFja2dyb3VuZC1jb2xvcjogaHNsYSgwLCAwJSwgMCUsIDAuMDUpOwoJCQkJfQoKCQkJCS5MYXlvdXRGaW5kQ3VzdG9tZXItaXRlbS1kb3QgewoJCQkJCS0tc2l6ZTogNHB4OwoJCQkJCXdpZHRoOiB2YXIoLS1zaXplKTsKCQkJCQloZWlnaHQ6IHZhcigtLXNpemUpOwoJCQkJCW1pbi13aWR0aDogdmFyKC0tc2l6ZSk7CgkJCQkJbWluLWhlaWdodDogdmFyKC0tc2l6ZSk7CgkJCQkJbWF4LXdpZHRoOiB2YXIoLS1zaXplKTsKCQkJCQltYXgtaGVpZ2h0OiB2YXIoLS1zaXplKTsKCQkJCQliYWNrZ3JvdW5kOiBoc2xhKDAsIDAlLCAwJSwgMC4yKTsKCQkJCQlib3JkZXItcmFkaXVzOiA1MCU7CgkJCQkJZGlzcGxheTogZmxleDsKCQkJCX0KCQkJfQoJCX0KCX0KfQo="},{"version":3,"sources":["LayoutFindCustomer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LayoutFindCustomer.vue","sourceRoot":"src/pages/service","sourcesContent":["<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tinputName: { type: String, default: \"\" },\r\n\t\t\tinputPhoneNumber: { type: String, default: \"\" },\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn { customerTemplates: [], customerSuggestions: [] };\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tinputName() {\r\n\t\t\t\tthis.input();\r\n\t\t\t},\r\n\t\t\tinputPhoneNumber() {\r\n\t\t\t\tthis.input();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.invalidate();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync invalidate() {\r\n\t\t\t\tthis.customerTemplates = [];\r\n\t\t\t\tthis.customerSuggestions = [];\r\n\t\t\t\tconst customers = await this.customerStore.dispatch(\r\n\t\t\t\t\t\"generateCustomersAcross\",\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.customerTemplates = customers;\r\n\t\t\t\tthis.input();\r\n\t\t\t},\r\n\r\n\t\t\tasync input() {\r\n\t\t\t\tif (this.inputName.length === 0 && this.inputPhoneNumber.length === 0) {\r\n\t\t\t\t\tthis.customerSuggestions = [];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst name = this.inputName.toLowerCase();\r\n\t\t\t\tconst phoneNumber = this.inputPhoneNumber;\r\n\r\n\t\t\t\tconst templates = this.customerTemplates.reduce(\r\n\t\t\t\t\t(templates, template) => {\r\n\t\t\t\t\t\tconst isNameInclude = template.name.toLowerCase().includes(name);\r\n\t\t\t\t\t\tconst ePhoneNumber = this.customerPhoneNumberStr(template);\r\n\t\t\t\t\t\tconst isPhoneNumberInclude = ePhoneNumber.includes(phoneNumber);\r\n\r\n\t\t\t\t\t\tif (isNameInclude && isPhoneNumberInclude) templates.push(template);\r\n\t\t\t\t\t\treturn templates;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[],\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (templates.length === 0) {\r\n\t\t\t\t\tthis.customerSuggestions = [];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (templates.length === 1) {\r\n\t\t\t\t\tconst template = templates[0];\r\n\t\t\t\t\tconst ePhoneNumber = this.customerPhoneNumberStr(template);\r\n\t\t\t\t\tif (name === template.name && phoneNumber === ePhoneNumber) {\r\n\t\t\t\t\t\tthis.customerSuggestions = templates;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.customerSuggestions = templates;\r\n\t\t\t},\r\n\r\n\t\t\tclickItem(customer) {\r\n\t\t\t\tthis.$emit(\"click-item\", customer);\r\n\t\t\t\tsetTimeout(() => (this.customerSuggestions = []), 200);\r\n\t\t\t},\r\n\t\t\tclickClose() {\r\n\t\t\t\tthis.customerSuggestions = [];\r\n\t\t\t\tthis.$emit(\"click-close\");\r\n\t\t\t},\r\n\r\n\t\t\tcustomerName(customer) {\r\n\t\t\t\treturn customer.name;\r\n\t\t\t},\r\n\t\t\tcustomerPhoneNumberStr(customer) {\r\n\t\t\t\tconst { phoneNumber } = customer;\r\n\t\t\t\treturn phoneNumber ? phoneNumber.toString() : \"\";\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"LayoutFindCustomer\" v-if=\"customerSuggestions.length\">\r\n\t\t<div class=\"LayoutFindCustomer-body\">\r\n\t\t\t<div class=\"LayoutFindCustomer-header\">\r\n\t\t\t\t<span class=\"LayoutFindCustomer-title\">Find Customers</span>\r\n\t\t\t\t<button class=\"LayoutFindCustomer-close\" @click=\"() => clickClose()\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclass=\"LayoutFindCustomer-close-img\"\r\n\t\t\t\t\t\t:src=\"host.res('icon/close-000000.svg')\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"LayoutFindCustomer-list\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"LayoutFindCustomer-item\"\r\n\t\t\t\t\tv-for=\"customerSuggestion of customerSuggestions\"\r\n\t\t\t\t\t:key=\"`${customerSuggestion.name}${\r\n\t\t\t\t\t\tcustomerSuggestion.phoneNumber\r\n\t\t\t\t\t\t\t? customerSuggestion.phoneNumber.toString()\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t}`\"\r\n\t\t\t\t\t@click=\"() => clickItem(customerSuggestion)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class=\"LayoutFindCustomer-item-name\">{{\r\n\t\t\t\t\t\tcustomerSuggestion.name\r\n\t\t\t\t\t}}</span>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"LayoutFindCustomer-item-dot\"\r\n\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\tcustomerSuggestion.name &&\r\n\t\t\t\t\t\t\tcustomerPhoneNumberStr(customerSuggestion)\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t></div>\r\n\t\t\t\t\t<span class=\"LayoutFindCustomer-item-phoneNumber\">{{\r\n\t\t\t\t\t\tcustomerSuggestion.phoneNumber\r\n\t\t\t\t\t\t\t? customerSuggestion.phoneNumber.toString()\r\n\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t}}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.LayoutFindCustomer {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 0.6rem;\r\n\t\tbox-shadow: 0.2rem 0.4rem 2rem hsla(0, 0%, 0%, 0.4);\r\n\t\toverflow: hidden;\r\n\r\n\t\t.LayoutFindCustomer-body {\r\n\t\t\twidth: 100%;\r\n\t\t\tmax-height: 20rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\toverflow-y: auto;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding-bottom: 4rem;\r\n\t\t\t.LayoutFindCustomer-header {\r\n\t\t\t\tposition: sticky;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tpadding: 1rem;\r\n\t\t\t\tborder-bottom: 1px solid hsla(0, 0%, 0%, 0.1);\r\n\t\t\t\t.LayoutFindCustomer-title {\r\n\t\t\t\t\tfont-size: 1.4rem;\r\n\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t}\r\n\t\t\t\t.LayoutFindCustomer-close {\r\n\t\t\t\t\twidth: 2rem;\r\n\t\t\t\t\theight: 2rem;\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tcursor: pointer;\r\n\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tbackground-color: hsla(0, 0%, 0%, 0.05);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.LayoutFindCustomer-close-img {\r\n\t\t\t\t\t\twidth: 1rem;\r\n\t\t\t\t\t\theight: 1rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.LayoutFindCustomer-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 0.2rem;\r\n\t\t\t\tpadding: 1rem;\r\n\r\n\t\t\t\t.LayoutFindCustomer-item {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\tflex-wrap: nowrap;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 0.6rem;\r\n\t\t\t\t\tpadding: 0.4rem;\r\n\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tborder: 1px solid hsla(0, 0%, 0%, 0.1);\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\ttransition: var(--animation-duration);\r\n\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\tborder-radius: 0.2rem;\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tbackground-color: hsla(0, 0%, 0%, 0.05);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.LayoutFindCustomer-item-dot {\r\n\t\t\t\t\t\t--size: 4px;\r\n\t\t\t\t\t\twidth: var(--size);\r\n\t\t\t\t\t\theight: var(--size);\r\n\t\t\t\t\t\tmin-width: var(--size);\r\n\t\t\t\t\t\tmin-height: var(--size);\r\n\t\t\t\t\t\tmax-width: var(--size);\r\n\t\t\t\t\t\tmax-height: var(--size);\r\n\t\t\t\t\t\tbackground: hsla(0, 0%, 0%, 0.2);\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}