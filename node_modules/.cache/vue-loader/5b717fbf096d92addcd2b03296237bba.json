{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\PageProductBrowse.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\PageProductBrowse.vue","mtime":1663165604415},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBcHBIb3N0IGZyb20gIkAvaG9zdC9BcHBIb3N0LmpzIjsKCmltcG9ydCBBY3Rpb25iYXJQcm9kdWN0IGZyb20gIkAvcGFnZXMvcHJvZHVjdC9BY3Rpb25CYXJQcm9kdWN0LnZ1ZSI7CmltcG9ydCBMb2FkaW5ndjEgZnJvbSAiQC9jb21wb25lbnRzL2xvYWRpbmcvTG9hZGluZ3YxIjsKaW1wb3J0IEVtcHR5IGZyb20gIkAvY29tcG9uZW50cy9FbXB0eS52dWUiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvRm9vdGVyLnZ1ZSI7CgppbXBvcnQgUmlnaHREcmF3ZXIgZnJvbSAiQC9jb21wb25lbnRzL2RyYXdlci9SaWdodERyYXdlci52dWUiOwoKaW1wb3J0IFBhbmVsUHJvZHVjdHMgZnJvbSAiLi9QYW5lbFByb2R1Y3RzLnZ1ZSI7CmltcG9ydCBQYW5lbFByb2R1Y3QgZnJvbSAiLi9QYW5lbFByb2R1Y3QudnVlIjsKCmltcG9ydCBJdGVtRmxvYXRpbmdDb250YWN0TGluayBmcm9tICIuL0l0ZW1GbG9hdGluZ0NvbnRhY3RMaW5rLnZ1ZSI7CgppbXBvcnQgV2luZG93QWRkUHJvZHVjdCBmcm9tICIuL1dpbmRvd0FkZFByb2R1Y3QudnVlIjsKaW1wb3J0IFdpbmRvd1JlbW92ZVByb2R1Y3QgZnJvbSAiLi9XaW5kb3dSZW1vdmVQcm9kdWN0LnZ1ZSI7CmltcG9ydCBXaW5kb3dSZW1vdmVJbWFnZSBmcm9tICIuL1dpbmRvd1JlbW92ZUltYWdlLnZ1ZSI7CmltcG9ydCBXaW5kb3dVcGRhdGVUaXRsZUJyYW5kIGZyb20gIi4vV2luZG93VXBkYXRlVGl0bGVCcmFuZC52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlUHJpY2UgZnJvbSAiLi9XaW5kb3dVcGRhdGVQcmljZS52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlRGVzY3JpcHRpb24gZnJvbSAiLi9XaW5kb3dVcGRhdGVEZXNjcmlwdGlvbi52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlQ2F0ZWdvcnkgZnJvbSAiLi9XaW5kb3dVcGRhdGVDYXRlZ29yeS52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlU3BlY2lmaWNhdGlvbnMgZnJvbSAiLi9XaW5kb3dVcGRhdGVTcGVjaWZpY2F0aW9ucy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICBrZXk6ICJicm93c2UiLAogICByZXNvdXJjZTogewogICAgICB0aXRsZTogIkJyb3dzZSBQcm9kdWN0IiwKICAgICAgaWNvbjogeyBsaWdodDogInNlYXJjaC1GRkZGRkYiLCBkYXJrOiAic2VhcmNoLTJBNDg1OCIgfSwKICAgfSwKICAgY29tcG9uZW50czogewogICAgICBBY3Rpb25iYXJQcm9kdWN0LAogICAgICBMb2FkaW5ndjEsCiAgICAgIEVtcHR5LAogICAgICBGb290ZXIsCgogICAgICBSaWdodERyYXdlciwKICAgICAgUGFuZWxQcm9kdWN0cywKICAgICAgUGFuZWxQcm9kdWN0LAoKICAgICAgSXRlbUZsb2F0aW5nQ29udGFjdExpbmssCgogICAgICBXaW5kb3dBZGRQcm9kdWN0LAogICAgICBXaW5kb3dSZW1vdmVQcm9kdWN0LAogICAgICBXaW5kb3dSZW1vdmVJbWFnZSwKICAgICAgV2luZG93VXBkYXRlVGl0bGVCcmFuZCwKICAgICAgV2luZG93VXBkYXRlUHJpY2UsCiAgICAgIFdpbmRvd1VwZGF0ZURlc2NyaXB0aW9uLAogICAgICBXaW5kb3dVcGRhdGVDYXRlZ29yeSwKICAgICAgV2luZG93VXBkYXRlU3BlY2lmaWNhdGlvbnMsCiAgIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIHNjcm9sbFRvcDogMCwKICAgICAgICAgcG9wdXA6IHsKICAgICAgICAgICAgcHJvZHVjdEFkZDogewogICAgICAgICAgICAgICBjb250ZXh0OiBudWxsLAogICAgICAgICAgICAgICBpc1Nob3dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICBpbnB1dDogbnVsbCwKCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKG91dHB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHJvZHVjdFN0b3JlCiAgICAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgiYWRkUHJvZHVjdCIsIHsgZGF0YTogb3V0cHV0IH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzcygpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc2V0UHJvZHVjdChwcm9kdWN0KTsKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIlByb2R1Y3QgQ3JlYXRpb24gRmFpbGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZHVjdFJlbW92ZTogewogICAgICAgICAgICAgICBjb250ZXh0OiBudWxsLAogICAgICAgICAgICAgICBpc1Nob3dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICBpbnB1dDogbnVsbCwKCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJkZWxldGVQcm9kdWN0YnlJRCIsIHsgaWQ6IGlucHV0LnByb2R1Y3RJZCB9KQogICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzcygpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc2V0UHJvZHVjdChudWxsKTsKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIlByb2R1Y3QgRGVsZXRpb24gRmFpbGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZHVjdEltYWdlUmVtb3ZlOiB7CiAgICAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsCiAgICAgICAgICAgICAgIGlzU2hvd2luZzogZmFsc2UsCiAgICAgICAgICAgICAgIGlucHV0OiBudWxsLAoKICAgICAgICAgICAgICAgc2hvdyhpbnB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgZGlzbWlzcygpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNvbmZpcm0oaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgbGV0IHsgcHJvZHVjdCwgaW1hZ2UgfSA9IGlucHV0OwoKICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnByb2R1Y3RTdG9yZQogICAgICAgICAgICAgICAgICAgICAuZGlzcGF0Y2goImRlbGV0ZUltYWdlT2ZQcm9kdWN0SWQiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5nZXRJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSwKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5kaXNtaXNzKCkpOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0VGl0bGVCcmFuZFVwZGF0ZTogewogICAgICAgICAgICAgICBjb250ZXh0OiBudWxsLAogICAgICAgICAgICAgICBpc1Nob3dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICBpbnB1dDogbnVsbCwKCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHRpdGxlLCBicmFuZElkIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVUaXRsZU9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnByb2R1Y3RTdG9yZQogICAgICAgICAgICAgICAgICAgICAuZGlzcGF0Y2goInVwZGF0ZUJyYW5kSWRPZlByb2R1Y3RJZCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0LmdldElkKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kSWQsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0UHJpY2VVcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHByaWNlIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVQcmljZU9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2UsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0RGVzY3JpcHRpb25VcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIGRlc2NyaXB0aW9uIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVEZXNjcmlwdGlvbk9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0U3BlY2lmaWNhdGlvbnNVcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHNwZWNpZmljYXRpb25zIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVTcGVjaWZpY2F0aW9uc09mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNhdGlvbnM6IHNwZWNpZmljYXRpb25zLm1hcCgoc3BlY2lmaWNhdGlvbikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBzcGVjaWZpY2F0aW9uLnR5cGVLZXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHNwZWNpZmljYXRpb24uY29udGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0Q2F0ZWdvcnlVcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIGNhdGVnb3J5SWQgfSA9IGlucHV0OwoKICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnByb2R1Y3RTdG9yZQogICAgICAgICAgICAgICAgICAgICAuZGlzcGF0Y2goInVwZGF0ZUNhdGVnb3J5SWRPZlByb2R1Y3RJZCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0LmdldElkKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICB9LAogICAgICB9OwogICB9LAogICBjb21wdXRlZDogewogICAgICBpc0VkaXRhYmxlKCkgewogICAgICAgICBjb25zdCB7IHVzZXIgfSA9IHRoaXMubG9naW5TdG9yZS5nZXR0ZXJzOwogICAgICAgICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTsKICAgICAgICAgcmV0dXJuIHVzZXIuaXNUeXBlQWRtaW4oKSB8fCB1c2VyLmlzVHlwZVN0YWZmKCk7CiAgICAgIH0sCgogICAgICBwYXRoczogKGMpID0+IGMuJHJvb3QucGF0aHMsCiAgICAgIGxhc3RQYXRoOiAoYykgPT4gewogICAgICAgICBsZXQgeyBwYXRocyB9ID0gYzsKICAgICAgICAgaWYgKCFwYXRocy5sZW5ndGgpIHJldHVybiAiIjsKICAgICAgICAgcmV0dXJuIHBhdGhzW3BhdGhzLmxlbmd0aCAtIDFdOwogICAgICB9LAoKICAgICAgaXNMb2FkaW5nOiAoYykgPT4gYy5wcm9kdWN0U3RvcmUuZ2V0dGVycy5pc0xvYWRpbmcsCgogICAgICBjYXRlZ29yeUtleTogKGMpID0+IGMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeSwKICAgICAgZ3JvdXBzOiAoYykgPT4gewogICAgICAgICBsZXQgZ3JvdXBzID0gYy5wcm9kdWN0U3RvcmUuZ2V0dGVycy5ncm91cHMyLm1hcCgoZ3JvdXApID0+IHsKICAgICAgICAgICAgaWYgKGMuaXNFZGl0YWJsZSkgewogICAgICAgICAgICAgICBncm91cC5wcm9kdWN0cyA9IGdyb3VwLnByb2R1Y3RzLnNvcnQoKHByb2R1Y3QxLCBwcm9kdWN0MikgPT4KICAgICAgICAgICAgICAgICAgcHJvZHVjdDEuY29tcGFyZShwcm9kdWN0MikKICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBncm91cC5wcm9kdWN0cyA9IGdyb3VwLnByb2R1Y3RzCiAgICAgICAgICAgICAgIC5maWx0ZXIoKHByb2R1Y3QpID0+IHByb2R1Y3QuaXNTdG9ja0F2YWlsYWJsZSgpKQogICAgICAgICAgICAgICAuc29ydCgocHJvZHVjdDEsIHByb2R1Y3QyKSA9PiBwcm9kdWN0MS5jb21wYXJlKHByb2R1Y3QyKSk7CgogICAgICAgICAgICByZXR1cm4gZ3JvdXA7CiAgICAgICAgIH0pOwoKICAgICAgICAgaWYgKCFjLmlzRWRpdGFibGUpIHsKICAgICAgICAgICAgZ3JvdXBzID0gZ3JvdXBzLmZpbHRlcigoZ3JvdXApID0+IGdyb3VwLnByb2R1Y3RzLmxlbmd0aCk7CiAgICAgICAgIH0KCiAgICAgICAgIGdyb3VwcyA9IGdyb3Vwcy5zb3J0KChncm91cDEsIGdyb3VwMikgPT4KICAgICAgICAgICAgZ3JvdXAxLmNhdGVnb3J5LmNvbXBhcmUoZ3JvdXAyLmNhdGVnb3J5KQogICAgICAgICApOwoKICAgICAgICAgcmV0dXJuIGdyb3VwczsKICAgICAgfSwKCiAgICAgIHByb2R1Y3RzOiAoYykgPT4gewogICAgICAgICByZXR1cm4gYy5ncm91cHMucmVkdWNlKChwcm9kdWN0cywgZ3JvdXApID0+IHsKICAgICAgICAgICAgcHJvZHVjdHMucHVzaCguLi5ncm91cC5wcm9kdWN0cyk7CiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0czsKICAgICAgICAgfSwgW10pOwogICAgICB9LAoKICAgICAgcHJvZHVjdDogKGMpID0+IHsKICAgICAgICAgcmV0dXJuIGMucHJvZHVjdFN0b3JlLmdldHRlcnMucHJvZHVjdHMuZmluZCgocHJvZHVjdCkgPT4gewogICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5nZXRJZCgpID09PSBjLnByb2R1Y3RJZDsKICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RJZDogKGMpID0+IGMuJHJvdXRlLnF1ZXJ5LnByb2R1Y3RJZCwKICAgICAgcHJvZHVjdFRpdGxlOiAoYykgPT4gKGMucHJvZHVjdCA/IGMucHJvZHVjdC5nZXRUaXRsZSgpIDogIiIpLAogICAgICBwcm9kdWN0QnJhbmRJZDogKGMpID0+IChjLnByb2R1Y3QgPyBjLnByb2R1Y3QuZ2V0QnJhbmRJZCgpIDogIiIpLAogICAgICBwcm9kdWN0QnJhbmQ6IChjKSA9PgogICAgICAgICBjLmJyYW5kU3RvcmUuZ2V0dGVycy5pdGVtcy5maW5kKAogICAgICAgICAgICAoYnJhbmQpID0+IGJyYW5kLmdldElkKCkgPT09IGMucHJvZHVjdEJyYW5kSWQKICAgICAgICAgKSwKICAgICAgcHJvZHVjdEJyYW5kVGl0bGU6IChjKSA9PiAoYy5wcm9kdWN0QnJhbmQgPyBjLnByb2R1Y3RCcmFuZC5nZXRUaXRsZSgpIDogIiIpLAoKICAgICAgcHJvZHVjdFByZXZpb3VzOiAoYykgPT4gewogICAgICAgICBjb25zdCBwcm9kdWN0cyA9IGMucHJvZHVjdHM7CiAgICAgICAgIGNvbnN0IGNhdGVnb3J5UHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoKHByb2R1Y3QpID0+IHsKICAgICAgICAgICAgaWYgKCFjLnByb2R1Y3QpIHJldHVybiB0cnVlOwogICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5jYXRlZ29yeSA9PT0gYy5wcm9kdWN0LmNhdGVnb3J5OwogICAgICAgICB9KTsKCiAgICAgICAgIGxldCBwcm9kdWN0SW5kZXggPSBjYXRlZ29yeVByb2R1Y3RzLmluZGV4T2YoYy5wcm9kdWN0KTsKICAgICAgICAgbGV0IHByb2R1Y3RQcmV2aW91c0luZGV4ID0gcHJvZHVjdEluZGV4IC0gMTsKICAgICAgICAgaWYgKAogICAgICAgICAgICAwIDw9IHByb2R1Y3RQcmV2aW91c0luZGV4ICYmCiAgICAgICAgICAgIHByb2R1Y3RQcmV2aW91c0luZGV4IDw9IGNhdGVnb3J5UHJvZHVjdHMubGVuZ3RoIC0gMQogICAgICAgICApIHsKICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5UHJvZHVjdHNbcHJvZHVjdFByZXZpb3VzSW5kZXhdOwogICAgICAgICB9CgogICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSwKICAgICAgcHJvZHVjdE5leHQ6IChjKSA9PiB7CiAgICAgICAgIGNvbnN0IHByb2R1Y3RzID0gYy5wcm9kdWN0czsKICAgICAgICAgY29uc3QgY2F0ZWdvcnlQcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcigocHJvZHVjdCkgPT4gewogICAgICAgICAgICBpZiAoIWMucHJvZHVjdCkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0LmNhdGVnb3J5ID09PSBjLnByb2R1Y3QuY2F0ZWdvcnk7CiAgICAgICAgIH0pOwoKICAgICAgICAgbGV0IHByb2R1Y3RJbmRleCA9IGNhdGVnb3J5UHJvZHVjdHMuaW5kZXhPZihjLnByb2R1Y3QpOwogICAgICAgICBsZXQgcHJvZHVjdE5leHRJbmRleCA9IHByb2R1Y3RJbmRleCArIDE7CiAgICAgICAgIGlmICgKICAgICAgICAgICAgMCA8PSBwcm9kdWN0TmV4dEluZGV4ICYmCiAgICAgICAgICAgIHByb2R1Y3ROZXh0SW5kZXggPD0gY2F0ZWdvcnlQcm9kdWN0cy5sZW5ndGggLSAxCiAgICAgICAgICkgewogICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlQcm9kdWN0c1twcm9kdWN0TmV4dEluZGV4XTsKICAgICAgICAgfQoKICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0sCgogICAgICBwcm9kdWN0TGluazogKGMpID0+IHsKICAgICAgICAgbGV0IHsgcHJvZHVjdCB9ID0gYzsKICAgICAgICAgaWYgKCFwcm9kdWN0KSByZXR1cm4gIiI7CiAgICAgICAgIHJldHVybiBgJHtBcHBIb3N0LnBhdGh9L2l0ZW0vaWQvJHtwcm9kdWN0LmdldElkKCl9YDsKICAgICAgfSwKCiAgICAgIHRpdGxlOiAoYykgPT4gewogICAgICAgICBpZiAoYy5wcm9kdWN0VGl0bGUgJiYgYy5wcm9kdWN0QnJhbmRUaXRsZSkKICAgICAgICAgICAgcmV0dXJuIGAke2MucHJvZHVjdEJyYW5kVGl0bGV9ICR7Yy5wcm9kdWN0VGl0bGV9YDsKICAgICAgICAgaWYgKGMucHJvZHVjdFRpdGxlKSByZXR1cm4gYy5wcm9kdWN0VGl0bGU7CiAgICAgICAgIGlmIChjLnByb2R1Y3RCcmFuZFRpdGxlKSByZXR1cm4gYy5wcm9kdWN0QnJhbmRUaXRsZTsKICAgICAgICAgcmV0dXJuICIiOwogICAgICB9LAogICAgICB3aGF0c2FwcExpbms6IChjKSA9PiB7CiAgICAgICAgIGxldCBwaG9uZSA9ICI2MDE2Nzk1OTQ0NCI7CgogICAgICAgICBsZXQgeyBwcm9kdWN0IH0gPSBjOwogICAgICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICAgICAgcmV0dXJuIGBodHRwczovL2FwaS53aGF0c2FwcC5jb20vc2VuZD9waG9uZT0ke3Bob25lfWA7CiAgICAgICAgIH0KCiAgICAgICAgIGlmICghYy50aXRsZSkgewogICAgICAgICAgICBjLiRyb290LmZlZWRiYWNrKCJDb3VsZCBub3QgY29udGFjdCB3aGF0c2FwcCIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KCiAgICAgICAgIHBob25lID0gZW5jb2RlVVJJQ29tcG9uZW50KHBob25lKTsKCiAgICAgICAgIGxldCB0ZXh0ID0gYEhpLCBJIGFtIGludGVyZXN0ZWQgaW4gdGhpcyBwcm9kdWN0YDsKICAgICAgICAgaWYgKGMudGl0bGUpIHsKICAgICAgICAgICAgdGV4dCArPSBgXG5cbiR7Yy50aXRsZX1gOwogICAgICAgICB9CiAgICAgICAgIGlmIChjLnByb2R1Y3RMaW5rKSB7CiAgICAgICAgICAgIHRleHQgKz0gYFxuJHtjLnByb2R1Y3RMaW5rfWA7CiAgICAgICAgIH0KICAgICAgICAgdGV4dCA9IGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KTsKCiAgICAgICAgIHJldHVybiBgaHR0cHM6Ly9hcGkud2hhdHNhcHAuY29tL3NlbmQ/cGhvbmU9JHtwaG9uZX0mdGV4dD0ke3RleHR9YDsKICAgICAgfSwKCiAgICAgIHBvcHVwV2luZG93OiAoYykgPT4gewogICAgICAgICByZXR1cm4gewogICAgICAgICAgICBvcGVuQWRkUHJvZHVjdDogKCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RBZGQuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblJlbW92ZVByb2R1Y3Q6IChwcm9kdWN0KSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdERlbGV0ZS5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3REZWxldGUudmFsdWUgPSBwcm9kdWN0OwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuVmlld0ltYWdlOiAoaW1hZ2UpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0SW1hZ2VWaWV3LnZhbHVlID0gaW1hZ2U7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEltYWdlVmlldy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuUmVtb3ZlSW1hZ2U6IChpbWFnZSkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RJbWFnZURlbGV0ZS52YWx1ZSA9IGltYWdlOwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RJbWFnZURlbGV0ZS5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuVXBkYXRlVGl0bGU6ICh0aXRsZSkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RUaXRsZUVkaXQudmFsdWUgPSB0aXRsZTsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0VGl0bGVFZGl0LmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5VcGRhdGVCcmFuZDogKGJyYW5kKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEJyYW5kRWRpdC52YWx1ZSA9IGJyYW5kOwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RCcmFuZEVkaXQuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblVwZGF0ZUNhdGVnb3J5OiAoY2F0ZWdvcnkpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0Q2F0ZWdvcnlFZGl0LnZhbHVlID0gY2F0ZWdvcnk7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdENhdGVnb3J5RWRpdC5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuVXBkYXRlRGVzY3JpcHRpb246IChkZXNjcmlwdGlvbikgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3REZXNjcmlwdGlvbkVkaXQudmFsdWUgPSBkZXNjcmlwdGlvbjsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0RGVzY3JpcHRpb25FZGl0LmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5BZGRTcGVjaWZpY2F0aW9uOiAoKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFNwZWNpZmljYXRpb25BZGQuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblJlbW92ZVNwZWNpZmljYXRpb246IChzcGVjaWZpY2F0aW9uKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFNwZWNpZmljYXRpb25EZWxldGUuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblVwZGF0ZVNwZWNpZmljYXRpb25zOiAoc3BlY2lmaWNhdGlvbnMpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0U3BlY2lmaWNhdGlvblVwZGF0ZS52YWx1ZSA9IHNwZWNpZmljYXRpb25zOwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RTcGVjaWZpY2F0aW9uVXBkYXRlLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5BZGRCdW5kbGU6ICgpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0QnVuZGxlQWRkLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5SZW1vdmVCdW5kbGU6IChidW5kbGUpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0QnVuZGxlRGVsZXRlLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5BZGRHaWZ0OiAoKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEdpZnRBZGQuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblJlbW92ZUdpZnQ6IChnaWZ0KSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEdpZnREZWxldGUuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlbkFkZFByaWNlOiAoKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFByaWNlQWRkLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5SZW1vdmVQcmljZTogKHByaWNlKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFByaWNlRGVsZXRlLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgIH07CiAgICAgIH0sCgogICAgICBpc092ZXI5MDBweDogKGMpID0+IGMuJHJvb3Qud2luZG93LmlubmVyV2lkdGggPiA5MDAsCiAgICAgIGlzT3ZlcjEyMDBweDogKGMpID0+IGMuJHJvb3Qud2luZG93LmlubmVyV2lkdGggPiAxMjAwLAogICB9LAogICBtZXRob2RzOiB7CiAgICAgIHNldFByb2R1Y3QocHJvZHVjdCkgewogICAgICAgICB0aGlzLnNldFByb2R1Y3RJZChwcm9kdWN0ID8gcHJvZHVjdC5nZXRJZCgpIDogbnVsbCk7CiAgICAgIH0sCiAgICAgIHNldFByb2R1Y3RJZChwcm9kdWN0SWQpIHsKICAgICAgICAgdGhpcy4kcm9vdC5uZXh0Um91dGUoewogICAgICAgICAgICBxdWVyeTogeyBwcm9kdWN0SWQ6IHByb2R1Y3RJZCA/IHByb2R1Y3RJZCA6IG51bGwgfSwKICAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICBjbGlja0xvZ291dCgpIHsKICAgICAgICAgdGhpcy51c2VyU3RvcmUuZGlzcGF0Y2goImxvZ291dCIpLnRoZW4oKHVzZXIpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm9vdC5mZWVkYmFjayhgJHt1c2VyLm5hbWV9IGlzIG5vdyBsb2dnZWQgb3V0YCk7CiAgICAgICAgIH0pOwogICAgICB9LAogICB9LAogICBjcmVhdGVkKCkgewogICAgICBPYmplY3Qua2V5cyh0aGlzLnBvcHVwKS5mb3JFYWNoKChrZXkpID0+ICh0aGlzLnBvcHVwW2tleV0uY29udGV4dCA9IHRoaXMpKTsKICAgfSwKICAgbW91bnRlZCgpIHsKICAgICAgdGhpcy5wcm9kdWN0U3RvcmUuZGlzcGF0Y2goImdldFByb2R1Y3RzR3JvdXBCeUNhdGVnb3JpZXMiKTsKICAgICAgdGhpcy4kcm9vdC5hcHBMYXlvdXQuc2V0TGF5b3V0KHRoaXMuJHJvb3QuQVBQX0xBWU9VVF9NT0RFLkZVTEwpOwogICAgICB0aGlzLiRyb290Lm5hdmlnYXRpb24uc2V0TGF5b3V0KHRoaXMuJHJvb3QuRFJBV0VSX0xBWU9VVC5USElOKTsKICAgfSwKfTsK"},null]}