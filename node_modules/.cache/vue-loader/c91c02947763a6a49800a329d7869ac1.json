{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\service\\WindowAddService.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\service\\WindowAddService.vue","mtime":1666963105089},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBXaW5kb3cgZnJvbSAiQC9jb21wb25lbnRzL3dpbmRvdy9XaW5kb3cudnVlIjsKaW1wb3J0IElucHV0IGZyb20gIkAvY29tcG9uZW50cy9JbnB1dC52dWUiOwppbXBvcnQgVGV4dEFyZWEgZnJvbSAiQC9jb21wb25lbnRzL0lucHV0VGV4dEFyZWEudnVlIjsKaW1wb3J0IEJlbG9uZ2luZ0xpc3RFZGl0IGZyb20gIi4vQmVsb25naW5nTGlzdEVkaXQudnVlIjsKaW1wb3J0IExheW91dEZpbmRDdXN0b21lciBmcm9tICIuL0xheW91dEZpbmRDdXN0b21lci52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewoJY29tcG9uZW50czogewoJCVdpbmRvdywKCQlJbnB1dCwKCQlUZXh0QXJlYSwKCQlCZWxvbmdpbmdMaXN0RWRpdCwKCQlMYXlvdXRGaW5kQ3VzdG9tZXIsCgl9LAoJZW1pdHM6IFsiY2FsbGJhY2stY3JlYXRlIiwgImNhbGxiYWNrLWNhbmNlbCJdLAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQluYW1lT2ZVc2VyOiAidW5rbm93biIsCgkJCWRhdGE6IHsKCQkJCWN1c3RvbWVyTmFtZTogIiIsCgkJCQljdXN0b21lclBob25lTnVtYmVyOiAiIiwKCQkJCWJlbG9uZ2luZ3M6IFtdLAoJCQkJZGVzY3JpcHRpb246ICIiLAoJCQl9LAoJCX07Cgl9LAoJY29tcHV0ZWQ6IHsKCQl1c2VyOiAoYykgPT4gYy5sb2dpblN0b3JlLmdldHRlcnMudXNlciwKCQl1c2VySXNBZG1pbjogKGMpID0+IHsKCQkJaWYgKCFjLnVzZXIpIHJldHVybiBmYWxzZTsKCQkJcmV0dXJuIGMudXNlci5pc1R5cGVBZG1pbigpICYmIGMudXNlci51c2VybmFtZSA9PT0gImFkbWluIjsKCQl9LAoJCXVzZXJJc1N0YWZmOiAoYykgPT4gewoJCQlpZiAoIWMudXNlcikgcmV0dXJuIGZhbHNlOwoJCQlyZXR1cm4gYy51c2VyLmlzVHlwZVN0YWZmKCkgJiYgYy51c2VyLnVzZXJuYW1lID09PSAic3RhZmYiOwoJCX0sCgkJdXNlcklzRGVmYXVsdDogKGMpID0+IGMudXNlcklzQWRtaW4gfHwgYy51c2VySXNTdGFmZiwKCQluYW1lVXNlclR5cGU6IChjKSA9PiB7CgkJCWlmICghYy51c2VyKSByZXR1cm4gIiI7CgkJCWlmIChjLnVzZXIuaXNUeXBlQWRtaW4oKSkgcmV0dXJuICJhZG1pbiI7CgkJCWlmIChjLnVzZXIuaXNUeXBlU3RhZmYoKSkgcmV0dXJuICJzdGFmZiI7CgkJCXJldHVybiAidW5rbm93biI7CgkJfSwKCX0sCgl3YXRjaDogewoJCXVzZXIoKSB7CgkJCWxldCB1c2VyID0gdGhpcy51c2VyOwoJCQlpZiAodXNlcikgewoJCQkJdGhpcy5uYW1lT2ZVc2VyID0gdGhpcy51c2VySXNEZWZhdWx0ID8gIiIgOiB1c2VyLm5hbWU7CgkJCX0KCQl9LAoJfSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5vblJlc2V0KCk7CgkJdGhpcy5vblVzZXIoKTsKCX0sCgltZXRob2RzOiB7CgkJY2xpY2tDdXN0b21lclN1Z2dlc3Rpb24oY3VzdG9tZXIpIHsKCQkJdGhpcy5kYXRhLmN1c3RvbWVyTmFtZSA9IGN1c3RvbWVyLm5hbWU7CgkJCXRoaXMuZGF0YS5jdXN0b21lclBob25lTnVtYmVyID0gY3VzdG9tZXIucGhvbmVOdW1iZXIKCQkJCT8gY3VzdG9tZXIucGhvbmVOdW1iZXIudG9TdHJpbmcoKQoJCQkJOiAiIjsKCQl9LAoKCQlvblVzZXIoKSB7CgkJCXRoaXMubG9naW5TdG9yZS5kaXNwYXRjaCgicmVmcmVzaCIpOwoJCX0sCgkJb25SZXNldCgpIHsKCQkJdGhpcy5kYXRhID0gewoJCQkJY3VzdG9tZXJOYW1lOiAiIiwKCQkJCWN1c3RvbWVyUGhvbmVOdW1iZXI6ICIiLAoJCQkJYmVsb25naW5nczogW10sCgkJCQlkZXNjcmlwdGlvbjogIiIsCgkJCX07CgkJfSwKCQlvbkNyZWF0ZSgpIHsKCQkJY29uc3QgZGF0YSA9IHsKCQkJCWN1c3RvbWVyOiB7CgkJCQkJbmFtZTogdGhpcy5kYXRhLmN1c3RvbWVyTmFtZS50cmltKCksCgkJCQkJcGhvbmVOdW1iZXI6IHRoaXMuZGF0YS5jdXN0b21lclBob25lTnVtYmVyLnRyaW0oKSwKCQkJCX0sCgkJCQlkZXNjcmlwdGlvbjogdGhpcy5kYXRhLmRlc2NyaXB0aW9uLnRyaW0oKSwKCQkJCWJlbG9uZ2luZ3M6IHRoaXMuJHJlZnMuQmVsb25naW5nTGlzdEVkaXQuZ2V0UmVzdWx0cygpLAoJCQl9OwoKCQkJaWYgKHRoaXMudXNlcklzRGVmYXVsdCAmJiAhdGhpcy5uYW1lT2ZVc2VyLnRyaW0oKSkgewoJCQkJdGhpcy4kcm9vdC5mZWVkYmFjaygiWW91IG11c3Qgc3BlY2lmeSB5b3VyIG5hbWUiKTsKCQkJfSBlbHNlIGlmICghZGF0YS5jdXN0b21lci5uYW1lKSB7CgkJCQl0aGlzLiRyb290LmZlZWRiYWNrKCJZb3UgbXVzdCBzcGVjaWZ5IGN1c3RvbWVyIG5hbWUiKTsKCQkJfSBlbHNlIGlmICghZGF0YS5kZXNjcmlwdGlvbikgewoJCQkJdGhpcy4kcm9vdC5mZWVkYmFjaygiWW91IG11c3Qgc3BlY2lmeSBkZXNjcmlwdGlvbiIpOwoJCQl9IGVsc2UgewoJCQkJaWYgKHRoaXMudXNlcklzRGVmYXVsdCAmJiB0aGlzLm5hbWVPZlVzZXIudHJpbSgpKSB7CgkJCQkJZGF0YS5uYW1lT2ZVc2VyID0gdGhpcy5uYW1lT2ZVc2VyOwoJCQkJfQoKCQkJCXRoaXMuJGVtaXQoImNhbGxiYWNrLWNyZWF0ZSIsIGRhdGEpOwoJCQkJdGhpcy5vblJlc2V0KCk7CgkJCQl0aGlzLm9uVXNlcigpOwoJCQl9CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["WindowAddService.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WindowAddService.vue","sourceRoot":"src/pages/service","sourcesContent":["<script>\r\n\timport Window from \"@/components/window/Window.vue\";\r\n\timport Input from \"@/components/Input.vue\";\r\n\timport TextArea from \"@/components/InputTextArea.vue\";\r\n\timport BelongingListEdit from \"./BelongingListEdit.vue\";\r\n\timport LayoutFindCustomer from \"./LayoutFindCustomer.vue\";\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tWindow,\r\n\t\t\tInput,\r\n\t\t\tTextArea,\r\n\t\t\tBelongingListEdit,\r\n\t\t\tLayoutFindCustomer,\r\n\t\t},\r\n\t\temits: [\"callback-create\", \"callback-cancel\"],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnameOfUser: \"unknown\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tcustomerName: \"\",\r\n\t\t\t\t\tcustomerPhoneNumber: \"\",\r\n\t\t\t\t\tbelongings: [],\r\n\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tuser: (c) => c.loginStore.getters.user,\r\n\t\t\tuserIsAdmin: (c) => {\r\n\t\t\t\tif (!c.user) return false;\r\n\t\t\t\treturn c.user.isTypeAdmin() && c.user.username === \"admin\";\r\n\t\t\t},\r\n\t\t\tuserIsStaff: (c) => {\r\n\t\t\t\tif (!c.user) return false;\r\n\t\t\t\treturn c.user.isTypeStaff() && c.user.username === \"staff\";\r\n\t\t\t},\r\n\t\t\tuserIsDefault: (c) => c.userIsAdmin || c.userIsStaff,\r\n\t\t\tnameUserType: (c) => {\r\n\t\t\t\tif (!c.user) return \"\";\r\n\t\t\t\tif (c.user.isTypeAdmin()) return \"admin\";\r\n\t\t\t\tif (c.user.isTypeStaff()) return \"staff\";\r\n\t\t\t\treturn \"unknown\";\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tuser() {\r\n\t\t\t\tlet user = this.user;\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tthis.nameOfUser = this.userIsDefault ? \"\" : user.name;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onReset();\r\n\t\t\tthis.onUser();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tclickCustomerSuggestion(customer) {\r\n\t\t\t\tthis.data.customerName = customer.name;\r\n\t\t\t\tthis.data.customerPhoneNumber = customer.phoneNumber\r\n\t\t\t\t\t? customer.phoneNumber.toString()\r\n\t\t\t\t\t: \"\";\r\n\t\t\t},\r\n\r\n\t\t\tonUser() {\r\n\t\t\t\tthis.loginStore.dispatch(\"refresh\");\r\n\t\t\t},\r\n\t\t\tonReset() {\r\n\t\t\t\tthis.data = {\r\n\t\t\t\t\tcustomerName: \"\",\r\n\t\t\t\t\tcustomerPhoneNumber: \"\",\r\n\t\t\t\t\tbelongings: [],\r\n\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tonCreate() {\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tcustomer: {\r\n\t\t\t\t\t\tname: this.data.customerName.trim(),\r\n\t\t\t\t\t\tphoneNumber: this.data.customerPhoneNumber.trim(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdescription: this.data.description.trim(),\r\n\t\t\t\t\tbelongings: this.$refs.BelongingListEdit.getResults(),\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (this.userIsDefault && !this.nameOfUser.trim()) {\r\n\t\t\t\t\tthis.$root.feedback(\"You must specify your name\");\r\n\t\t\t\t} else if (!data.customer.name) {\r\n\t\t\t\t\tthis.$root.feedback(\"You must specify customer name\");\r\n\t\t\t\t} else if (!data.description) {\r\n\t\t\t\t\tthis.$root.feedback(\"You must specify description\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.userIsDefault && this.nameOfUser.trim()) {\r\n\t\t\t\t\t\tdata.nameOfUser = this.nameOfUser;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$emit(\"callback-create\", data);\r\n\t\t\t\t\tthis.onReset();\r\n\t\t\t\t\tthis.onUser();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<Window\r\n\t\tclass=\"WindowService\"\r\n\t\ttitle=\"Add Service\"\r\n\t\t:isLoading=\"serviceStore.getters.isFetching\"\r\n\t\t:isClickable=\"!serviceStore.getters.isFetching\"\r\n\t\t@click-cancel=\"\r\n\t\t\t() => {\r\n\t\t\t\t$emit('callback-cancel');\r\n\t\t\t\tonUser();\r\n\t\t\t\tonReset();\r\n\t\t\t}\r\n\t\t\"\r\n\t\t@click-ok=\"onCreate()\"\r\n\t>\r\n\t\t<div class=\"WindowService-body\">\r\n\t\t\t<div class=\"WindowService-user\" v-if=\"userIsDefault\">\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclass=\"WindowService-input WindowService-user-input\"\r\n\t\t\t\t\t:label=\"`${nameUserType}${\r\n\t\t\t\t\t\tnameOfUser.trim() === '' ? ' (Your name here)' : ''\r\n\t\t\t\t\t}`\"\r\n\t\t\t\t\t:isRequired=\"true\"\r\n\t\t\t\t\t:bindValue=\"nameOfUser\"\r\n\t\t\t\t\t@input=\"(comp) => (nameOfUser = comp.value)\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"WindowService-customer\">\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclass=\"WindowService-input\"\r\n\t\t\t\t\tlabel=\"Customer Name\"\r\n\t\t\t\t\t:isRequired=\"true\"\r\n\t\t\t\t\t:bindValue=\"data.customerName\"\r\n\t\t\t\t\t@input=\"(comp) => (data.customerName = comp.value)\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tclass=\"WindowService-input\"\r\n\t\t\t\t\tlabel=\"Customer Phone Number\"\r\n\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t:bindValue=\"data.customerPhoneNumber\"\r\n\t\t\t\t\t@input=\"(comp) => (data.customerPhoneNumber = comp.value)\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<LayoutFindCustomer\r\n\t\t\t\tclass=\"WindowService-findCustomers\"\r\n\t\t\t\t:inputName=\"data.customerName\"\r\n\t\t\t\t:inputPhoneNumber=\"data.customerPhoneNumber\"\r\n\t\t\t\t@click-item=\"(customer) => clickCustomerSuggestion(customer)\"\r\n\t\t\t/>\r\n\r\n\t\t\t<div class=\"WindowService-description\">\r\n\t\t\t\t<TextArea\r\n\t\t\t\t\tclass=\"WindowService-input\"\r\n\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t:isRequired=\"true\"\r\n\t\t\t\t\t:bindValue=\"data.description\"\r\n\t\t\t\t\t@input=\"(comp) => (data.description = comp.value)\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"WindowService-belonging\">\r\n\t\t\t\t<span class=\"WindowService-belonging-title\">Belonging</span>\r\n\t\t\t\t<BelongingListEdit\r\n\t\t\t\t\tclass=\"WindowService-belonging-list\"\r\n\t\t\t\t\tref=\"BelongingListEdit\"\r\n\t\t\t\t\t:values=\"data.belongings\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Window>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.WindowService {\r\n\t\tmax-width: 100%;\r\n\t\twidth: 35rem;\r\n\r\n\t\t.WindowService-body {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 40px;\r\n\r\n\t\t\t// Abstract\r\n\t\t\t.WindowService-input {\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t\tbackground: hsla(0, 0%, 0%, 0.03);\r\n\t\t\t\tborder-radius: 0.2rem;\r\n\t\t\t\tpadding: 0.6rem;\r\n\t\t\t}\r\n\r\n\t\t\t.WindowService-user {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: flex-start;\r\n\r\n\t\t\t\t.WindowService-user-input {\r\n\t\t\t\t\twidth: 12rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.WindowService-customer {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 0.7rem;\r\n\t\t\t}\r\n\t\t\t.WindowService-findCustomers {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmax-height: 20rem;\r\n\t\t\t}\r\n\t\t\t.WindowService-belonging {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 0.7rem;\r\n\t\t\t\t.WindowService-belonging-title {\r\n\t\t\t\t\tfont-size: 1.1rem;\r\n\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t}\r\n\t\t\t\t.WindowService-belonging-list {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.WindowService-description {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 0.7rem;\r\n\t\t\t\t& > * {\r\n\t\t\t\t\theight: 8rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.WindowService-type {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: 0.7rem;\r\n\t\t\t\t&-list {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\tgap: 0.7rem;\r\n\t\t\t\t\tbutton {\r\n\t\t\t\t\t\tmin-width: 100px;\r\n\t\t\t\t\t\tborder-width: 3px;\r\n\t\t\t\t\t\tborder-style: solid;\r\n\t\t\t\t\t\tborder-color: var(--type-color);\r\n\t\t\t\t\t\tborder-radius: 50px;\r\n\t\t\t\t\t\tbox-shadow: 0 0 4px hsl(0, 0%, 90%);\r\n\t\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t\t\tcolor: var(--type-color);\r\n\t\t\t\t\t\tpadding: 4px 16px;\r\n\t\t\t\t\t\tbackground-color: white;\r\n\t\t\t\t\t\ttransition: var(--animation-duration);\r\n\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t&:hover,\r\n\t\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\t\tbackground-color: var(--type-color);\r\n\t\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.WindowService-type-list-item-selected {\r\n\t\t\t\t\t\tbackground-color: var(--type-color);\r\n\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\tcursor: initial;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-item-info {\r\n\t\t\t\t\t\t--type-color: #f0c21d;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&-item-purchase {\r\n\t\t\t\t\t\t--type-color: #0771d2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}