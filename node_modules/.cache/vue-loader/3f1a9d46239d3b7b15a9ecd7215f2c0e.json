{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue?vue&type=style&index=0&id=01b3ffd6&lang=scss&scoped=true&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue","mtime":1666360294406},{"path":"C:\\dev\\freshnet-vue\\node_modules\\css-loader\\index.js","mtime":1662650920109},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1662650934772},{"path":"C:\\dev\\freshnet-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1662650932744},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLkxpc3RFdmVudHMgewoJZGlzcGxheTogZmxleDsKCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CgoJLkxpc3RFdmVudHMtZ3JvdXAgewoJCXdpZHRoOiAxMDAlOwoJCWRpc3BsYXk6IGZsZXg7CgkJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCQlhbGlnbi1pdGVtczogY2VudGVyOwoKCQkuTGlzdEV2ZW50cy1ncm91cC10aXRsZSB7CgkJCXdpZHRoOiAxMDAlOwoJCQlkaXNwbGF5OiBmbGV4OwoJCQlmbGV4LWRpcmVjdGlvbjogY29sdW1uOwoJCQlhbGlnbi1pdGVtczogY2VudGVyOwoJCQlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKCgkJCWZvbnQtc2l6ZTogMC44cmVtOwoJCQlmb250LXdlaWdodDogOTAwOwoJCQliYWNrZ3JvdW5kOiBoc2woMCwgMCUsIDk4JSk7CgkJCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCBoc2xhKDAsIDAlLCAwJSwgMC4xKTsKCQkJcGFkZGluZzogMC4ycmVtIDAuNHJlbTsKCQkJdGV4dC1hbGlnbjogY2VudGVyOwoKCQkJcG9zaXRpb246IHN0aWNreTsKCQkJdG9wOiAwOwoJCQl6LWluZGV4OiAzOwoJCX0KCQkuTGlzdEV2ZW50cy1ncm91cC1pdGVtIHsKCQkJei1pbmRleDogMjsKCQkJd2lkdGg6IDEwMCU7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["ListEvents.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListEvents.vue","sourceRoot":"src/pages/service","sourcesContent":["<script>\r\n\timport ItemEvent from \"./ItemEvent.vue\";\r\n\timport { getDay, previousDay, endOfDay, format } from \"date-fns\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ItemEvent },\r\n\t\tprops: {\r\n\t\t\titems: { type: Array, default: () => [] },\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgroups() {\r\n\t\t\t\treturn this.items.reduce((groups, item) => {\r\n\t\t\t\t\tconst ts = item.timestamp;\r\n\t\t\t\t\tconst time = ts.time;\r\n\r\n\t\t\t\t\tconst isWithinWeek = () => {\r\n\t\t\t\t\t\tconst today = new Date();\r\n\t\t\t\t\t\tconst dayWeek = getDay(today);\r\n\t\t\t\t\t\tconst dayWeekPrevious = previousDay(today, dayWeek);\r\n\t\t\t\t\t\tconst timeStartWeek = endOfDay(dayWeekPrevious);\r\n\t\t\t\t\t\treturn time > timeStartWeek;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tconst optGroup = (title) => {\r\n\t\t\t\t\t\tlet group = groups.find((group) => group.title === title);\r\n\t\t\t\t\t\tif (!group) groups.push((group = { title, items: [] }));\r\n\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst putItem = (title) => optGroup(title).items.push(item);\r\n\r\n\t\t\t\t\tif (ts.isToday()) putItem(\"Today\");\r\n\t\t\t\t\telse if (ts.isYesterday()) putItem(\"Yesterday\");\r\n\t\t\t\t\telse if (isWithinWeek()) putItem(format(time, \"EEEE, dd/LL/yyyy\"));\r\n\t\t\t\t\telse if (ts.isThisYear()) putItem(format(time, \"dd/LL/yyyy\"));\r\n\t\t\t\t\telse putItem(ts.getYear().toString());\r\n\r\n\t\t\t\t\treturn groups;\r\n\t\t\t\t}, []);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"ListEvents\">\r\n\t\t<div class=\"ListEvents-group\" v-for=\"group of groups\" :key=\"group.title\">\r\n\t\t\t<span class=\"ListEvents-group-title\" v-if=\"group.title\">{{ group.title }}</span>\r\n\r\n\t\t\t<ItemEvent\r\n\t\t\t\tclass=\"ListEvents-group-item\"\r\n\t\t\t\tv-for=\"item of group.items\"\r\n\t\t\t\t:key=\"item.timestamp.time\"\r\n\t\t\t\t:item=\"item\"\r\n\t\t\t\t@callback-delete=\"(item) => $emit('click-item-delete', item)\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.ListEvents {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.ListEvents-group {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.ListEvents-group-title {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t\tbackground: hsl(0, 0%, 98%);\r\n\t\t\t\tborder-bottom: 1px solid hsla(0, 0%, 0%, 0.1);\r\n\t\t\t\tpadding: 0.2rem 0.4rem;\r\n\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\tposition: sticky;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 3;\r\n\t\t\t}\r\n\t\t\t.ListEvents-group-item {\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}