{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\manage\\PageManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\manage\\PageManage.vue","mtime":1663518638153},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQYWdlUHJvZmlsZSBmcm9tICJAL3BhZ2VzL3Byb2ZpbGUvUGFnZVByb2ZpbGUudnVlIjsKaW1wb3J0IFBhZ2VDdXN0b21lciBmcm9tICJAL3BhZ2VzL2N1c3RvbWVyL1BhZ2VDdXN0b21lci52dWUiOwppbXBvcnQgUGFnZVNlcnZpY2UgZnJvbSAiQC9wYWdlcy9zZXJ2aWNlL1BhZ2VTZXJ2aWNlLnZ1ZSI7CmltcG9ydCBQYWdlT3JkZXIgZnJvbSAiQC9wYWdlcy9vcmRlci9QYWdlT3JkZXIudnVlIjsKaW1wb3J0IFBhZ2VVc2VycyBmcm9tICJAL3BhZ2VzL3VzZXJzL1BhZ2VVc2Vycy52dWUiOwppbXBvcnQgUGFnZURhdGFiYXNlIGZyb20gIkAvcGFnZXMvZGF0YWJhc2UvUGFnZURhdGFiYXNlLnZ1ZSI7CmltcG9ydCBQYWdlU2V0dGluZyBmcm9tICJAL3BhZ2VzL3NldHRpbmcvUGFnZVNldHRpbmcudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAga2V5OiAibWFuYWdlIiwKICAgbmFtZTogIk1hbmFnZSIsCiAgIHJlc291cmNlOiB7CiAgICAgIHRpdGxlOiAiTWFuYWdlIiwKICAgICAgaWNvbjogeyBsaWdodDogIm1hbmFnZS1GRkZGRkYiLCBkYXJrOiAibWFuYWdlLTJBNDg1OCIgfSwKICAgfSwKICAgY2hpbGRyZW46IFsKICAgICAgUGFnZVByb2ZpbGUsCiAgICAgIFBhZ2VDdXN0b21lciwKICAgICAgUGFnZVNlcnZpY2UsCiAgICAgIFBhZ2VPcmRlciwKICAgICAgUGFnZVVzZXJzLAogICAgICBQYWdlRGF0YWJhc2UsCiAgICAgIFBhZ2VTZXR0aW5nLAogICBdLAoKICAgY29tcHV0ZWQ6IHsKICAgICAgdXNlcjogKGMpID0+IGMubG9naW5TdG9yZS5nZXR0ZXJzLnVzZXIsCiAgIH0sCiAgIHdhdGNoOiB7CiAgICAgIHVzZXIodXNlck5vdywgdXNlcldhcykgewogICAgICAgICBpZiAodXNlcldhcyAmJiAhdXNlck5vdykgewogICAgICAgICAgICB0aGlzLnJlZGlyZWN0VG9Mb2dpbigpOwogICAgICAgICB9CiAgICAgIH0sCiAgIH0sCiAgIG1ldGhvZHM6IHsKICAgICAgY2xpY2tMb2dvdXQoKSB7CiAgICAgICAgIGlmICh0aGlzLnVzZXIpCiAgICAgICAgICAgIHRoaXMubG9naW5TdG9yZS5kaXNwYXRjaCgibG9nb3V0IikudGhlbigoKSA9PiB0aGlzLnJlZGlyZWN0VG9Mb2dpbigpKTsKICAgICAgfSwKICAgICAgcmVkaXJlY3RUb0xvZ2luKCkgewogICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgIHBhdGg6ICIvbG9naW4iLAogICAgICAgICAgICBxdWVyeTogeyByZWRpcmVjdDogdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5mdWxsUGF0aCB9LAogICAgICAgICB9KTsKICAgICAgfSwKICAgfSwKICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMubG9naW5TdG9yZS5kaXNwYXRjaCgiZ2V0VXNlciIpOwogICAgICAgICBpZiAoIXVzZXIpIHRoaXMucmVkaXJlY3RUb0xvZ2luKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgIHRoaXMucmVkaXJlY3RUb0xvZ2luKCk7CiAgICAgIH0KICAgfSwKfTsK"},{"version":3,"sources":["PageManage.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageManage.vue","sourceRoot":"src/pages/manage","sourcesContent":["<script>\r\n   import PageProfile from \"@/pages/profile/PageProfile.vue\";\r\n   import PageCustomer from \"@/pages/customer/PageCustomer.vue\";\r\n   import PageService from \"@/pages/service/PageService.vue\";\r\n   import PageOrder from \"@/pages/order/PageOrder.vue\";\r\n   import PageUsers from \"@/pages/users/PageUsers.vue\";\r\n   import PageDatabase from \"@/pages/database/PageDatabase.vue\";\r\n   import PageSetting from \"@/pages/setting/PageSetting.vue\";\r\n\r\n   export default {\r\n      key: \"manage\",\r\n      name: \"Manage\",\r\n      resource: {\r\n         title: \"Manage\",\r\n         icon: { light: \"manage-FFFFFF\", dark: \"manage-2A4858\" },\r\n      },\r\n      children: [\r\n         PageProfile,\r\n         PageCustomer,\r\n         PageService,\r\n         PageOrder,\r\n         PageUsers,\r\n         PageDatabase,\r\n         PageSetting,\r\n      ],\r\n\r\n      computed: {\r\n         user: (c) => c.loginStore.getters.user,\r\n      },\r\n      watch: {\r\n         user(userNow, userWas) {\r\n            if (userWas && !userNow) {\r\n               this.redirectToLogin();\r\n            }\r\n         },\r\n      },\r\n      methods: {\r\n         clickLogout() {\r\n            if (this.user)\r\n               this.loginStore.dispatch(\"logout\").then(() => this.redirectToLogin());\r\n         },\r\n         redirectToLogin() {\r\n            this.$router.replace({\r\n               path: \"/login\",\r\n               query: { redirect: this.$router.currentRoute.fullPath },\r\n            });\r\n         },\r\n      },\r\n      async mounted() {\r\n         try {\r\n            const user = await this.loginStore.dispatch(\"getUser\");\r\n            if (!user) this.redirectToLogin();\r\n         } catch (error) {\r\n            this.redirectToLogin();\r\n         }\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageManage\">\r\n      <router-view\r\n         class=\"PageManage-view\"\r\n         v-if=\"user\"\r\n         @click-drawer-expand=\"$root.openNavigationDrawer()\"\r\n      />\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageManage {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: stretch;\r\n      justify-content: stretch;\r\n      overflow: hidden;\r\n\r\n      .PageManage-view {\r\n         width: 100%;\r\n         height: 100%;\r\n         flex-grow: 1;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: stretch;\r\n         justify-content: stretch;\r\n         z-index: 1;\r\n      }\r\n   }\r\n</style>\r\n"]}]}