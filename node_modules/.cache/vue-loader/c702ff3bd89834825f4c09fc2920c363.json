{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\product\\PanelProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\product\\PanelProduct.vue","mtime":1668086668510},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBcHBIb3N0IGZyb20gIkAvaG9zdC9BcHBIb3N0LmpzIjsKaW1wb3J0IEFjdGlvbmJhciBmcm9tICJAL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9hY3Rpb25iYXIyL0FjdGlvbmJhci52dWUiOwppbXBvcnQgTGF5b3V0UHJvZHVjdFZpZXdlciBmcm9tICJAL3BhZ2VzL3Byb2R1Y3QvTGF5b3V0UHJvZHVjdFZpZXdlci9MYXlvdXRQcm9kdWN0Vmlld2VyLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOiB7IEFjdGlvbmJhciwgTGF5b3V0UHJvZHVjdFZpZXdlciB9LAoJZW1pdHM6IFsKCQkiY2xpY2stZGlzbWlzcyIsCgkJImNsaWNrLXByb2R1Y3RSZW1vdmUiLAoJCSJjbGljay1wcm9kdWN0LWltYWdlUmVtb3ZlIiwKCQkiY2xpY2stcHJvZHVjdC10aXRsZUJyYW5kVXBkYXRlIiwKCQkiY2xpY2stcHJvZHVjdC1wcmljZVVwZGF0ZSIsCgkJImNsaWNrLXByb2R1Y3QtZGVzY3JpcHRpb25VcGRhdGUiLAoJCSJjbGljay1wcm9kdWN0LWNhdGVnb3J5VXBkYXRlIiwKCQkiY2xpY2stcHJvZHVjdC1zcGVjaWZpY2F0aW9uc1VwZGF0ZSIsCgldLAoJcHJvcHM6IHsKCQlwcm9kdWN0OiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAoJCXByb2R1Y3RQcmV2aW91czogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKCQlwcm9kdWN0TmV4dDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKCgkJaXNXaWRlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCgkJaXNFZGl0YWJsZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAoJCWlzQmFja2FibGU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LAoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsgcHJpbWFyeUNvbG9yOiBudWxsLCBmdWxsVGl0bGU6ICIiIH07Cgl9LAoJY29tcHV0ZWQ6IHsKCQlzZXR0aW5nczogKGNvbnRleHQpID0+IHsKCQkJbGV0IHNldHRpbmdzID0gY29udGV4dC5zZXR0aW5nU3RvcmUuZ2V0dGVycy5pdGVtczsKCQkJcmV0dXJuIEFycmF5LmlzQXJyYXkoc2V0dGluZ3MpID8gc2V0dGluZ3MgOiBbXTsKCQl9LAoKCQlhY3Rpb25iYXJDb2xvcigpIHsKCQkJaWYgKHRoaXMucHJpbWFyeUNvbG9yKSB7CgkJCQlyZXR1cm4gdGhpcy5wcmltYXJ5Q29sb3IubWl4KCJmZmZmZmYiLCAwLjYpOwoJCQl9CgkJfSwKCgkJYWN0aW9uYmFyTGVmdE1lbnVzKCkgewoJCQlpZiAoIXRoaXMuaXNCYWNrYWJsZSkgewoJCQkJcmV0dXJuIHsKCQkJCQlrZXk6ICJjbG9zZSIsCgkJCQkJdGl0bGU6ICJDbG9zZSIsCgkJCQkJaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi9jbG9zZS0wMDAwMDAuc3ZnIiksCgkJCQkJY2xpY2s6ICgpID0+IHRoaXMuJGVtaXQoImNsaWNrLWRpc21pc3MiKSwKCQkJCX07CgkJCX0KCQkJcmV0dXJuIHsKCQkJCWtleTogImJhY2siLAoJCQkJdGl0bGU6ICJCYWNrIiwKCQkJCWljb246IHRoaXMuaG9zdC5yZXMoImljb24vYXJyb3ctbGVmdC0wMDAwMDAuc3ZnIiksCgkJCQljbGljazogKCkgPT4gdGhpcy4kZW1pdCgiY2xpY2stZGlzbWlzcyIpLAoJCQl9OwoJCX0sCgkJYWN0aW9uYmFyUmlnaHRNZW51cygpIHsKCQkJaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiBbXTsKCQkJcmV0dXJuIFsKCQkJCXRoaXMuaXNFZGl0YWJsZQoJCQkJCT8gewoJCQkJCQkJa2V5OiAidHJhc2giLAoJCQkJCQkJaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi90cmFzaC0wMDAwMDAuc3ZnIiksCgkJCQkJCQljbGljazogKCkgPT4KCQkJCQkJCQl0aGlzLiRlbWl0KCJjbGljay1wcm9kdWN0UmVtb3ZlIiwgeyBwcm9kdWN0OiB0aGlzLnByb2R1Y3QgfSksCgkJCQkJICB9CgkJCQkJOiBudWxsLAoJCQkJewoJCQkJCWtleTogInZpZXciLAoJCQkJCXRpdGxlOiAiVmlldyIsCgkJCQkJaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi92aWV3LTAwMDAwMC5zdmciKSwKCQkJCQljbGljazogKCkgPT4gdGhpcy5jbGlja1ZpZXcoKSwKCQkJCX0sCgkJCQl7CgkJCQkJa2V5OiAiY29weSIsCgkJCQkJdGl0bGU6ICJDb3B5IExpbmsiLAoJCQkJCWljb246IHRoaXMuaG9zdC5yZXMoImljb24vY29weS0wMDAwMDAuc3ZnIiksCgkJCQkJY2xpY2s6ICgpID0+IHRoaXMuY2xpY2tDb3B5TGluaygpLAoJCQkJfSwKCQkJCS8vIHsKCQkJCS8vIAlrZXk6ICJwcmludCIsCgkJCQkvLyAJdGl0bGU6ICJQcmludCIsCgkJCQkvLyAJaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi9wcmludGVyLTAwMDAwMC5zdmciKSwKCQkJCS8vIAljbGljazogKCkgPT4gewoJCQkJLy8gCQljb25zb2xlLmxvZygicHJpbnQiKTsKCQkJCS8vIAkJdGhpcy4kcm9vdC5wcmludCh0aGlzLiRyZWZzLlBhbmVsUHJvZHVjdCk7CgkJCQkvLyAJfSwKCQkJCS8vIH0sCgkJCV07CgkJfSwKCX0sCgl3YXRjaDogewoJCXByb2R1Y3QoKSB7CgkJCWNvbnN0IHsgUGFuZWxQcm9kdWN0IH0gPSB0aGlzLiRyZWZzOwoJCQlpZiAoUGFuZWxQcm9kdWN0KSBQYW5lbFByb2R1Y3Quc2Nyb2xsVG9wID0gMDsKCQkJdGhpcy5pbnZhbGlkYXRlKCk7CgkJfSwKCX0sCgltb3VudGVkKCkgewoJCXRoaXMuaW52YWxpZGF0ZSgpOwoJfSwKCW1ldGhvZHM6IHsKCQlhc3luYyBpbnZhbGlkYXRlKCkgewoJCQl0aGlzLmZ1bGxUaXRsZSA9ICIiOwoJCQlpZiAoIXRoaXMucHJvZHVjdCkgcmV0dXJuOwoJCQl0aGlzLmZ1bGxUaXRsZSA9IGF3YWl0IHRoaXMucHJvZHVjdC5mZXRjaEZ1bGxUaXRsZSgpOwoJCX0sCgoJCWNsaWNrQ29weUxpbmsoKSB7CgkJCWlmICghdGhpcy5wcm9kdWN0KSB7CgkJCQl0aGlzLiRyb290LmZlZWRiYWNrKCJDYW5ub3QgQ29weSIpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCWNvbnN0IGxpbmsgPSB0aGlzLnByb2R1Y3QuZ2V0TGluaygpOwoJCQlpZiAoIWxpbmspIHsKCQkJCXRoaXMuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBDb3B5Iik7CgkJCQlyZXR1cm47CgkJCX0KCQkJdGhpcy4kcm9vdC5jb3B5VGV4dChsaW5rKTsKCQkJdGhpcy4kcm9vdC5mZWVkYmFjayh7CgkJCQlpY29uOiB0aGlzLmhvc3QucmVzKCJpY29uL2NvcHktRkZGRkZGLnN2ZyIpLAoJCQkJdGV4dDogIkNvcGllZCB0byBDbGlwYm9hcmQiLAoJCQkJYWN0aW9uczogW3sgdGl0bGU6ICJPcGVuIiwgY2xpY2s6ICgpID0+IHRoaXMuY2xpY2tWaWV3KCkgfV0sCgkJCX0pOwoJCX0sCgkJY2xpY2tWaWV3KCkgewoJCQlsZXQgdXJsVmlldyA9IGAke0FwcEhvc3QucGF0aH0vcHJvZHVjdC92aWV3YDsKCgkJCWlmICghdGhpcy5wcm9kdWN0KSB7CgkJCQl0aGlzLiRyb290Lm9wZW5MaW5rKHVybFZpZXcpOwoJCQl9IGVsc2UgewoJCQkJdGhpcy4kcm9vdC5vcGVuTGluayhgJHt1cmxWaWV3fT9wcm9kdWN0SWQ9JHt0aGlzLnByb2R1Y3QuaWR9YCk7CgkJCX0KCQl9LAoJfSwKfTsK"},{"version":3,"sources":["PanelProduct.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelProduct.vue","sourceRoot":"src/pages/product","sourcesContent":["<script>\r\n\timport AppHost from \"@/host/AppHost.js\";\r\n\timport Actionbar from \"@/components/navigation/actionbar2/Actionbar.vue\";\r\n\timport LayoutProductViewer from \"@/pages/product/LayoutProductViewer/LayoutProductViewer.vue\";\r\n\r\n\texport default {\r\n\t\tcomponents: { Actionbar, LayoutProductViewer },\r\n\t\temits: [\r\n\t\t\t\"click-dismiss\",\r\n\t\t\t\"click-productRemove\",\r\n\t\t\t\"click-product-imageRemove\",\r\n\t\t\t\"click-product-titleBrandUpdate\",\r\n\t\t\t\"click-product-priceUpdate\",\r\n\t\t\t\"click-product-descriptionUpdate\",\r\n\t\t\t\"click-product-categoryUpdate\",\r\n\t\t\t\"click-product-specificationsUpdate\",\r\n\t\t],\r\n\t\tprops: {\r\n\t\t\tproduct: { type: Object, default: () => null },\r\n\t\t\tproductPrevious: { type: Object, default: () => null },\r\n\t\t\tproductNext: { type: Object, default: () => null },\r\n\r\n\t\t\tisWide: { type: Boolean, default: false },\r\n\t\t\tisEditable: { type: Boolean, default: false },\r\n\t\t\tisBackable: { type: Boolean, default: true },\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn { primaryColor: null, fullTitle: \"\" };\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsettings: (context) => {\r\n\t\t\t\tlet settings = context.settingStore.getters.items;\r\n\t\t\t\treturn Array.isArray(settings) ? settings : [];\r\n\t\t\t},\r\n\r\n\t\t\tactionbarColor() {\r\n\t\t\t\tif (this.primaryColor) {\r\n\t\t\t\t\treturn this.primaryColor.mix(\"ffffff\", 0.6);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tactionbarLeftMenus() {\r\n\t\t\t\tif (!this.isBackable) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: \"close\",\r\n\t\t\t\t\t\ttitle: \"Close\",\r\n\t\t\t\t\t\ticon: this.host.res(\"icon/close-000000.svg\"),\r\n\t\t\t\t\t\tclick: () => this.$emit(\"click-dismiss\"),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tkey: \"back\",\r\n\t\t\t\t\ttitle: \"Back\",\r\n\t\t\t\t\ticon: this.host.res(\"icon/arrow-left-000000.svg\"),\r\n\t\t\t\t\tclick: () => this.$emit(\"click-dismiss\"),\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tactionbarRightMenus() {\r\n\t\t\t\tif (!this.product) return [];\r\n\t\t\t\treturn [\r\n\t\t\t\t\tthis.isEditable\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\tkey: \"trash\",\r\n\t\t\t\t\t\t\t\ticon: this.host.res(\"icon/trash-000000.svg\"),\r\n\t\t\t\t\t\t\t\tclick: () =>\r\n\t\t\t\t\t\t\t\t\tthis.$emit(\"click-productRemove\", { product: this.product }),\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: \"view\",\r\n\t\t\t\t\t\ttitle: \"View\",\r\n\t\t\t\t\t\ticon: this.host.res(\"icon/view-000000.svg\"),\r\n\t\t\t\t\t\tclick: () => this.clickView(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: \"copy\",\r\n\t\t\t\t\t\ttitle: \"Copy Link\",\r\n\t\t\t\t\t\ticon: this.host.res(\"icon/copy-000000.svg\"),\r\n\t\t\t\t\t\tclick: () => this.clickCopyLink(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tkey: \"print\",\r\n\t\t\t\t\t// \ttitle: \"Print\",\r\n\t\t\t\t\t// \ticon: this.host.res(\"icon/printer-000000.svg\"),\r\n\t\t\t\t\t// \tclick: () => {\r\n\t\t\t\t\t// \t\tconsole.log(\"print\");\r\n\t\t\t\t\t// \t\tthis.$root.print(this.$refs.PanelProduct);\r\n\t\t\t\t\t// \t},\r\n\t\t\t\t\t// },\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tproduct() {\r\n\t\t\t\tconst { PanelProduct } = this.$refs;\r\n\t\t\t\tif (PanelProduct) PanelProduct.scrollTop = 0;\r\n\t\t\t\tthis.invalidate();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.invalidate();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync invalidate() {\r\n\t\t\t\tthis.fullTitle = \"\";\r\n\t\t\t\tif (!this.product) return;\r\n\t\t\t\tthis.fullTitle = await this.product.fetchFullTitle();\r\n\t\t\t},\r\n\r\n\t\t\tclickCopyLink() {\r\n\t\t\t\tif (!this.product) {\r\n\t\t\t\t\tthis.$root.feedback(\"Cannot Copy\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst link = this.product.getLink();\r\n\t\t\t\tif (!link) {\r\n\t\t\t\t\tthis.$root.feedback(\"Cannot Copy\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$root.copyText(link);\r\n\t\t\t\tthis.$root.feedback({\r\n\t\t\t\t\ticon: this.host.res(\"icon/copy-FFFFFF.svg\"),\r\n\t\t\t\t\ttext: \"Copied to Clipboard\",\r\n\t\t\t\t\tactions: [{ title: \"Open\", click: () => this.clickView() }],\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclickView() {\r\n\t\t\t\tlet urlView = `${AppHost.path}/product/view`;\r\n\r\n\t\t\t\tif (!this.product) {\r\n\t\t\t\t\tthis.$root.openLink(urlView);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$root.openLink(`${urlView}?productId=${this.product.id}`);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"PanelProduct\" ref=\"PanelProduct\">\r\n\t\t<Actionbar\r\n\t\t\tclass=\"PanelProduct-actionbar\"\r\n\t\t\t:leftMenus=\"actionbarLeftMenus\"\r\n\t\t\t:rightMenus=\"actionbarRightMenus\"\r\n\t\t\t:style=\"{ 'background-color': actionbarColor }\"\r\n\t\t>\r\n\t\t\t<span class=\"PanelProduct-actionbar-title\" v-if=\"fullTitle\">{{\r\n\t\t\t\tfullTitle\r\n\t\t\t}}</span>\r\n\t\t</Actionbar>\r\n\r\n\t\t<LayoutProductViewer\r\n\t\t\tclass=\"PanelProduct-main\"\r\n\t\t\t:product=\"product\"\r\n\t\t\t:productPrevious=\"productPrevious\"\r\n\t\t\t:productNext=\"productNext\"\r\n\t\t\t:isWide=\"isWide\"\r\n\t\t\t:isEditable=\"isEditable\"\r\n\t\t\t@change-primaryColor=\"(x) => (primaryColor = x)\"\r\n\t\t\t@click-product-imageRemove=\"(x) => $emit('click-product-imageRemove', x)\"\r\n\t\t\t@click-product-titleBrandUpdate=\"\r\n\t\t\t\t(x) => $emit('click-product-titleBrandUpdate', x)\r\n\t\t\t\"\r\n\t\t\t@click-product-priceUpdate=\"(x) => $emit('click-product-priceUpdate', x)\"\r\n\t\t\t@click-product-descriptionUpdate=\"\r\n\t\t\t\t(x) => $emit('click-product-descriptionUpdate', x)\r\n\t\t\t\"\r\n\t\t\t@click-product-categoryUpdate=\"\r\n\t\t\t\t(x) => $emit('click-product-categoryUpdate', x)\r\n\t\t\t\"\r\n\t\t\t@click-product-specificationsUpdate=\"\r\n\t\t\t\t(x) => $emit('click-product-specificationsUpdate', x)\r\n\t\t\t\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.PanelProduct {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t\tbackground: white;\r\n\t\tfont-size: 1.2rem;\r\n\r\n\t\toverflow-y: auto;\r\n\t\tposition: relative;\r\n\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\r\n\t\t.PanelProduct-actionbar {\r\n\t\t\tz-index: 3;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-bottom: 1px solid hsl(0, 0%, 80%);\r\n\t\t\t.PanelProduct-actionbar-title {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tgap: 0.1rem;\r\n\t\t\t\tline-height: 1.1rem;\r\n\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t\tfont-size: 1rem;\r\n\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tcolor: black;\r\n\t\t\t\ttext-align: start;\r\n\t\t\t\ttext-overflow: clip;\r\n\r\n\t\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.PanelProduct-main {\r\n\t\t\tz-index: 2;\r\n\t\t\tflex-grow: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}