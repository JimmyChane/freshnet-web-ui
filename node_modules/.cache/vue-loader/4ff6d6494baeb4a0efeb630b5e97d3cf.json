{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer_ImagePreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer_ImagePreview.vue","mtime":1668003027086},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBJdGVtRGV2aWNlIGZyb20gIkAvcGFnZXMvY3VzdG9tZXIvSXRlbURldmljZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOiB7IEl0ZW1EZXZpY2UgfSwKCWVtaXRzOiBbImNsaWNrLXJlbW92ZSIsICJjbGljay1wcmV2aW91cyIsICJjbGljay1uZXh0Il0sCglwcm9wczogewoJCWltYWdlOiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAoKCQloYXNJbWFnZVByZXZpb3VzOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCgkJaGFzSW1hZ2VOZXh0OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCgoJCWhhc1Byb2R1Y3RQcmV2aW91czogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAoJCWhhc1Byb2R1Y3ROZXh0OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCgoJCWlzRWRpdGFibGU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwKCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCWltYWdlU3R5bGU6IHsgc2NhbGU6ICIxIiwgeDogIjAlIiwgeTogIjAlIiB9LAoJCQlpbWFnZVVybDogIiIsCgkJCWltYWdlSXNGZXRjaGluZzogZmFsc2UsCgkJfTsKCX0sCgljb21wdXRlZDogewoJCWlzVGhpbjogKGMpID0+IGMuJHJvb3Qud2luZG93LmlubmVyV2lkdGggPCA1NTAsCgkJaW1hZ2VJc1Nob3dpbmcoKSB7CgkJCWlmICh0aGlzLmltYWdlSXNGZXRjaGluZykgcmV0dXJuIHRydWU7CgkJCXJldHVybiAhIXRoaXMuaW1hZ2VVcmw7CgkJfSwKCX0sCgl3YXRjaDogewoJCWltYWdlKCkgewoJCQl0aGlzLm9uSW1hZ2UoKTsKCQl9LAoJfSwKCW1ldGhvZHM6IHsKCQlvbkltYWdlKCkgewoJCQl0aGlzLmltYWdlVXJsID0gIiI7CgkJCWlmICh0aGlzLmltYWdlKSB7CgkJCQl0aGlzLmltYWdlSXNGZXRjaGluZyA9IHRydWU7CgkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQl0aGlzLmltYWdlSXNGZXRjaGluZyA9IGZhbHNlOwoJCQkJCXRoaXMuaW1hZ2VVcmwgPSB0aGlzLmltYWdlLnRvVXJsKHsKCQkJCQkJaGVpZ2h0OiB0aGlzLmlzVGhpbiA/IDM1MCA6IDEyMDAsCgkJCQkJfSk7CgkJCQl9LCAyMDApOwoJCQl9CgkJfSwKCQlvbkltYWdlTW91c2VFbnRlcihldmVudCkgewoJCQl0aGlzLmltYWdlU3R5bGUuc2NhbGUgPSAiMS41IjsKCQl9LAoJCW9uSW1hZ2VNb3VzZU1vdmUoZXZlbnQpIHsKCQkJY29uc3QgeyBvZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0IH0gPSBldmVudC50YXJnZXQ7CgkJCWNvbnN0IHsgb2Zmc2V0WCwgb2Zmc2V0WSB9ID0gZXZlbnQ7CgkJCWNvbnN0IGNlbnRlclggPSBvZmZzZXRXaWR0aCAvIDIsCgkJCQljZW50ZXJZID0gb2Zmc2V0SGVpZ2h0IC8gMjsKCgkJCWNvbnN0IHBlcmNlbnRYID0gY2VudGVyWCAtIG9mZnNldFg7CgkJCWNvbnN0IHBlcmNlbnRZID0gY2VudGVyWSAtIG9mZnNldFk7CgoJCQljb25zb2xlLmxvZyh7IHBlcmNlbnRYLCBwZXJjZW50WSB9KTsKCgkJCXRoaXMuaW1hZ2VTdHlsZS54ID0gYCR7cGVyY2VudFh9JWA7CgkJCXRoaXMuaW1hZ2VTdHlsZS55ID0gYCR7cGVyY2VudFl9JWA7CgkJfSwKCQlvbkltYWdlTW91c2VMZWF2ZShldmVudCkgewoJCQl0aGlzLmltYWdlU3R5bGUuc2NhbGUgPSAiMSI7CgkJCXRoaXMuaW1hZ2VTdHlsZS54ID0gIjAlIjsKCQkJdGhpcy5pbWFnZVN0eWxlLnkgPSAiMCUiOwoJCX0sCgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLm9uSW1hZ2UoKTsKCX0sCn07Cg=="},{"version":3,"sources":["LayoutProductViewer_ImagePreview.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LayoutProductViewer_ImagePreview.vue","sourceRoot":"src/pages/product/LayoutProductViewer","sourcesContent":["<script>\r\n\timport ItemDevice from \"@/pages/customer/ItemDevice.vue\";\r\n\texport default {\r\n\t\tcomponents: { ItemDevice },\r\n\t\temits: [\"click-remove\", \"click-previous\", \"click-next\"],\r\n\t\tprops: {\r\n\t\t\timage: { type: Object, default: () => null },\r\n\r\n\t\t\thasImagePrevious: { type: Boolean, default: false },\r\n\t\t\thasImageNext: { type: Boolean, default: false },\r\n\r\n\t\t\thasProductPrevious: { type: Boolean, default: false },\r\n\t\t\thasProductNext: { type: Boolean, default: false },\r\n\r\n\t\t\tisEditable: { type: Boolean, default: false },\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timageStyle: { scale: \"1\", x: \"0%\", y: \"0%\" },\r\n\t\t\t\timageUrl: \"\",\r\n\t\t\t\timageIsFetching: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisThin: (c) => c.$root.window.innerWidth < 550,\r\n\t\t\timageIsShowing() {\r\n\t\t\t\tif (this.imageIsFetching) return true;\r\n\t\t\t\treturn !!this.imageUrl;\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\timage() {\r\n\t\t\t\tthis.onImage();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonImage() {\r\n\t\t\t\tthis.imageUrl = \"\";\r\n\t\t\t\tif (this.image) {\r\n\t\t\t\t\tthis.imageIsFetching = true;\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.imageIsFetching = false;\r\n\t\t\t\t\t\tthis.imageUrl = this.image.toUrl({\r\n\t\t\t\t\t\t\theight: this.isThin ? 350 : 1200,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonImageMouseEnter(event) {\r\n\t\t\t\tthis.imageStyle.scale = \"1.5\";\r\n\t\t\t},\r\n\t\t\tonImageMouseMove(event) {\r\n\t\t\t\tconst { offsetWidth, offsetHeight } = event.target;\r\n\t\t\t\tconst { offsetX, offsetY } = event;\r\n\t\t\t\tconst centerX = offsetWidth / 2,\r\n\t\t\t\t\tcenterY = offsetHeight / 2;\r\n\r\n\t\t\t\tconst percentX = centerX - offsetX;\r\n\t\t\t\tconst percentY = centerY - offsetY;\r\n\r\n\t\t\t\tconsole.log({ percentX, percentY });\r\n\r\n\t\t\t\tthis.imageStyle.x = `${percentX}%`;\r\n\t\t\t\tthis.imageStyle.y = `${percentY}%`;\r\n\t\t\t},\r\n\t\t\tonImageMouseLeave(event) {\r\n\t\t\t\tthis.imageStyle.scale = \"1\";\r\n\t\t\t\tthis.imageStyle.x = \"0%\";\r\n\t\t\t\tthis.imageStyle.y = \"0%\";\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onImage();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div\r\n\t\t:class=\"[\r\n\t\t\t'LayoutProductViewerImagePreview',\r\n\t\t\t`LayoutProductViewerImagePreview-${imageIsShowing ? 'isShown' : 'isHidden'}`,\r\n\t\t]\"\r\n\t>\r\n\t\t<img\r\n\t\t\t:class=\"[\r\n\t\t\t\t'LayoutProductViewerImagePreview-preview',\r\n\t\t\t\t`LayoutProductViewerImagePreview-preview-${\r\n\t\t\t\t\timageUrl ? 'isShown' : 'isHidden'\r\n\t\t\t\t}`,\r\n\t\t\t]\"\r\n\t\t\t:src=\"imageUrl\"\r\n\t\t/>\r\n\r\n\t\t<button\r\n\t\t\t:class=\"[\r\n\t\t\t\t'LayoutProductViewerImagePreview-arrowParent',\r\n\t\t\t\t`LayoutProductViewerImagePreview-arrowParent-${\r\n\t\t\t\t\thasImagePrevious || hasProductPrevious ? 'isShown' : 'isHidden'\r\n\t\t\t\t}`,\r\n\t\t\t\t'LayoutProductViewerImagePreview-toLeft',\r\n\t\t\t]\"\r\n\t\t\t@click=\"(event) => $emit('click-previous')\"\r\n\t\t>\r\n\t\t\t<img\r\n\t\t\t\tclass=\"LayoutProductViewerImagePreview-arrow\"\r\n\t\t\t\t:src=\"host.res('icon/arrowDown-black.svg')\"\r\n\t\t\t/>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\t:class=\"[\r\n\t\t\t\t'LayoutProductViewerImagePreview-arrowParent',\r\n\t\t\t\t`LayoutProductViewerImagePreview-arrowParent-${\r\n\t\t\t\t\thasImageNext || hasProductNext ? 'isShown' : 'isHidden'\r\n\t\t\t\t}`,\r\n\t\t\t\t'LayoutProductViewerImagePreview-toRight',\r\n\t\t\t]\"\r\n\t\t\t@click=\"(event) => $emit('click-next')\"\r\n\t\t>\r\n\t\t\t<img\r\n\t\t\t\tclass=\"LayoutProductViewerImagePreview-arrow\"\r\n\t\t\t\t:src=\"host.res('icon/arrowDown-black.svg')\"\r\n\t\t\t/>\r\n\t\t</button>\r\n\r\n\t\t<div\r\n\t\t\t:class=\"[\r\n\t\t\t\t'LayoutProductViewerImagePreview-tool',\r\n\t\t\t\t`LayoutProductViewerImagePreview-tool-${\r\n\t\t\t\t\tisEditable && image ? 'isShown' : 'isHidden'\r\n\t\t\t\t}`,\r\n\t\t\t]\"\r\n\t\t>\r\n\t\t\t<div class=\"LayoutProductViewerImagePreview-tool-body\">\r\n\t\t\t\t<button @click=\"$emit('click-remove', image)\">\r\n\t\t\t\t\t<img :src=\"host.res('icon/trash-505050.svg')\" />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.LayoutProductViewerImagePreview {\r\n\t\twidth: 100%;\r\n\t\tmax-height: 55vh;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t.LayoutProductViewerImagePreview-tool {\r\n\t\t\tz-index: 3;\r\n\t\t\twidth: calc(100%);\r\n\t\t\theight: fit-content;\r\n\t\t\tpadding: 1rem;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttransition: var(--animation-duration);\r\n\r\n\t\t\t.LayoutProductViewerImagePreview-tool-body {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tbackground: red;\r\n\t\t\t\t// padding: 0.2rem 1.2rem;\r\n\t\t\t\tbackground-color: hsla(0, 0%, 100%, 0.6);\r\n\t\t\t\tborder: 0.1rem solid hsla(0, 0%, 0%, 0.2);\r\n\t\t\t\tbox-shadow: 0 0 0.5rem hsla(0, 0%, 0%, 0.2);\r\n\t\t\t\tborder-radius: 0.5rem;\r\n\r\n\t\t\t\tbutton {\r\n\t\t\t\t\twidth: 2.5rem;\r\n\t\t\t\t\theight: 2.5rem;\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tborder-radius: 0.5rem;\r\n\t\t\t\t\ttransition: var(--animation-duration);\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tbackground: hsla(0, 0%, 0%, 0.2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\timg {\r\n\t\t\t\t\t\twidth: 1rem;\r\n\t\t\t\t\t\theight: 1rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.LayoutProductViewerImagePreview-tool-isHidden {\r\n\t\t\ttop: -150%;\r\n\t\t\topacity: 0;\r\n\t\t\tpointer-events: none;\r\n\t\t}\r\n\r\n\t\t.LayoutProductViewerImagePreview-arrowParent {\r\n\t\t\tz-index: 2;\r\n\r\n\t\t\twidth: 4rem;\r\n\t\t\theight: 100%;\r\n\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\ttransition: var(--animation-duration);\r\n\t\t\tbackground: none;\r\n\t\t\tborder: none;\r\n\t\t\tcursor: pointer;\r\n\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\t.LayoutProductViewerImagePreview-arrow {\r\n\t\t\t\twidth: 1.8rem;\r\n\t\t\t\theight: 1.8rem;\r\n\t\t\t\topacity: 0.66;\r\n\t\t\t\ttransition: var(--animation-duration);\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.LayoutProductViewerImagePreview-arrowParent-isHidden {\r\n\t\t\topacity: 0;\r\n\t\t\tpointer-events: none;\r\n\t\t}\r\n\r\n\t\t.LayoutProductViewerImagePreview-toLeft {\r\n\t\t\tleft: 0;\r\n\r\n\t\t\t.LayoutProductViewerImagePreview-arrow {\r\n\t\t\t\ttransform: rotate(90deg);\r\n\t\t\t}\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\timg {\r\n\t\t\t\t\ttransform: rotate(90deg) scale(1.3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.LayoutProductViewerImagePreview-toRight {\r\n\t\t\tright: 0;\r\n\r\n\t\t\t.LayoutProductViewerImagePreview-arrow {\r\n\t\t\t\ttransform: rotate(-90deg);\r\n\t\t\t}\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\timg {\r\n\t\t\t\t\ttransform: rotate(-90deg) scale(1.3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.LayoutProductViewerImagePreview-preview {\r\n\t\t\tz-index: 1;\r\n\t\t\tobject-fit: contain;\r\n\r\n\t\t\twidth: 100%;\r\n\t\t\theight: inherit;\r\n\t\t\tmax-height: 55vh;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\taspect-ratio: 16/10;\r\n\t\t}\r\n\t}\r\n\t.LayoutProductViewerImagePreview-isShown {\r\n\t\t.LayoutProductViewerImagePreview-preview {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\t.LayoutProductViewerImagePreview-isHidden {\r\n\t\theight: 6rem;\r\n\t\t.LayoutProductViewerImagePreview-preview {\r\n\t\t\tpointer-events: none;\r\n\t\t\theight: inherit;\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}