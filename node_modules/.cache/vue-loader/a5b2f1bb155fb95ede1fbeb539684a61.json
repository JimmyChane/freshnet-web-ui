{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer.vue","mtime":1665408274711},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQcm9kdWN0U3BlY1R5cGUgZnJvbSAiQC9pdGVtcy9Qcm9kdWN0U3BlY1R5cGUuanMiOwppbXBvcnQgUHJvZHVjdFByaWNlIGZyb20gIkAvaXRlbXMvUHJvZHVjdFByaWNlLmpzIjsKaW1wb3J0IFNldHRpbmdNb2R1bGUgZnJvbSAiQC8uLi8uLi9leHByZXNzL2RhdGFfc3RydWN0dXJlcy9TZXR0aW5nLmpzIjsKCmltcG9ydCBMYXlvdXRQcm9kdWN0Vmlld2VyU2VjdGlvbiBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfU2VjdGlvbi52dWUiOwppbXBvcnQgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlUHJldmlldyBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfSW1hZ2VQcmV2aWV3LnZ1ZSI7CmltcG9ydCBMYXlvdXRQcm9kdWN0Vmlld2VySW1hZ2VzIGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JbWFnZXMudnVlIjsKaW1wb3J0IExheW91dFByb2R1Y3RWaWV3ZXJQcmljZVZpZXdlciBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfUHJpY2VWaWV3ZXIudnVlIjsKaW1wb3J0IExheW91dFByb2R1Y3RWaWV3ZXJQcmljZUVkaXRvciBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfUHJpY2VFZGl0b3IudnVlIjsKaW1wb3J0IEl0ZW1Qcm9kdWN0U3RvY2tDaGVja2JveCBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfU3RvY2tDaGVja2JveC52dWUiOwppbXBvcnQgSXRlbVByb2R1Y3RTcGVjaWZpY2F0aW9uIGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JdGVtU3BlY2lmaWNhdGlvbi52dWUiOwppbXBvcnQgSXRlbVByb2R1Y3RTdWdnZXN0IGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JdGVtUHJvZHVjdFN1Z2dlc3QudnVlIjsKCmltcG9ydCBjaHJvbWEgZnJvbSAiY2hyb21hLWpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgY29tcG9uZW50czogewogICAgICBMYXlvdXRQcm9kdWN0Vmlld2VyU2VjdGlvbiwKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlUHJldmlldywKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlcywKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlclByaWNlVmlld2VyLAogICAgICBMYXlvdXRQcm9kdWN0Vmlld2VyUHJpY2VFZGl0b3IsCiAgICAgIEl0ZW1Qcm9kdWN0U3BlY2lmaWNhdGlvbiwKICAgICAgSXRlbVByb2R1Y3RTdG9ja0NoZWNrYm94LAogICAgICBJdGVtUHJvZHVjdFN1Z2dlc3QsCiAgIH0sCiAgIGVtaXRzOiBbCiAgICAgICJjbGljay1wcm9kdWN0LWltYWdlUmVtb3ZlIiwKICAgICAgImNsaWNrLXByb2R1Y3QtdGl0bGVCcmFuZFVwZGF0ZSIsCiAgICAgICJjbGljay1wcm9kdWN0LXByaWNlVXBkYXRlIiwKICAgICAgImNsaWNrLXByb2R1Y3QtZGVzY3JpcHRpb25VcGRhdGUiLAogICAgICAiY2xpY2stcHJvZHVjdC1jYXRlZ29yeVVwZGF0ZSIsCiAgICAgICJjbGljay1wcm9kdWN0LXNwZWNpZmljYXRpb25zVXBkYXRlIiwKICAgXSwKICAgcHJvcHM6IHsKICAgICAgcHJvZHVjdDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKICAgICAgcHJvZHVjdFByZXZpb3VzOiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAogICAgICBwcm9kdWN0TmV4dDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKCiAgICAgIGlzV2lkZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICBpc0VkaXRhYmxlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIHByaW1hcnlDb2xvcjogImluaGVyaXQiLAogICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICJpbmhlcml0IiwKCiAgICAgICAgIGltYWdlUHJldmlld0luZGV4OiAwLAogICAgICAgICBvbktleVVwOiBudWxsLAoKICAgICAgICAgY2F0ZWdvcnk6IG51bGwsCiAgICAgICAgIGZ1bGxUaXRsZTogIiIsCiAgICAgICAgIGJyYW5kOiBudWxsLAogICAgICB9OwogICB9LAogICBjb21wdXRlZDogewogICAgICBoYXNJbWFnZVByZXZpb3VzOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5pbWFnZXMubGVuZ3RoID4gMCAmJiBjb250ZXh0LmltYWdlUHJldmlld0luZGV4ID4gMCwKICAgICAgaGFzSW1hZ2VOZXh0OiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5pbWFnZXMubGVuZ3RoIC0gMSA+IGNvbnRleHQuaW1hZ2VQcmV2aWV3SW5kZXgsCiAgICAgIGhhc1Byb2R1Y3RQcmV2aW91czogKGNvbnRleHQpID0+ICEhY29udGV4dC5wcm9kdWN0UHJldmlvdXMsCiAgICAgIGhhc1Byb2R1Y3ROZXh0OiAoY29udGV4dCkgPT4gISFjb250ZXh0LnByb2R1Y3ROZXh0LAoKICAgICAgc2V0dGluZ3MoKSB7CiAgICAgICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ1N0b3JlLmdldHRlcnMuaXRlbXM7CiAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNldHRpbmdzKSA/IHNldHRpbmdzIDogW107CiAgICAgIH0sCiAgICAgIHNldHRpbmdTaG93UHJpY2UoKSB7CiAgICAgICAgIGxldCB0aGVTZXR0aW5nID0gdGhpcy5zZXR0aW5ncy5maW5kKChzZXR0aW5nKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBzZXR0aW5nLmtleSA9PT0gU2V0dGluZ01vZHVsZS5LZXkuUHVibGljU2hvd1ByaWNlOwogICAgICAgICB9KTsKICAgICAgICAgcmV0dXJuIHRoZVNldHRpbmcgPyB0aGVTZXR0aW5nLnZhbHVlIDogZmFsc2U7CiAgICAgIH0sCgogICAgICB0aXRsZTogKGNvbnRleHQpID0+IChjb250ZXh0LnByb2R1Y3QgPyBjb250ZXh0LnByb2R1Y3QudGl0bGUgOiAiIiksCgogICAgICBpbWFnZVByZXZpZXc6IChjb250ZXh0KSA9PiB7CiAgICAgICAgIGlmIChjb250ZXh0LmltYWdlUHJldmlld0luZGV4ID49IGNvbnRleHQuaW1hZ2VzLmxlbmd0aCkKICAgICAgICAgICAgY29udGV4dC5pbWFnZVByZXZpZXdJbmRleCA9IDA7CiAgICAgICAgIHJldHVybiBjb250ZXh0LmltYWdlcy5sZW5ndGgKICAgICAgICAgICAgPyBjb250ZXh0LmltYWdlc1tjb250ZXh0LmltYWdlUHJldmlld0luZGV4XQogICAgICAgICAgICA6IG51bGw7CiAgICAgIH0sCiAgICAgIGltYWdlczogKGNvbnRleHQpID0+ICghY29udGV4dC5wcm9kdWN0ID8gW10gOiBjb250ZXh0LnByb2R1Y3QuaW1hZ2VzKSwKCiAgICAgIGJyYW5kSWQ6IChjb250ZXh0KSA9PiAoY29udGV4dC5wcm9kdWN0ID8gY29udGV4dC5wcm9kdWN0LmJyYW5kSWQgOiAiIiksCiAgICAgIGJyYW5kVGl0bGU6IChjb250ZXh0KSA9PiAoY29udGV4dC5icmFuZCA/IGNvbnRleHQuYnJhbmQudGl0bGUgOiAiIiksCiAgICAgIGJyYW5kSWNvbjogKGNvbnRleHQpID0+IChjb250ZXh0LmJyYW5kID8gY29udGV4dC5icmFuZC5pY29uIDogbnVsbCksCiAgICAgIGJyYW5kSWNvblVybDogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQuYnJhbmRJY29uID8gY29udGV4dC5icmFuZEljb24udG9VcmwoKSA6ICIiLAoKICAgICAgY2F0ZWdvcnlJZDogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQucHJvZHVjdCA/IGNvbnRleHQucHJvZHVjdC5jYXRlZ29yeUlkIDogIiIsCiAgICAgIGNhdGVnb3J5VGl0bGU6IChjb250ZXh0KSA9PgogICAgICAgICBjb250ZXh0LmNhdGVnb3J5ID8gY29udGV4dC5jYXRlZ29yeS50aXRsZSA6ICIiLAogICAgICBjYXRlZ29yeUljb246IChjb250ZXh0KSA9PgogICAgICAgICBjb250ZXh0LmNhdGVnb3J5ID8gY29udGV4dC5jYXRlZ29yeS5pY29uIDogbnVsbCwKICAgICAgY2F0ZWdvcnlJY29uVXJsOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5jYXRlZ29yeUljb24gPyBjb250ZXh0LmNhdGVnb3J5SWNvbi50b1VybCgpIDogIiIsCgogICAgICBwcmljZTogKGNvbnRleHQpID0+IHsKICAgICAgICAgaWYgKCFjb250ZXh0LmlzRWRpdGFibGUgJiYgIWNvbnRleHQuc2V0dGluZ1Nob3dQcmljZSkgcmV0dXJuIG51bGw7CiAgICAgICAgIHJldHVybiBjb250ZXh0LnByb2R1Y3QgPyBjb250ZXh0LnByb2R1Y3QuZ2V0UHJpY2UoKSA6IG51bGw7CiAgICAgIH0sCiAgICAgIHByaWNlTm9ybWFsOiAoY29udGV4dCkgPT4gewogICAgICAgICByZXR1cm4gY29udGV4dC5wcmljZSAmJiBjb250ZXh0LnByaWNlLm5vcm1hbAogICAgICAgICAgICA/IGNvbnRleHQucHJpY2Uubm9ybWFsCiAgICAgICAgICAgIDogbmV3IFByb2R1Y3RQcmljZSgpOwogICAgICB9LAogICAgICBwcmljZVByb21vdGlvbjogKGNvbnRleHQpID0+IHsKICAgICAgICAgcmV0dXJuIGNvbnRleHQucHJpY2UgJiYgY29udGV4dC5wcmljZS5wcm9tb3Rpb24KICAgICAgICAgICAgPyBjb250ZXh0LnByaWNlLnByb21vdGlvbgogICAgICAgICAgICA6IG5ldyBQcm9kdWN0UHJpY2UoKTsKICAgICAgfSwKICAgICAgZnVsbFByaWNlOiAoY29udGV4dCkgPT4gewogICAgICAgICBsZXQgbm9ybWFsID0gY29udGV4dC5wcmljZU5vcm1hbDsKICAgICAgICAgbGV0IHByb21vdGlvbiA9IGNvbnRleHQucHJpY2VQcm9tb3Rpb247CgogICAgICAgICBpZiAoY29udGV4dC5pc0VkaXRhYmxlKSB7CiAgICAgICAgICAgIHJldHVybiB7IG9yaWdpbmFsOiBub3JtYWwsIHNlbGw6IHByb21vdGlvbiB9OwogICAgICAgICB9CgogICAgICAgICBpZiAoY29udGV4dC5zZXR0aW5nU2hvd1ByaWNlKSB7CiAgICAgICAgICAgIGlmIChub3JtYWwuZ2V0VmFsdWUoKSA+IDAgJiYgcHJvbW90aW9uLmdldFZhbHVlKCkgPD0gMCkgewogICAgICAgICAgICAgICByZXR1cm4geyBvcmlnaW5hbDogbnVsbCwgc2VsbDogbm9ybWFsIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vcm1hbC5nZXRWYWx1ZSgpID4gMCAmJiBwcm9tb3Rpb24uZ2V0VmFsdWUoKSA+IDApIHsKICAgICAgICAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWw6IG5vcm1hbCwgc2VsbDogcHJvbW90aW9uIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vcm1hbC5nZXRWYWx1ZSgpIDw9IDAgJiYgcHJvbW90aW9uLmdldFZhbHVlKCkgPiAwKSB7CiAgICAgICAgICAgICAgIHJldHVybiB7IG9yaWdpbmFsOiBub3JtYWwsIHNlbGw6IHByb21vdGlvbiB9OwogICAgICAgICAgICB9CiAgICAgICAgIH0KICAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWw6IG51bGwsIHNlbGw6IG51bGwgfTsKICAgICAgfSwKCiAgICAgIHByb2R1Y3RJc1Byb21vdGlvbigpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiBmYWxzZTsKICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdC5pc1ByaWNlUHJvbW90aW9uKCk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RJc0F2YWlsYWJsZSgpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiB0cnVlOwogICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0LmlzU3RvY2tBdmFpbGFibGUoKTsKICAgICAgfSwKICAgICAgcHJvZHVjdElzU2Vjb25kSGFuZCgpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiBmYWxzZTsKICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdC5pc1N0b2NrU2Vjb25kSGFuZCgpOwogICAgICB9LAoKICAgICAgZGVzY3JpcHRpb24oKSB7CiAgICAgICAgIGlmICghdGhpcy5wcm9kdWN0KSByZXR1cm4gIiI7CiAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3QuZ2V0RGVzY3JpcHRpb24oKTsKICAgICAgfSwKCiAgICAgIHNwZWNpZmljYXRpb25LZXlzOiAoY29udGV4dCkgPT4gewogICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoUHJvZHVjdFNwZWNUeXBlLktleSkubWFwKChvYmplY3RLZXkpID0+IHsKICAgICAgICAgICAgcmV0dXJuIFByb2R1Y3RTcGVjVHlwZS5LZXlbb2JqZWN0S2V5XTsKICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RTcGVjaWZpY2F0aW9uczogKGNvbnRleHQpID0+IHsKICAgICAgICAgaWYgKCFjb250ZXh0LnByb2R1Y3QpIHJldHVybiBbXTsKICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRleHQucHJvZHVjdC5nZXRTcGVjaWZpY2F0aW9ucygpKSkgcmV0dXJuIFtdOwoKICAgICAgICAgcmV0dXJuIGNvbnRleHQucHJvZHVjdAogICAgICAgICAgICAuZ2V0U3BlY2lmaWNhdGlvbnMoKQogICAgICAgICAgICAuZmlsdGVyKChzcGVjKSA9PiBzcGVjICYmIHNwZWMudHlwZSAmJiBzcGVjLmNvbnRlbnQpCiAgICAgICAgICAgIC5zb3J0KChzcGVjMSwgc3BlYzIpID0+IHsKICAgICAgICAgICAgICAgY29uc3Qga2V5MSA9IGNvbnRleHQub2J0YWluS2V5T2ZTcGVjaWZpY2F0aW9uVHlwZShzcGVjMS50eXBlKTsKICAgICAgICAgICAgICAgY29uc3Qga2V5MiA9IGNvbnRleHQub2J0YWluS2V5T2ZTcGVjaWZpY2F0aW9uVHlwZShzcGVjMi50eXBlKTsKCiAgICAgICAgICAgICAgIGxldCBpbmRleDEgPSBjb250ZXh0LnNwZWNpZmljYXRpb25LZXlzLmluZGV4T2Yoa2V5MSk7CiAgICAgICAgICAgICAgIGxldCBpbmRleDIgPSBjb250ZXh0LnNwZWNpZmljYXRpb25LZXlzLmluZGV4T2Yoa2V5Mik7CgogICAgICAgICAgICAgICBpbmRleDEgPQogICAgICAgICAgICAgICAgICBpbmRleDEgPj0gMCA/IGluZGV4MSA6IGNvbnRleHQuc3BlY2lmaWNhdGlvbktleXMubGVuZ3RoOwogICAgICAgICAgICAgICBpbmRleDIgPQogICAgICAgICAgICAgICAgICBpbmRleDIgPj0gMCA/IGluZGV4MiA6IGNvbnRleHQuc3BlY2lmaWNhdGlvbktleXMubGVuZ3RoOwoKICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4MSAhPT0gaW5kZXgyCiAgICAgICAgICAgICAgICAgID8gaW5kZXgxIC0gaW5kZXgyCiAgICAgICAgICAgICAgICAgIDoga2V5MS5sb2NhbGVDb21wYXJlKGtleTIpOwogICAgICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIGdpZnRzOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5wcm9kdWN0ID8gY29udGV4dC5wcm9kdWN0LmdldEdpZnRzKCkgOiBbXSwKICAgICAgYnVuZGxlczogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQucHJvZHVjdCA/IGNvbnRleHQucHJvZHVjdC5nZXRCdW5kbGVzKCkgOiBbXSwKICAgICAgd2hhdEluY2x1ZGVkczogKGNvbnRleHQpID0+IHsKICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgLi4uY29udGV4dC5naWZ0cwogICAgICAgICAgICAgICAuZmlsdGVyKChnaWZ0KSA9PiB0eXBlb2YgZ2lmdCA9PT0gInN0cmluZyIpCiAgICAgICAgICAgICAgIC5tYXAoKGdpZnQpID0+IGdpZnQudHJpbSgpKQogICAgICAgICAgICAgICAuZmlsdGVyKChnaWZ0KSA9PiBnaWZ0Lmxlbmd0aCksCiAgICAgICAgICAgIC4uLmNvbnRleHQuYnVuZGxlcwogICAgICAgICAgICAgICAuZmlsdGVyKAogICAgICAgICAgICAgICAgICAoYnVuZGxlKSA9PiB0eXBlb2YgYnVuZGxlID09PSAib2JqZWN0IiAmJiBidW5kbGUgIT09IG51bGwKICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAubWFwKChidW5kbGUpID0+IGJ1bmRsZS50aXRsZSkKICAgICAgICAgICAgICAgLmZpbHRlcigoYnVuZGxlKSA9PiB0eXBlb2YgYnVuZGxlID09PSAic3RyaW5nIikKICAgICAgICAgICAgICAgLm1hcCgoYnVuZGxlKSA9PiBidW5kbGUudHJpbSgpKQogICAgICAgICAgICAgICAuZmlsdGVyKChidW5kbGUpID0+IGJ1bmRsZS5sZW5ndGgpLAogICAgICAgICBdOwogICAgICB9LAogICB9LAogICB3YXRjaDogewogICAgICBwcm9kdWN0KCkgewogICAgICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICB9LAogICAgICBpbWFnZVByZXZpZXcoKSB7CiAgICAgICAgIHRoaXMub25JbWFnZVByZXZpZXcoKTsKICAgICAgfSwKICAgfSwKICAgbWV0aG9kczogewogICAgICBhc3luYyBvblByb2R1Y3QoKSB7CiAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QpIHRoaXMuYWRkQXJyb3dMaXN0ZW5lcigpOwogICAgICAgICBlbHNlIHRoaXMucmVtb3ZlQXJyb3dMaXN0ZW5lcigpOwoKICAgICAgICAgdGhpcy5jYXRlZ29yeSA9IG51bGw7CiAgICAgICAgIHRoaXMuZnVsbFRpdGxlID0gIiI7CiAgICAgICAgIHRoaXMuYnJhbmQgPSBudWxsOwogICAgICAgICBpZiAodGhpcy5wcm9kdWN0KSB7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBhd2FpdCB0aGlzLnByb2R1Y3QuZmV0Y2hDYXRlZ29yeSgpOwogICAgICAgICAgICB0aGlzLmZ1bGxUaXRsZSA9IGF3YWl0IHRoaXMucHJvZHVjdC5mZXRjaEZ1bGxUaXRsZSgpOwogICAgICAgICAgICB0aGlzLmJyYW5kID0gYXdhaXQgdGhpcy5wcm9kdWN0LmZldGNoQnJhbmQoKTsKICAgICAgICAgfQogICAgICB9LAogICAgICBhc3luYyBvbkltYWdlUHJldmlldygpIHsKICAgICAgICAgaWYgKCF0aGlzLmltYWdlUHJldmlldykgewogICAgICAgICAgICB0aGlzLnByaW1hcnlDb2xvciA9ICJpbmhlcml0IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CgogICAgICAgICBjb25zdCBjb2xvciA9IGF3YWl0IHRoaXMuaW1hZ2VQcmV2aWV3CiAgICAgICAgICAgIC5mZXRjaENvbG9yKCkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfSk7CgogICAgICAgICBpZiAoIWNvbG9yKSB7CiAgICAgICAgICAgIHRoaXMucHJpbWFyeUNvbG9yID0gImluaGVyaXQiOwogICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICJpbmhlcml0IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CiAgICAgICAgIHRoaXMucHJpbWFyeUNvbG9yID0gY29sb3IudG9TdHJpbmcoKTsKICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBjaHJvbWEodGhpcy5wcmltYXJ5Q29sb3IpLm1peCgiZTZlNmU2IiwgMC44KTsKICAgICAgfSwKCiAgICAgIGNsaWNrUHJldmlvdXMoKSB7CiAgICAgICAgIGlmICh0aGlzLmhhc0ltYWdlUHJldmlvdXMpIHsKICAgICAgICAgICAgdGhpcy5pbWFnZVByZXZpZXdJbmRleC0tOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KCiAgICAgICAgIHJldHVybjsgLy8gZGlzYWJsZSBwcmV2aW91cyBwcm9kdWN0CgogICAgICAgICBpZiAoIXRoaXMuaGFzSW1hZ2VQcmV2aW91cyAmJiB0aGlzLmhhc1Byb2R1Y3RQcmV2aW91cykgewogICAgICAgICAgICB0aGlzLmltYWdlUHJldmlld0luZGV4ID0KICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0UHJldmlvdXMuZ2V0SW1hZ2VzKCkubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdGhpcy4kcm9vdC5yZXBsYWNlUm91dGUoewogICAgICAgICAgICAgICBxdWVyeTogeyBwcm9kdWN0SWQ6IHRoaXMucHJvZHVjdFByZXZpb3VzLl9pZCB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgfQogICAgICB9LAogICAgICBjbGlja05leHQoKSB7CiAgICAgICAgIGlmICh0aGlzLmhhc0ltYWdlTmV4dCkgewogICAgICAgICAgICB0aGlzLmltYWdlUHJldmlld0luZGV4Kys7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgfQoKICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIG5leHQgcHJvZHVjdAoKICAgICAgICAgaWYgKCF0aGlzLmhhc0ltYWdlTmV4dCAmJiB0aGlzLmhhc1Byb2R1Y3ROZXh0KSB7CiAgICAgICAgICAgIHRoaXMuaW1hZ2VQcmV2aWV3SW5kZXggPSAwOwogICAgICAgICAgICB0aGlzLiRyb290LnJlcGxhY2VSb3V0ZSh7CiAgICAgICAgICAgICAgIHF1ZXJ5OiB7IHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0TmV4dC5faWQgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgIH0KICAgICAgfSwKCiAgICAgIG9idGFpbktleU9mU3BlY2lmaWNhdGlvblR5cGUodHlwZSkgewogICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICJvYmplY3QiKSByZXR1cm4gdHlwZS5rZXk7CiAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gInN0cmluZyIpIHJldHVybiB0eXBlOwogICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0sCgogICAgICBhZGRBcnJvd0xpc3RlbmVyKCkgewogICAgICAgICBpZiAodGhpcy5vbktleVVwID09PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMub25LZXlVcCA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkpIHJldHVybjsKCiAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICJBcnJvd0xlZnQiKSB0aGlzLmNsaWNrUHJldmlvdXMoKTsKICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gIkFycm93UmlnaHQiKSB0aGlzLmNsaWNrTmV4dCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCB0aGlzLm9uS2V5VXApOwogICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbW92ZUFycm93TGlzdGVuZXIoKSB7CiAgICAgICAgIGlmICh0aGlzLm9uS2V5VXAgIT09IG51bGwpIHsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5vbktleVVwKTsKICAgICAgICAgICAgdGhpcy5vbktleVVwID0gbnVsbDsKICAgICAgICAgfQogICAgICB9LAogICB9LAogICBtb3VudGVkKCkgewogICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICB0aGlzLm9uSW1hZ2VQcmV2aWV3KCk7CiAgIH0sCiAgIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMucmVtb3ZlQXJyb3dMaXN0ZW5lcigpOwogICB9LAp9Owo="},{"version":3,"sources":["LayoutProductViewer.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LayoutProductViewer.vue","sourceRoot":"src/pages/product/LayoutProductViewer","sourcesContent":["<script>\r\n   import ProductSpecType from \"@/items/ProductSpecType.js\";\r\n   import ProductPrice from \"@/items/ProductPrice.js\";\r\n   import SettingModule from \"@/../../express/data_structures/Setting.js\";\r\n\r\n   import LayoutProductViewerSection from \"./LayoutProductViewer_Section.vue\";\r\n   import LayoutProductViewerImagePreview from \"./LayoutProductViewer_ImagePreview.vue\";\r\n   import LayoutProductViewerImages from \"./LayoutProductViewer_Images.vue\";\r\n   import LayoutProductViewerPriceViewer from \"./LayoutProductViewer_PriceViewer.vue\";\r\n   import LayoutProductViewerPriceEditor from \"./LayoutProductViewer_PriceEditor.vue\";\r\n   import ItemProductStockCheckbox from \"./LayoutProductViewer_StockCheckbox.vue\";\r\n   import ItemProductSpecification from \"./LayoutProductViewer_ItemSpecification.vue\";\r\n   import ItemProductSuggest from \"./LayoutProductViewer_ItemProductSuggest.vue\";\r\n\r\n   import chroma from \"chroma-js\";\r\n\r\n   export default {\r\n      components: {\r\n         LayoutProductViewerSection,\r\n         LayoutProductViewerImagePreview,\r\n         LayoutProductViewerImages,\r\n         LayoutProductViewerPriceViewer,\r\n         LayoutProductViewerPriceEditor,\r\n         ItemProductSpecification,\r\n         ItemProductStockCheckbox,\r\n         ItemProductSuggest,\r\n      },\r\n      emits: [\r\n         \"click-product-imageRemove\",\r\n         \"click-product-titleBrandUpdate\",\r\n         \"click-product-priceUpdate\",\r\n         \"click-product-descriptionUpdate\",\r\n         \"click-product-categoryUpdate\",\r\n         \"click-product-specificationsUpdate\",\r\n      ],\r\n      props: {\r\n         product: { type: Object, default: () => null },\r\n         productPrevious: { type: Object, default: () => null },\r\n         productNext: { type: Object, default: () => null },\r\n\r\n         isWide: { type: Boolean, default: false },\r\n         isEditable: { type: Boolean, default: false },\r\n      },\r\n      data() {\r\n         return {\r\n            primaryColor: \"inherit\",\r\n            backgroundColor: \"inherit\",\r\n\r\n            imagePreviewIndex: 0,\r\n            onKeyUp: null,\r\n\r\n            category: null,\r\n            fullTitle: \"\",\r\n            brand: null,\r\n         };\r\n      },\r\n      computed: {\r\n         hasImagePrevious: (context) =>\r\n            context.images.length > 0 && context.imagePreviewIndex > 0,\r\n         hasImageNext: (context) =>\r\n            context.images.length - 1 > context.imagePreviewIndex,\r\n         hasProductPrevious: (context) => !!context.productPrevious,\r\n         hasProductNext: (context) => !!context.productNext,\r\n\r\n         settings() {\r\n            let settings = this.settingStore.getters.items;\r\n            return Array.isArray(settings) ? settings : [];\r\n         },\r\n         settingShowPrice() {\r\n            let theSetting = this.settings.find((setting) => {\r\n               return setting.key === SettingModule.Key.PublicShowPrice;\r\n            });\r\n            return theSetting ? theSetting.value : false;\r\n         },\r\n\r\n         title: (context) => (context.product ? context.product.title : \"\"),\r\n\r\n         imagePreview: (context) => {\r\n            if (context.imagePreviewIndex >= context.images.length)\r\n               context.imagePreviewIndex = 0;\r\n            return context.images.length\r\n               ? context.images[context.imagePreviewIndex]\r\n               : null;\r\n         },\r\n         images: (context) => (!context.product ? [] : context.product.images),\r\n\r\n         brandId: (context) => (context.product ? context.product.brandId : \"\"),\r\n         brandTitle: (context) => (context.brand ? context.brand.title : \"\"),\r\n         brandIcon: (context) => (context.brand ? context.brand.icon : null),\r\n         brandIconUrl: (context) =>\r\n            context.brandIcon ? context.brandIcon.toUrl() : \"\",\r\n\r\n         categoryId: (context) =>\r\n            context.product ? context.product.categoryId : \"\",\r\n         categoryTitle: (context) =>\r\n            context.category ? context.category.title : \"\",\r\n         categoryIcon: (context) =>\r\n            context.category ? context.category.icon : null,\r\n         categoryIconUrl: (context) =>\r\n            context.categoryIcon ? context.categoryIcon.toUrl() : \"\",\r\n\r\n         price: (context) => {\r\n            if (!context.isEditable && !context.settingShowPrice) return null;\r\n            return context.product ? context.product.getPrice() : null;\r\n         },\r\n         priceNormal: (context) => {\r\n            return context.price && context.price.normal\r\n               ? context.price.normal\r\n               : new ProductPrice();\r\n         },\r\n         pricePromotion: (context) => {\r\n            return context.price && context.price.promotion\r\n               ? context.price.promotion\r\n               : new ProductPrice();\r\n         },\r\n         fullPrice: (context) => {\r\n            let normal = context.priceNormal;\r\n            let promotion = context.pricePromotion;\r\n\r\n            if (context.isEditable) {\r\n               return { original: normal, sell: promotion };\r\n            }\r\n\r\n            if (context.settingShowPrice) {\r\n               if (normal.getValue() > 0 && promotion.getValue() <= 0) {\r\n                  return { original: null, sell: normal };\r\n               }\r\n               if (normal.getValue() > 0 && promotion.getValue() > 0) {\r\n                  return { original: normal, sell: promotion };\r\n               }\r\n               if (normal.getValue() <= 0 && promotion.getValue() > 0) {\r\n                  return { original: normal, sell: promotion };\r\n               }\r\n            }\r\n            return { original: null, sell: null };\r\n         },\r\n\r\n         productIsPromotion() {\r\n            if (!this.product) return false;\r\n            return this.product.isPricePromotion();\r\n         },\r\n         productIsAvailable() {\r\n            if (!this.product) return true;\r\n            return this.product.isStockAvailable();\r\n         },\r\n         productIsSecondHand() {\r\n            if (!this.product) return false;\r\n            return this.product.isStockSecondHand();\r\n         },\r\n\r\n         description() {\r\n            if (!this.product) return \"\";\r\n            return this.product.getDescription();\r\n         },\r\n\r\n         specificationKeys: (context) => {\r\n            return Object.keys(ProductSpecType.Key).map((objectKey) => {\r\n               return ProductSpecType.Key[objectKey];\r\n            });\r\n         },\r\n         productSpecifications: (context) => {\r\n            if (!context.product) return [];\r\n            if (!Array.isArray(context.product.getSpecifications())) return [];\r\n\r\n            return context.product\r\n               .getSpecifications()\r\n               .filter((spec) => spec && spec.type && spec.content)\r\n               .sort((spec1, spec2) => {\r\n                  const key1 = context.obtainKeyOfSpecificationType(spec1.type);\r\n                  const key2 = context.obtainKeyOfSpecificationType(spec2.type);\r\n\r\n                  let index1 = context.specificationKeys.indexOf(key1);\r\n                  let index2 = context.specificationKeys.indexOf(key2);\r\n\r\n                  index1 =\r\n                     index1 >= 0 ? index1 : context.specificationKeys.length;\r\n                  index2 =\r\n                     index2 >= 0 ? index2 : context.specificationKeys.length;\r\n\r\n                  return index1 !== index2\r\n                     ? index1 - index2\r\n                     : key1.localeCompare(key2);\r\n               });\r\n         },\r\n\r\n         gifts: (context) =>\r\n            context.product ? context.product.getGifts() : [],\r\n         bundles: (context) =>\r\n            context.product ? context.product.getBundles() : [],\r\n         whatIncludeds: (context) => {\r\n            return [\r\n               ...context.gifts\r\n                  .filter((gift) => typeof gift === \"string\")\r\n                  .map((gift) => gift.trim())\r\n                  .filter((gift) => gift.length),\r\n               ...context.bundles\r\n                  .filter(\r\n                     (bundle) => typeof bundle === \"object\" && bundle !== null\r\n                  )\r\n                  .map((bundle) => bundle.title)\r\n                  .filter((bundle) => typeof bundle === \"string\")\r\n                  .map((bundle) => bundle.trim())\r\n                  .filter((bundle) => bundle.length),\r\n            ];\r\n         },\r\n      },\r\n      watch: {\r\n         product() {\r\n            this.onProduct();\r\n         },\r\n         imagePreview() {\r\n            this.onImagePreview();\r\n         },\r\n      },\r\n      methods: {\r\n         async onProduct() {\r\n            if (this.product) this.addArrowListener();\r\n            else this.removeArrowListener();\r\n\r\n            this.category = null;\r\n            this.fullTitle = \"\";\r\n            this.brand = null;\r\n            if (this.product) {\r\n               this.category = await this.product.fetchCategory();\r\n               this.fullTitle = await this.product.fetchFullTitle();\r\n               this.brand = await this.product.fetchBrand();\r\n            }\r\n         },\r\n         async onImagePreview() {\r\n            if (!this.imagePreview) {\r\n               this.primaryColor = \"inherit\";\r\n               return;\r\n            }\r\n\r\n            const color = await this.imagePreview\r\n               .fetchColor()\r\n               .catch((error) => {\r\n                  return null;\r\n               });\r\n\r\n            if (!color) {\r\n               this.primaryColor = \"inherit\";\r\n               this.backgroundColor = \"inherit\";\r\n               return;\r\n            }\r\n            this.primaryColor = color.toString();\r\n            this.backgroundColor = chroma(this.primaryColor).mix(\"e6e6e6\", 0.8);\r\n         },\r\n\r\n         clickPrevious() {\r\n            if (this.hasImagePrevious) {\r\n               this.imagePreviewIndex--;\r\n               return;\r\n            }\r\n\r\n            return; // disable previous product\r\n\r\n            if (!this.hasImagePrevious && this.hasProductPrevious) {\r\n               this.imagePreviewIndex =\r\n                  this.productPrevious.getImages().length - 1;\r\n               this.$root.replaceRoute({\r\n                  query: { productId: this.productPrevious._id },\r\n               });\r\n            }\r\n         },\r\n         clickNext() {\r\n            if (this.hasImageNext) {\r\n               this.imagePreviewIndex++;\r\n               return;\r\n            }\r\n\r\n            return; // disable next product\r\n\r\n            if (!this.hasImageNext && this.hasProductNext) {\r\n               this.imagePreviewIndex = 0;\r\n               this.$root.replaceRoute({\r\n                  query: { productId: this.productNext._id },\r\n               });\r\n            }\r\n         },\r\n\r\n         obtainKeyOfSpecificationType(type) {\r\n            if (typeof type === \"object\") return type.key;\r\n            if (typeof type === \"string\") return type;\r\n            return \"\";\r\n         },\r\n\r\n         addArrowListener() {\r\n            if (this.onKeyUp === null) {\r\n               this.onKeyUp = (event) => {\r\n                  if (event.shiftKey || event.altKey || event.ctrlKey) return;\r\n\r\n                  if (event.key === \"ArrowLeft\") this.clickPrevious();\r\n                  if (event.key === \"ArrowRight\") this.clickNext();\r\n               };\r\n               window.addEventListener(\"keyup\", this.onKeyUp);\r\n            }\r\n         },\r\n         removeArrowListener() {\r\n            if (this.onKeyUp !== null) {\r\n               window.removeEventListener(\"keyup\", this.onKeyUp);\r\n               this.onKeyUp = null;\r\n            }\r\n         },\r\n      },\r\n      mounted() {\r\n         this.onProduct();\r\n         this.onImagePreview();\r\n      },\r\n      destroy() {\r\n         this.removeArrowListener();\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div\r\n      :class=\"[\r\n         'LayoutProductViewer',\r\n         `LayoutProductViewer-${isWide ? 'isWide' : 'isThin'}`,\r\n      ]\"\r\n      :style=\"{ '--primary-color': primaryColor }\"\r\n   >\r\n      <div class=\"LayoutProductViewer-header\" v-if=\"product\">\r\n         <div class=\"LayoutProductViewer-headerBackground\"></div>\r\n\r\n         <div class=\"LayoutProductViewer-headerGradient\"></div>\r\n\r\n         <LayoutProductViewerImagePreview\r\n            class=\"LayoutProductViewer-preview\"\r\n            :image=\"imagePreview\"\r\n            :hasImagePrevious=\"hasImagePrevious\"\r\n            :hasImageNext=\"hasImageNext\"\r\n            :hasProductPrevious=\"false\"\r\n            :hasProductNext=\"false\"\r\n            :isEditable=\"isEditable\"\r\n            @click-previous=\"clickPrevious\"\r\n            @click-next=\"clickNext\"\r\n            @click-remove=\"\r\n               (image) => {\r\n                  $emit('click-product-imageRemove', { product, image });\r\n               }\r\n            \"\r\n         />\r\n\r\n         <div class=\"LayoutProductViewer-title\">\r\n            <div class=\"LayoutProductViewer-text\">{{ fullTitle }}</div>\r\n            <LayoutProductViewerImages\r\n               v-if=\"isEditable || images.length > 1\"\r\n               :images=\"images\"\r\n               :indexAt=\"imagePreviewIndex\"\r\n               :isEditable=\"isEditable\"\r\n               @click-image=\"\r\n                  (image) => {\r\n                     imagePreviewIndex = images.indexOf(image);\r\n                  }\r\n               \"\r\n               @click-add-image-file=\"\r\n                  (file) => {\r\n                     productStore.dispatch('addImageOfProductId', {\r\n                        productId: product.getId(),\r\n                        imageFile: file,\r\n                     });\r\n                  }\r\n               \"\r\n            />\r\n         </div>\r\n      </div>\r\n\r\n      <div\r\n         class=\"LayoutProductViewer-card\"\r\n         :style=\"{ 'background-color': backgroundColor }\"\r\n      >\r\n         <div class=\"LayoutProductViewer-cardBody-header\" v-if=\"isEditable\">\r\n            <!-- brand -->\r\n            <LayoutProductViewerSection\r\n               title=\"Brand\"\r\n               :menu=\"{\r\n                  title: 'Edit',\r\n                  icon: host.res('icon/edit-2A4858.svg'),\r\n                  click: () => {\r\n                     $emit('click-product-titleBrandUpdate', {\r\n                        product,\r\n                        title: title,\r\n                        brandId: brandId,\r\n                     });\r\n                  },\r\n               }\"\r\n            >\r\n               <div class=\"LayoutProductViewer-brand\">\r\n                  <div class=\"LayoutProductViewer-brand-item\" v-if=\"brand\">\r\n                     <img\r\n                        class=\"LayoutProductViewer-brand-item-icon\"\r\n                        v-if=\"brandIconUrl\"\r\n                        :src=\"brandIconUrl\"\r\n                     />\r\n                     <span\r\n                        class=\"LayoutProductViewer-brand-item-title\"\r\n                        v-if=\"brandTitle\"\r\n                        >{{ brandTitle }}</span\r\n                     >\r\n                  </div>\r\n\r\n                  <span class=\"LayoutProductViewer-brand-noContent\" v-else\r\n                     >No Brand</span\r\n                  >\r\n               </div>\r\n            </LayoutProductViewerSection>\r\n\r\n            <!-- title -->\r\n            <LayoutProductViewerSection\r\n               title=\"Title\"\r\n               :menu=\"{\r\n                  title: 'Edit',\r\n                  icon: host.res('icon/edit-2A4858.svg'),\r\n                  click: () => {\r\n                     $emit('click-product-titleBrandUpdate', {\r\n                        product,\r\n                        title: title,\r\n                        brandId: brandId,\r\n                     });\r\n                  },\r\n               }\"\r\n            >\r\n               <div class=\"LayoutProductViewer-title\">\r\n                  <span v-if=\"title\">{{ title }}</span>\r\n\r\n                  <span class=\"LayoutProductViewer-title-noContent\" v-else\r\n                     >No Title</span\r\n                  >\r\n               </div>\r\n            </LayoutProductViewerSection>\r\n         </div>\r\n\r\n         <!-- specification -->\r\n         <LayoutProductViewerSection\r\n            v-if=\"isEditable || productSpecifications.length\"\r\n            title=\"Specification\"\r\n            :menu=\"\r\n               isEditable\r\n                  ? {\r\n                       title: 'Edit',\r\n                       icon: host.res('icon/edit-2A4858.svg'),\r\n                       click: () => {\r\n                          $emit('click-product-specificationsUpdate', {\r\n                             product: product,\r\n                             specifications: productSpecifications,\r\n                          });\r\n                       },\r\n                    }\r\n                  : null\r\n            \"\r\n         >\r\n            <div class=\"LayoutProductViewer-specification\">\r\n               <div\r\n                  class=\"LayoutProductViewer-specifications\"\r\n                  v-if=\"productSpecifications.length\"\r\n               >\r\n                  <ItemProductSpecification\r\n                     class=\"LayoutProductViewer-specifications-item\"\r\n                     v-for=\"spec in productSpecifications\"\r\n                     :key=\"spec.name\"\r\n                     :productSpecification=\"spec\"\r\n                  />\r\n               </div>\r\n\r\n               <span class=\"LayoutProductViewer-specification-noContent\" v-else\r\n                  >No Specifications</span\r\n               >\r\n            </div>\r\n         </LayoutProductViewerSection>\r\n\r\n         <!-- include -->\r\n         <LayoutProductViewerSection\r\n            v-if=\"isEditable || whatIncludeds.length\"\r\n            title=\"What's Included\"\r\n         >\r\n            <div class=\"LayoutProductViewer-whatIncluded\">\r\n               <div\r\n                  class=\"LayoutProductViewer-whatIncludeds\"\r\n                  v-if=\"whatIncludeds.length\"\r\n               >\r\n                  <div\r\n                     class=\"LayoutProductViewer-whatIncludeds-item\"\r\n                     v-for=\"whatIncludeds of whatIncludeds\"\r\n                     :key=\"whatIncludeds\"\r\n                  >\r\n                     <span>{{ whatIncludeds }}</span>\r\n                  </div>\r\n               </div>\r\n\r\n               <span class=\"LayoutProductViewer-whatIncluded-noContent\" v-else\r\n                  >Nothing Included</span\r\n               >\r\n            </div>\r\n         </LayoutProductViewerSection>\r\n\r\n         <!-- description -->\r\n         <LayoutProductViewerSection\r\n            class=\"LayoutProductViewer-descriptionParent\"\r\n            v-if=\"isEditable || description\"\r\n            title=\"Description\"\r\n            :menu=\"\r\n               isEditable\r\n                  ? {\r\n                       title: 'Edit',\r\n                       icon: host.res('icon/edit-2A4858.svg'),\r\n                       click: () => {\r\n                          $emit('click-product-descriptionUpdate', {\r\n                             product: product,\r\n                             description: description,\r\n                          });\r\n                       },\r\n                    }\r\n                  : null\r\n            \"\r\n         >\r\n            <div class=\"LayoutProductViewer-description\">\r\n               <p\r\n                  class=\"LayoutProductViewer-description-content\"\r\n                  v-if=\"description\"\r\n                  >{{ description }}</p\r\n               >\r\n\r\n               <span class=\"LayoutProductViewer-description-noContent\" v-else\r\n                  >No Description</span\r\n               >\r\n            </div>\r\n         </LayoutProductViewerSection>\r\n\r\n         <!-- price -->\r\n         <LayoutProductViewerPriceViewer\r\n            :product=\"product\"\r\n            v-if=\"!isEditable\"\r\n         />\r\n         <LayoutProductViewerPriceEditor\r\n            :product=\"product\"\r\n            v-if=\"isEditable\"\r\n            @click-product-priceUpdate=\"\r\n               (x) => $emit('click-product-priceUpdate', x)\r\n            \"\r\n         />\r\n\r\n         <!-- stock -->\r\n         <LayoutProductViewerSection title=\"Stock\" v-if=\"isEditable\">\r\n            <div class=\"LayoutProductViewer-stock\">\r\n               <ItemProductStockCheckbox\r\n                  class=\"LayoutProductViewer-stock-outOfStock\"\r\n                  title=\"Out of Stock\"\r\n                  :checked=\"!productIsAvailable\"\r\n                  @click=\"\r\n                     () => {\r\n                        productStore.dispatch('updateAvailabilityOfProductId', {\r\n                           productId: product.getId(),\r\n                           isAvailable: !productIsAvailable,\r\n                        });\r\n                     }\r\n                  \"\r\n               />\r\n               <ItemProductStockCheckbox\r\n                  class=\"LayoutProductViewer-stock-secondHand\"\r\n                  title=\"Second Hand\"\r\n                  :checked=\"productIsSecondHand\"\r\n                  @click=\"\r\n                     () => {\r\n                        productStore.dispatch('updateSecondHandOfProductId', {\r\n                           productId: product.getId(),\r\n                           isSecondHand: !productIsSecondHand,\r\n                        });\r\n                     }\r\n                  \"\r\n               />\r\n            </div>\r\n         </LayoutProductViewerSection>\r\n\r\n         <!-- category -->\r\n         <LayoutProductViewerSection\r\n            v-if=\"isEditable\"\r\n            title=\"Category\"\r\n            :menu=\"{\r\n               title: 'Edit',\r\n               icon: host.res('icon/edit-2A4858.svg'),\r\n               click: () => {\r\n                  $emit('click-product-categoryUpdate', {\r\n                     product,\r\n                     categoryId: categoryId,\r\n                  });\r\n               },\r\n            }\"\r\n         >\r\n            <div class=\"LayoutProductViewer-category\">\r\n               <div class=\"LayoutProductViewer-category-item\" v-if=\"category\">\r\n                  <img\r\n                     class=\"LayoutProductViewer-category-item-icon\"\r\n                     v-if=\"categoryIconUrl\"\r\n                     :src=\"categoryIconUrl\"\r\n                  />\r\n                  <span\r\n                     class=\"LayoutProductViewer-category-item-title\"\r\n                     v-if=\"categoryTitle\"\r\n                     >{{ categoryTitle }}</span\r\n                  >\r\n               </div>\r\n\r\n               <span class=\"LayoutProductViewer-category-noContent\" v-else\r\n                  >No Category</span\r\n               >\r\n            </div>\r\n         </LayoutProductViewerSection>\r\n\r\n         <div\r\n            class=\"LayoutProductViewer-playlistSections\"\r\n            v-if=\"hasProductNext || hasProductPrevious\"\r\n         >\r\n            <LayoutProductViewerSection v-if=\"hasProductNext\" title=\"Next\">\r\n               <div class=\"LayoutProductViewer-playlist\">\r\n                  <ItemProductSuggest\r\n                     :item=\"productNext\"\r\n                     @click=\"\r\n                        (productNext) => {\r\n                           $root.replaceRoute({\r\n                              query: { productId: productNext._id },\r\n                           });\r\n                        }\r\n                     \"\r\n                  />\r\n               </div>\r\n            </LayoutProductViewerSection>\r\n\r\n            <LayoutProductViewerSection\r\n               v-if=\"hasProductPrevious\"\r\n               title=\"Previous\"\r\n            >\r\n               <div class=\"LayoutProductViewer-playlist\">\r\n                  <ItemProductSuggest\r\n                     :item=\"productPrevious\"\r\n                     @click=\"\r\n                        (productPrevious) => {\r\n                           $root.replaceRoute({\r\n                              query: { productId: productPrevious._id },\r\n                           });\r\n                        }\r\n                     \"\r\n                  />\r\n               </div>\r\n            </LayoutProductViewerSection>\r\n         </div>\r\n      </div>\r\n\r\n      <div class=\"LayoutProductViewer-emtpy\" v-if=\"!product\">\r\n         <div class=\"LayoutProductViewer-emtpy-cardBackground\"></div>\r\n         <span class=\"LayoutProductViewer-emtpy-title\">Viewer</span>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .LayoutProductViewer {\r\n      width: 100%;\r\n      position: relative;\r\n      background: white;\r\n      color: #2a4858;\r\n      font-size: 1.2rem;\r\n\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: flex-start;\r\n\r\n      .LayoutProductViewer-header {\r\n         z-index: 1;\r\n         width: 100%;\r\n         margin-bottom: -2rem;\r\n         position: relative;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n\r\n         & > * {\r\n            width: 100%;\r\n         }\r\n\r\n         .LayoutProductViewer-headerBackground {\r\n            z-index: 1;\r\n            position: absolute;\r\n            top: 0;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            opacity: 0.4;\r\n            opacity: 0.6;\r\n            background: var(--primary-color);\r\n            pointer-events: none;\r\n            transition: var(--animation-duration);\r\n         }\r\n         .LayoutProductViewer-headerGradient {\r\n            z-index: 2;\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            background: linear-gradient(\r\n               0deg,\r\n               #000000 0%,\r\n               rgba(0, 0, 0, 0) 100%\r\n            );\r\n            pointer-events: none;\r\n         }\r\n         .LayoutProductViewer-preview {\r\n            z-index: 3;\r\n         }\r\n         .LayoutProductViewer-title {\r\n            z-index: 4;\r\n            max-width: 90rem;\r\n            padding-top: 2rem;\r\n            padding-bottom: 4rem;\r\n            gap: 0.8rem;\r\n\r\n            display: flex;\r\n            flex-direction: column;\r\n\r\n            .LayoutProductViewer-text {\r\n               color: white;\r\n               // font-size: 2rem;\r\n               font-size: 2.2rem;\r\n               font-weight: 900;\r\n               padding-left: 2rem;\r\n               padding-right: 2rem;\r\n            }\r\n         }\r\n      }\r\n\r\n      .LayoutProductViewer-card {\r\n         z-index: 2;\r\n         position: relative;\r\n         width: 100%;\r\n         height: 100%;\r\n         border-radius: 2rem 2rem 0px 0px;\r\n         overflow: hidden;\r\n\r\n         width: inherit;\r\n         height: inherit;\r\n         background-color: hsl(0, 0%, 90%);\r\n\r\n         padding: 3rem 2rem;\r\n         padding-bottom: 20rem;\r\n         gap: 4rem;\r\n         color: black;\r\n\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n\r\n         & > * {\r\n            max-width: 90rem;\r\n         }\r\n\r\n         .LayoutProductViewer-cardBody-header {\r\n            width: 100%;\r\n            max-width: 50rem;\r\n            gap: 4rem;\r\n\r\n            display: grid;\r\n            grid-template-columns: repeat(auto-fit, minmax(22rem, 1fr));\r\n\r\n            .LayoutProductViewer-brand {\r\n               width: 100%;\r\n               display: flex;\r\n               flex-direction: row;\r\n               justify-content: flex-start;\r\n               align-items: flex-start;\r\n               .LayoutProductViewer-brand-item {\r\n                  width: 100%;\r\n                  padding: 2rem;\r\n                  gap: 1.4rem;\r\n                  background: hsla(0, 0%, 100%, 0.6);\r\n                  border-radius: 0.6rem;\r\n\r\n                  display: flex;\r\n                  flex-direction: row;\r\n                  align-items: center;\r\n                  justify-content: flex-start;\r\n\r\n                  .LayoutProductViewer-brand-item-icon {\r\n                     height: 2.2rem;\r\n                  }\r\n                  .LayoutProductViewer-brand-item-title {\r\n                     font-size: 1.1rem;\r\n                     font-weight: 900;\r\n                  }\r\n               }\r\n               .LayoutProductViewer-brand-noContent {\r\n                  opacity: 0.6;\r\n                  font-style: italic;\r\n               }\r\n            }\r\n            .LayoutProductViewer-title {\r\n               .LayoutProductViewer-title-noContent {\r\n                  opacity: 0.6;\r\n                  font-style: italic;\r\n               }\r\n            }\r\n         }\r\n         .LayoutProductViewer-category {\r\n            width: 100%;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: flex-start;\r\n            align-items: flex-start;\r\n            .LayoutProductViewer-category-item {\r\n               width: 100%;\r\n               padding: 2rem;\r\n               gap: 1.4rem;\r\n               background: hsla(0, 0%, 100%, 0.6);\r\n               border-radius: 0.6rem;\r\n\r\n               display: flex;\r\n               flex-direction: row;\r\n               align-items: center;\r\n               justify-content: flex-start;\r\n\r\n               .LayoutProductViewer-category-item-icon {\r\n                  width: 2.2rem;\r\n                  height: 2.2rem;\r\n               }\r\n               .LayoutProductViewer-category-item-title {\r\n                  font-size: 1.1rem;\r\n                  font-weight: 900;\r\n               }\r\n            }\r\n            .LayoutProductViewer-category-noContent {\r\n               opacity: 0.6;\r\n               font-style: italic;\r\n            }\r\n         }\r\n         .LayoutProductViewer-stock {\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: flex-start;\r\n            align-items: flex-start;\r\n            gap: 0.5rem;\r\n            .LayoutProductViewer-stock-outOfStock {\r\n               --primary-color: #ff4b33;\r\n            }\r\n            .LayoutProductViewer-stock-secondHand {\r\n               --primary-color: #249696;\r\n            }\r\n         }\r\n         .LayoutProductViewer-descriptionParent {\r\n            max-width: 40rem;\r\n            .LayoutProductViewer-description {\r\n               .LayoutProductViewer-description-noContent {\r\n                  opacity: 0.6;\r\n                  font-style: italic;\r\n               }\r\n            }\r\n         }\r\n         .LayoutProductViewer-specification {\r\n            width: 100%;\r\n            font-size: 1rem;\r\n\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n\r\n            .LayoutProductViewer-specifications {\r\n               width: 100%;\r\n               border-radius: 1rem;\r\n               overflow: hidden;\r\n\r\n               display: grid;\r\n               grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));\r\n               gap: 0.3rem;\r\n\r\n               .LayoutProductViewer-specifications-item {\r\n                  width: 100%;\r\n                  height: 100%;\r\n                  padding: 1.6rem;\r\n                  padding: 2rem;\r\n                  background: hsla(0, 0%, 100%, 0.6);\r\n               }\r\n            }\r\n            .LayoutProductViewer-specification-noContent {\r\n               opacity: 0.6;\r\n               font-style: italic;\r\n            }\r\n         }\r\n         .LayoutProductViewer-whatIncluded {\r\n            width: 100%;\r\n            font-size: 1rem;\r\n\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n\r\n            .LayoutProductViewer-whatIncludeds {\r\n               width: 100%;\r\n               gap: 0.3rem;\r\n               line-height: 0.8;\r\n               border-radius: 1rem;\r\n               overflow: hidden;\r\n\r\n               display: flex;\r\n               flex-direction: column;\r\n               flex-wrap: nowrap;\r\n               align-items: flex-start;\r\n\r\n               .LayoutProductViewer-whatIncludeds-item {\r\n                  width: 100%;\r\n                  padding: 2rem;\r\n                  background: hsla(0, 0%, 100%, 0.6);\r\n                  font-weight: 900;\r\n               }\r\n            }\r\n            .LayoutProductViewer-whatIncluded-noContent {\r\n               opacity: 0.6;\r\n               font-style: italic;\r\n            }\r\n         }\r\n         .LayoutProductViewer-playlistSections {\r\n            width: 100%;\r\n            max-width: 50rem;\r\n            gap: 4rem;\r\n            margin-top: 4rem;\r\n\r\n            display: flex;\r\n            flex-direction: row;\r\n\r\n            display: grid;\r\n            grid-template-columns: repeat(auto-fit, minmax(22rem, 1fr));\r\n\r\n            .LayoutProductViewer-playlist {\r\n               width: 100%;\r\n               border-radius: 0.6rem;\r\n               overflow: hidden;\r\n\r\n               display: flex;\r\n               flex-direction: row;\r\n               flex-wrap: wrap;\r\n               justify-content: space-between;\r\n               column-gap: 2rem;\r\n               row-gap: 1rem;\r\n               & > * {\r\n                  margin: auto;\r\n               }\r\n            }\r\n         }\r\n      }\r\n\r\n      .LayoutProductViewer-emtpy {\r\n         z-index: 2;\r\n         width: 100%;\r\n         height: 100%;\r\n         position: relative;\r\n\r\n         background-color: hsl(0, 0%, 90%);\r\n\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n         justify-content: center;\r\n         .LayoutProductViewer-emtpy-cardBackground {\r\n            z-index: 1;\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            opacity: 0.15;\r\n            background: var(--primary-color);\r\n\r\n            pointer-events: none;\r\n            display: flex;\r\n         }\r\n         .LayoutProductViewer-emtpy-title {\r\n            color: black;\r\n            opacity: 0.4;\r\n         }\r\n      }\r\n   }\r\n   .LayoutProductViewer-isWide {\r\n      flex-direction: row;\r\n      align-items: flex-start;\r\n      .LayoutProductViewer-header {\r\n         width: 45%;\r\n         height: 100vh;\r\n         min-width: 45%;\r\n         max-height: 100%;\r\n\r\n         position: sticky;\r\n         top: 0;\r\n         left: 0;\r\n      }\r\n      .LayoutProductViewer-card {\r\n         border-radius: 0;\r\n         box-shadow: 0 0 4rem hsla(0, 0%, 0%, 0.3);\r\n      }\r\n   }\r\n</style>\r\n"]}]}