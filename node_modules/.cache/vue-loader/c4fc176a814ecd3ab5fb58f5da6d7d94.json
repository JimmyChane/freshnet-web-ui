{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductViewer\\LayoutProductViewer.vue","mtime":1665408274711},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQcm9kdWN0U3BlY1R5cGUgZnJvbSAiQC9pdGVtcy9Qcm9kdWN0U3BlY1R5cGUuanMiOwppbXBvcnQgUHJvZHVjdFByaWNlIGZyb20gIkAvaXRlbXMvUHJvZHVjdFByaWNlLmpzIjsKaW1wb3J0IFNldHRpbmdNb2R1bGUgZnJvbSAiQC8uLi8uLi9leHByZXNzL2RhdGFfc3RydWN0dXJlcy9TZXR0aW5nLmpzIjsKCmltcG9ydCBMYXlvdXRQcm9kdWN0Vmlld2VyU2VjdGlvbiBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfU2VjdGlvbi52dWUiOwppbXBvcnQgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlUHJldmlldyBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfSW1hZ2VQcmV2aWV3LnZ1ZSI7CmltcG9ydCBMYXlvdXRQcm9kdWN0Vmlld2VySW1hZ2VzIGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JbWFnZXMudnVlIjsKaW1wb3J0IExheW91dFByb2R1Y3RWaWV3ZXJQcmljZVZpZXdlciBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfUHJpY2VWaWV3ZXIudnVlIjsKaW1wb3J0IExheW91dFByb2R1Y3RWaWV3ZXJQcmljZUVkaXRvciBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfUHJpY2VFZGl0b3IudnVlIjsKaW1wb3J0IEl0ZW1Qcm9kdWN0U3RvY2tDaGVja2JveCBmcm9tICIuL0xheW91dFByb2R1Y3RWaWV3ZXJfU3RvY2tDaGVja2JveC52dWUiOwppbXBvcnQgSXRlbVByb2R1Y3RTcGVjaWZpY2F0aW9uIGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JdGVtU3BlY2lmaWNhdGlvbi52dWUiOwppbXBvcnQgSXRlbVByb2R1Y3RTdWdnZXN0IGZyb20gIi4vTGF5b3V0UHJvZHVjdFZpZXdlcl9JdGVtUHJvZHVjdFN1Z2dlc3QudnVlIjsKCmltcG9ydCBjaHJvbWEgZnJvbSAiY2hyb21hLWpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgY29tcG9uZW50czogewogICAgICBMYXlvdXRQcm9kdWN0Vmlld2VyU2VjdGlvbiwKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlUHJldmlldywKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlckltYWdlcywKICAgICAgTGF5b3V0UHJvZHVjdFZpZXdlclByaWNlVmlld2VyLAogICAgICBMYXlvdXRQcm9kdWN0Vmlld2VyUHJpY2VFZGl0b3IsCiAgICAgIEl0ZW1Qcm9kdWN0U3BlY2lmaWNhdGlvbiwKICAgICAgSXRlbVByb2R1Y3RTdG9ja0NoZWNrYm94LAogICAgICBJdGVtUHJvZHVjdFN1Z2dlc3QsCiAgIH0sCiAgIGVtaXRzOiBbCiAgICAgICJjbGljay1wcm9kdWN0LWltYWdlUmVtb3ZlIiwKICAgICAgImNsaWNrLXByb2R1Y3QtdGl0bGVCcmFuZFVwZGF0ZSIsCiAgICAgICJjbGljay1wcm9kdWN0LXByaWNlVXBkYXRlIiwKICAgICAgImNsaWNrLXByb2R1Y3QtZGVzY3JpcHRpb25VcGRhdGUiLAogICAgICAiY2xpY2stcHJvZHVjdC1jYXRlZ29yeVVwZGF0ZSIsCiAgICAgICJjbGljay1wcm9kdWN0LXNwZWNpZmljYXRpb25zVXBkYXRlIiwKICAgXSwKICAgcHJvcHM6IHsKICAgICAgcHJvZHVjdDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKICAgICAgcHJvZHVjdFByZXZpb3VzOiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAogICAgICBwcm9kdWN0TmV4dDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6ICgpID0+IG51bGwgfSwKCiAgICAgIGlzV2lkZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICBpc0VkaXRhYmxlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIHByaW1hcnlDb2xvcjogImluaGVyaXQiLAogICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICJpbmhlcml0IiwKCiAgICAgICAgIGltYWdlUHJldmlld0luZGV4OiAwLAogICAgICAgICBvbktleVVwOiBudWxsLAoKICAgICAgICAgY2F0ZWdvcnk6IG51bGwsCiAgICAgICAgIGZ1bGxUaXRsZTogIiIsCiAgICAgICAgIGJyYW5kOiBudWxsLAogICAgICB9OwogICB9LAogICBjb21wdXRlZDogewogICAgICBoYXNJbWFnZVByZXZpb3VzOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5pbWFnZXMubGVuZ3RoID4gMCAmJiBjb250ZXh0LmltYWdlUHJldmlld0luZGV4ID4gMCwKICAgICAgaGFzSW1hZ2VOZXh0OiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5pbWFnZXMubGVuZ3RoIC0gMSA+IGNvbnRleHQuaW1hZ2VQcmV2aWV3SW5kZXgsCiAgICAgIGhhc1Byb2R1Y3RQcmV2aW91czogKGNvbnRleHQpID0+ICEhY29udGV4dC5wcm9kdWN0UHJldmlvdXMsCiAgICAgIGhhc1Byb2R1Y3ROZXh0OiAoY29udGV4dCkgPT4gISFjb250ZXh0LnByb2R1Y3ROZXh0LAoKICAgICAgc2V0dGluZ3MoKSB7CiAgICAgICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ1N0b3JlLmdldHRlcnMuaXRlbXM7CiAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNldHRpbmdzKSA/IHNldHRpbmdzIDogW107CiAgICAgIH0sCiAgICAgIHNldHRpbmdTaG93UHJpY2UoKSB7CiAgICAgICAgIGxldCB0aGVTZXR0aW5nID0gdGhpcy5zZXR0aW5ncy5maW5kKChzZXR0aW5nKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBzZXR0aW5nLmtleSA9PT0gU2V0dGluZ01vZHVsZS5LZXkuUHVibGljU2hvd1ByaWNlOwogICAgICAgICB9KTsKICAgICAgICAgcmV0dXJuIHRoZVNldHRpbmcgPyB0aGVTZXR0aW5nLnZhbHVlIDogZmFsc2U7CiAgICAgIH0sCgogICAgICB0aXRsZTogKGNvbnRleHQpID0+IChjb250ZXh0LnByb2R1Y3QgPyBjb250ZXh0LnByb2R1Y3QudGl0bGUgOiAiIiksCgogICAgICBpbWFnZVByZXZpZXc6IChjb250ZXh0KSA9PiB7CiAgICAgICAgIGlmIChjb250ZXh0LmltYWdlUHJldmlld0luZGV4ID49IGNvbnRleHQuaW1hZ2VzLmxlbmd0aCkKICAgICAgICAgICAgY29udGV4dC5pbWFnZVByZXZpZXdJbmRleCA9IDA7CiAgICAgICAgIHJldHVybiBjb250ZXh0LmltYWdlcy5sZW5ndGgKICAgICAgICAgICAgPyBjb250ZXh0LmltYWdlc1tjb250ZXh0LmltYWdlUHJldmlld0luZGV4XQogICAgICAgICAgICA6IG51bGw7CiAgICAgIH0sCiAgICAgIGltYWdlczogKGNvbnRleHQpID0+ICghY29udGV4dC5wcm9kdWN0ID8gW10gOiBjb250ZXh0LnByb2R1Y3QuaW1hZ2VzKSwKCiAgICAgIGJyYW5kSWQ6IChjb250ZXh0KSA9PiAoY29udGV4dC5wcm9kdWN0ID8gY29udGV4dC5wcm9kdWN0LmJyYW5kSWQgOiAiIiksCiAgICAgIGJyYW5kVGl0bGU6IChjb250ZXh0KSA9PiAoY29udGV4dC5icmFuZCA/IGNvbnRleHQuYnJhbmQudGl0bGUgOiAiIiksCiAgICAgIGJyYW5kSWNvbjogKGNvbnRleHQpID0+IChjb250ZXh0LmJyYW5kID8gY29udGV4dC5icmFuZC5pY29uIDogbnVsbCksCiAgICAgIGJyYW5kSWNvblVybDogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQuYnJhbmRJY29uID8gY29udGV4dC5icmFuZEljb24udG9VcmwoKSA6ICIiLAoKICAgICAgY2F0ZWdvcnlJZDogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQucHJvZHVjdCA/IGNvbnRleHQucHJvZHVjdC5jYXRlZ29yeUlkIDogIiIsCiAgICAgIGNhdGVnb3J5VGl0bGU6IChjb250ZXh0KSA9PgogICAgICAgICBjb250ZXh0LmNhdGVnb3J5ID8gY29udGV4dC5jYXRlZ29yeS50aXRsZSA6ICIiLAogICAgICBjYXRlZ29yeUljb246IChjb250ZXh0KSA9PgogICAgICAgICBjb250ZXh0LmNhdGVnb3J5ID8gY29udGV4dC5jYXRlZ29yeS5pY29uIDogbnVsbCwKICAgICAgY2F0ZWdvcnlJY29uVXJsOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5jYXRlZ29yeUljb24gPyBjb250ZXh0LmNhdGVnb3J5SWNvbi50b1VybCgpIDogIiIsCgogICAgICBwcmljZTogKGNvbnRleHQpID0+IHsKICAgICAgICAgaWYgKCFjb250ZXh0LmlzRWRpdGFibGUgJiYgIWNvbnRleHQuc2V0dGluZ1Nob3dQcmljZSkgcmV0dXJuIG51bGw7CiAgICAgICAgIHJldHVybiBjb250ZXh0LnByb2R1Y3QgPyBjb250ZXh0LnByb2R1Y3QuZ2V0UHJpY2UoKSA6IG51bGw7CiAgICAgIH0sCiAgICAgIHByaWNlTm9ybWFsOiAoY29udGV4dCkgPT4gewogICAgICAgICByZXR1cm4gY29udGV4dC5wcmljZSAmJiBjb250ZXh0LnByaWNlLm5vcm1hbAogICAgICAgICAgICA/IGNvbnRleHQucHJpY2Uubm9ybWFsCiAgICAgICAgICAgIDogbmV3IFByb2R1Y3RQcmljZSgpOwogICAgICB9LAogICAgICBwcmljZVByb21vdGlvbjogKGNvbnRleHQpID0+IHsKICAgICAgICAgcmV0dXJuIGNvbnRleHQucHJpY2UgJiYgY29udGV4dC5wcmljZS5wcm9tb3Rpb24KICAgICAgICAgICAgPyBjb250ZXh0LnByaWNlLnByb21vdGlvbgogICAgICAgICAgICA6IG5ldyBQcm9kdWN0UHJpY2UoKTsKICAgICAgfSwKICAgICAgZnVsbFByaWNlOiAoY29udGV4dCkgPT4gewogICAgICAgICBsZXQgbm9ybWFsID0gY29udGV4dC5wcmljZU5vcm1hbDsKICAgICAgICAgbGV0IHByb21vdGlvbiA9IGNvbnRleHQucHJpY2VQcm9tb3Rpb247CgogICAgICAgICBpZiAoY29udGV4dC5pc0VkaXRhYmxlKSB7CiAgICAgICAgICAgIHJldHVybiB7IG9yaWdpbmFsOiBub3JtYWwsIHNlbGw6IHByb21vdGlvbiB9OwogICAgICAgICB9CgogICAgICAgICBpZiAoY29udGV4dC5zZXR0aW5nU2hvd1ByaWNlKSB7CiAgICAgICAgICAgIGlmIChub3JtYWwuZ2V0VmFsdWUoKSA+IDAgJiYgcHJvbW90aW9uLmdldFZhbHVlKCkgPD0gMCkgewogICAgICAgICAgICAgICByZXR1cm4geyBvcmlnaW5hbDogbnVsbCwgc2VsbDogbm9ybWFsIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vcm1hbC5nZXRWYWx1ZSgpID4gMCAmJiBwcm9tb3Rpb24uZ2V0VmFsdWUoKSA+IDApIHsKICAgICAgICAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWw6IG5vcm1hbCwgc2VsbDogcHJvbW90aW9uIH07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5vcm1hbC5nZXRWYWx1ZSgpIDw9IDAgJiYgcHJvbW90aW9uLmdldFZhbHVlKCkgPiAwKSB7CiAgICAgICAgICAgICAgIHJldHVybiB7IG9yaWdpbmFsOiBub3JtYWwsIHNlbGw6IHByb21vdGlvbiB9OwogICAgICAgICAgICB9CiAgICAgICAgIH0KICAgICAgICAgcmV0dXJuIHsgb3JpZ2luYWw6IG51bGwsIHNlbGw6IG51bGwgfTsKICAgICAgfSwKCiAgICAgIHByb2R1Y3RJc1Byb21vdGlvbigpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiBmYWxzZTsKICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdC5pc1ByaWNlUHJvbW90aW9uKCk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RJc0F2YWlsYWJsZSgpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiB0cnVlOwogICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0LmlzU3RvY2tBdmFpbGFibGUoKTsKICAgICAgfSwKICAgICAgcHJvZHVjdElzU2Vjb25kSGFuZCgpIHsKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiBmYWxzZTsKICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdC5pc1N0b2NrU2Vjb25kSGFuZCgpOwogICAgICB9LAoKICAgICAgZGVzY3JpcHRpb24oKSB7CiAgICAgICAgIGlmICghdGhpcy5wcm9kdWN0KSByZXR1cm4gIiI7CiAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3QuZ2V0RGVzY3JpcHRpb24oKTsKICAgICAgfSwKCiAgICAgIHNwZWNpZmljYXRpb25LZXlzOiAoY29udGV4dCkgPT4gewogICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoUHJvZHVjdFNwZWNUeXBlLktleSkubWFwKChvYmplY3RLZXkpID0+IHsKICAgICAgICAgICAgcmV0dXJuIFByb2R1Y3RTcGVjVHlwZS5LZXlbb2JqZWN0S2V5XTsKICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RTcGVjaWZpY2F0aW9uczogKGNvbnRleHQpID0+IHsKICAgICAgICAgaWYgKCFjb250ZXh0LnByb2R1Y3QpIHJldHVybiBbXTsKICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRleHQucHJvZHVjdC5nZXRTcGVjaWZpY2F0aW9ucygpKSkgcmV0dXJuIFtdOwoKICAgICAgICAgcmV0dXJuIGNvbnRleHQucHJvZHVjdAogICAgICAgICAgICAuZ2V0U3BlY2lmaWNhdGlvbnMoKQogICAgICAgICAgICAuZmlsdGVyKChzcGVjKSA9PiBzcGVjICYmIHNwZWMudHlwZSAmJiBzcGVjLmNvbnRlbnQpCiAgICAgICAgICAgIC5zb3J0KChzcGVjMSwgc3BlYzIpID0+IHsKICAgICAgICAgICAgICAgY29uc3Qga2V5MSA9IGNvbnRleHQub2J0YWluS2V5T2ZTcGVjaWZpY2F0aW9uVHlwZShzcGVjMS50eXBlKTsKICAgICAgICAgICAgICAgY29uc3Qga2V5MiA9IGNvbnRleHQub2J0YWluS2V5T2ZTcGVjaWZpY2F0aW9uVHlwZShzcGVjMi50eXBlKTsKCiAgICAgICAgICAgICAgIGxldCBpbmRleDEgPSBjb250ZXh0LnNwZWNpZmljYXRpb25LZXlzLmluZGV4T2Yoa2V5MSk7CiAgICAgICAgICAgICAgIGxldCBpbmRleDIgPSBjb250ZXh0LnNwZWNpZmljYXRpb25LZXlzLmluZGV4T2Yoa2V5Mik7CgogICAgICAgICAgICAgICBpbmRleDEgPQogICAgICAgICAgICAgICAgICBpbmRleDEgPj0gMCA/IGluZGV4MSA6IGNvbnRleHQuc3BlY2lmaWNhdGlvbktleXMubGVuZ3RoOwogICAgICAgICAgICAgICBpbmRleDIgPQogICAgICAgICAgICAgICAgICBpbmRleDIgPj0gMCA/IGluZGV4MiA6IGNvbnRleHQuc3BlY2lmaWNhdGlvbktleXMubGVuZ3RoOwoKICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4MSAhPT0gaW5kZXgyCiAgICAgICAgICAgICAgICAgID8gaW5kZXgxIC0gaW5kZXgyCiAgICAgICAgICAgICAgICAgIDoga2V5MS5sb2NhbGVDb21wYXJlKGtleTIpOwogICAgICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIGdpZnRzOiAoY29udGV4dCkgPT4KICAgICAgICAgY29udGV4dC5wcm9kdWN0ID8gY29udGV4dC5wcm9kdWN0LmdldEdpZnRzKCkgOiBbXSwKICAgICAgYnVuZGxlczogKGNvbnRleHQpID0+CiAgICAgICAgIGNvbnRleHQucHJvZHVjdCA/IGNvbnRleHQucHJvZHVjdC5nZXRCdW5kbGVzKCkgOiBbXSwKICAgICAgd2hhdEluY2x1ZGVkczogKGNvbnRleHQpID0+IHsKICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgLi4uY29udGV4dC5naWZ0cwogICAgICAgICAgICAgICAuZmlsdGVyKChnaWZ0KSA9PiB0eXBlb2YgZ2lmdCA9PT0gInN0cmluZyIpCiAgICAgICAgICAgICAgIC5tYXAoKGdpZnQpID0+IGdpZnQudHJpbSgpKQogICAgICAgICAgICAgICAuZmlsdGVyKChnaWZ0KSA9PiBnaWZ0Lmxlbmd0aCksCiAgICAgICAgICAgIC4uLmNvbnRleHQuYnVuZGxlcwogICAgICAgICAgICAgICAuZmlsdGVyKAogICAgICAgICAgICAgICAgICAoYnVuZGxlKSA9PiB0eXBlb2YgYnVuZGxlID09PSAib2JqZWN0IiAmJiBidW5kbGUgIT09IG51bGwKICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAubWFwKChidW5kbGUpID0+IGJ1bmRsZS50aXRsZSkKICAgICAgICAgICAgICAgLmZpbHRlcigoYnVuZGxlKSA9PiB0eXBlb2YgYnVuZGxlID09PSAic3RyaW5nIikKICAgICAgICAgICAgICAgLm1hcCgoYnVuZGxlKSA9PiBidW5kbGUudHJpbSgpKQogICAgICAgICAgICAgICAuZmlsdGVyKChidW5kbGUpID0+IGJ1bmRsZS5sZW5ndGgpLAogICAgICAgICBdOwogICAgICB9LAogICB9LAogICB3YXRjaDogewogICAgICBwcm9kdWN0KCkgewogICAgICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICB9LAogICAgICBpbWFnZVByZXZpZXcoKSB7CiAgICAgICAgIHRoaXMub25JbWFnZVByZXZpZXcoKTsKICAgICAgfSwKICAgfSwKICAgbWV0aG9kczogewogICAgICBhc3luYyBvblByb2R1Y3QoKSB7CiAgICAgICAgIGlmICh0aGlzLnByb2R1Y3QpIHRoaXMuYWRkQXJyb3dMaXN0ZW5lcigpOwogICAgICAgICBlbHNlIHRoaXMucmVtb3ZlQXJyb3dMaXN0ZW5lcigpOwoKICAgICAgICAgdGhpcy5jYXRlZ29yeSA9IG51bGw7CiAgICAgICAgIHRoaXMuZnVsbFRpdGxlID0gIiI7CiAgICAgICAgIHRoaXMuYnJhbmQgPSBudWxsOwogICAgICAgICBpZiAodGhpcy5wcm9kdWN0KSB7CiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBhd2FpdCB0aGlzLnByb2R1Y3QuZmV0Y2hDYXRlZ29yeSgpOwogICAgICAgICAgICB0aGlzLmZ1bGxUaXRsZSA9IGF3YWl0IHRoaXMucHJvZHVjdC5mZXRjaEZ1bGxUaXRsZSgpOwogICAgICAgICAgICB0aGlzLmJyYW5kID0gYXdhaXQgdGhpcy5wcm9kdWN0LmZldGNoQnJhbmQoKTsKICAgICAgICAgfQogICAgICB9LAogICAgICBhc3luYyBvbkltYWdlUHJldmlldygpIHsKICAgICAgICAgaWYgKCF0aGlzLmltYWdlUHJldmlldykgewogICAgICAgICAgICB0aGlzLnByaW1hcnlDb2xvciA9ICJpbmhlcml0IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CgogICAgICAgICBjb25zdCBjb2xvciA9IGF3YWl0IHRoaXMuaW1hZ2VQcmV2aWV3CiAgICAgICAgICAgIC5mZXRjaENvbG9yKCkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfSk7CgogICAgICAgICBpZiAoIWNvbG9yKSB7CiAgICAgICAgICAgIHRoaXMucHJpbWFyeUNvbG9yID0gImluaGVyaXQiOwogICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICJpbmhlcml0IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CiAgICAgICAgIHRoaXMucHJpbWFyeUNvbG9yID0gY29sb3IudG9TdHJpbmcoKTsKICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBjaHJvbWEodGhpcy5wcmltYXJ5Q29sb3IpLm1peCgiZTZlNmU2IiwgMC44KTsKICAgICAgfSwKCiAgICAgIGNsaWNrUHJldmlvdXMoKSB7CiAgICAgICAgIGlmICh0aGlzLmhhc0ltYWdlUHJldmlvdXMpIHsKICAgICAgICAgICAgdGhpcy5pbWFnZVByZXZpZXdJbmRleC0tOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KCiAgICAgICAgIHJldHVybjsgLy8gZGlzYWJsZSBwcmV2aW91cyBwcm9kdWN0CgogICAgICAgICBpZiAoIXRoaXMuaGFzSW1hZ2VQcmV2aW91cyAmJiB0aGlzLmhhc1Byb2R1Y3RQcmV2aW91cykgewogICAgICAgICAgICB0aGlzLmltYWdlUHJldmlld0luZGV4ID0KICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0UHJldmlvdXMuZ2V0SW1hZ2VzKCkubGVuZ3RoIC0gMTsKICAgICAgICAgICAgdGhpcy4kcm9vdC5yZXBsYWNlUm91dGUoewogICAgICAgICAgICAgICBxdWVyeTogeyBwcm9kdWN0SWQ6IHRoaXMucHJvZHVjdFByZXZpb3VzLl9pZCB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgfQogICAgICB9LAogICAgICBjbGlja05leHQoKSB7CiAgICAgICAgIGlmICh0aGlzLmhhc0ltYWdlTmV4dCkgewogICAgICAgICAgICB0aGlzLmltYWdlUHJldmlld0luZGV4Kys7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgfQoKICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIG5leHQgcHJvZHVjdAoKICAgICAgICAgaWYgKCF0aGlzLmhhc0ltYWdlTmV4dCAmJiB0aGlzLmhhc1Byb2R1Y3ROZXh0KSB7CiAgICAgICAgICAgIHRoaXMuaW1hZ2VQcmV2aWV3SW5kZXggPSAwOwogICAgICAgICAgICB0aGlzLiRyb290LnJlcGxhY2VSb3V0ZSh7CiAgICAgICAgICAgICAgIHF1ZXJ5OiB7IHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0TmV4dC5faWQgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgIH0KICAgICAgfSwKCiAgICAgIG9idGFpbktleU9mU3BlY2lmaWNhdGlvblR5cGUodHlwZSkgewogICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICJvYmplY3QiKSByZXR1cm4gdHlwZS5rZXk7CiAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gInN0cmluZyIpIHJldHVybiB0eXBlOwogICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0sCgogICAgICBhZGRBcnJvd0xpc3RlbmVyKCkgewogICAgICAgICBpZiAodGhpcy5vbktleVVwID09PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMub25LZXlVcCA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkpIHJldHVybjsKCiAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICJBcnJvd0xlZnQiKSB0aGlzLmNsaWNrUHJldmlvdXMoKTsKICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gIkFycm93UmlnaHQiKSB0aGlzLmNsaWNrTmV4dCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCB0aGlzLm9uS2V5VXApOwogICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbW92ZUFycm93TGlzdGVuZXIoKSB7CiAgICAgICAgIGlmICh0aGlzLm9uS2V5VXAgIT09IG51bGwpIHsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5vbktleVVwKTsKICAgICAgICAgICAgdGhpcy5vbktleVVwID0gbnVsbDsKICAgICAgICAgfQogICAgICB9LAogICB9LAogICBtb3VudGVkKCkgewogICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICB0aGlzLm9uSW1hZ2VQcmV2aWV3KCk7CiAgIH0sCiAgIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMucmVtb3ZlQXJyb3dMaXN0ZW5lcigpOwogICB9LAp9Owo="},null]}