{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\product\\ActionBarProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\product\\ActionBarProduct.vue","mtime":1668010706692},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBY3Rpb25iYXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vYWN0aW9uYmFyMi9BY3Rpb25iYXIudnVlIjsKaW1wb3J0IFNlYXJjaElucHV0IGZyb20gIkAvY29tcG9uZW50cy9TZWFyY2hJbnB1dC52dWUiOwppbXBvcnQgSXRlbVNlYXJjaFByb2R1Y3QgZnJvbSAiLi9JdGVtU2VhcmNoUHJvZHVjdC52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewoJY29tcG9uZW50czogeyBBY3Rpb25iYXIsIFNlYXJjaElucHV0LCBJdGVtU2VhcmNoUHJvZHVjdCB9LAoJcHJvcHM6IHsKCQlwcm9kdWN0czogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogKCkgPT4gW10gfSwKCQlsZWZ0TWVudXM6IHsgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAoJCXJpZ2h0TWVudXM6IHsgZGVmYXVsdDogKCkgPT4gbnVsbCB9LAoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsgc2VhcmNoVGV4dDogIiIgfTsKCX0sCgljb21wdXRlZDogewoJCWlzT3ZlcjU1MHB4OiAoYykgPT4gYy4kcm9vdC53aW5kb3cuaW5uZXJXaWR0aCA+IDU1MCwKCgkJcGF0aHM6IChjKSA9PiBjLiRyb290LnBhdGhzLAoJCWxhc3RQYXRoKCkgewoJCQlsZXQgeyBwYXRocyB9ID0gdGhpczsKCQkJaWYgKCFwYXRocy5sZW5ndGgpIHJldHVybiAiIjsKCQkJcmV0dXJuIHBhdGhzW3BhdGhzLmxlbmd0aCAtIDFdOwoJCX0sCgkJcHJvZHVjdFNlYXJjaGVzKCkgewoJCQljb25zdCBzdHIgPSB0aGlzLnNlYXJjaFRleHQ7CgoJCQlpZiAoIXN0cikgcmV0dXJuIFtdOwoKCQkJY29uc3Qgc3RycyA9IHN0cgoJCQkJLnRvTG93ZXJDYXNlKCkKCQkJCS5zcGxpdCgvW1xzLF0rLykKCQkJCS5maWx0ZXIoKHRleHQpID0+IHRleHQpOwoKCQkJcmV0dXJuIHRoaXMucHJvZHVjdHMKCQkJCS5yZWR1Y2UoKHJlc3VsdHMsIHByb2R1Y3QpID0+IHsKCQkJCQl0cnkgewoJCQkJCQljb25zdCBjb3VudCA9IHByb2R1Y3QudG9Db3VudChzdHJzKTsKCQkJCQkJaWYgKGNvdW50ID4gMCkgcmVzdWx0cy5wdXNoKHsgY291bnQsIHByb2R1Y3QgfSk7CgkJCQkJfSBjYXRjaCAoZXJyb3IpIHsKCQkJCQkJY29uc29sZS5lcnJvcigib25lIG9mIHNlYXJjaCByZXN1bHQgZmFpbGVkIik7CgkJCQkJCWNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJCQkJCX0KCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCX0sIFtdKQoJCQkJLnNvcnQoKHJlc3VsdDEsIHJlc3VsdDIpID0+IHJlc3VsdDIuY291bnQgLSByZXN1bHQxLmNvdW50KQoJCQkJLm1hcCgocmVzdWx0KSA9PiByZXN1bHQucHJvZHVjdCk7CgkJfSwKCgkJaW5pdExlZnRNZW51cygpIHsKCQkJY29uc3QgbWVudXMgPSBbXTsKCgkJCWlmIChBcnJheS5pc0FycmF5KHRoaXMubGVmdE1lbnVzKSkgbWVudXMucHVzaCguLi50aGlzLmxlZnRNZW51cyk7CgkJCWlmICgKCQkJCSFBcnJheS5pc0FycmF5KHRoaXMubGVmdE1lbnVzKSAmJgoJCQkJdGhpcy5sZWZ0TWVudXMgIT09IG51bGwgJiYKCQkJCXRoaXMubGVmdE1lbnVzICE9PSB1bmRlZmluZWQKCQkJKSB7CgkJCQltZW51cy5wdXNoKHRoaXMubGVmdE1lbnVzKTsKCQkJfQoKCQkJaWYgKHRoaXMuJHJvb3QubmF2aWdhdGlvbi5pc0RyYXdlcigpKSB7CgkJCQltZW51cy5wdXNoKHsKCQkJCQlrZXk6ICJob21lIiwKCQkJCQl0aXRsZTogIkhvbWUiLAoJCQkJCWljb246IHRoaXMuaG9zdC5yZXMoImljb24vaG9tZS0yQTQ4NTguc3ZnIiksCgkJCQkJY2xpY2s6ICgpID0+IHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpLAoJCQkJfSk7CgkJCQltZW51cy5wdXNoKHsKCQkJCQlrZXk6ICJoYW1idXJnZXJNZW51IiwKCQkJCQl0aXRsZTogIkhhbWJ1cmdlciBNZW51IiwKCQkJCQlpY29uOiB0aGlzLmhvc3QucmVzKCJpY29uL2hhbWJ1cmdlck1lbnUtMkE0ODU4LnN2ZyIpLAoJCQkJCWNsaWNrOiAoKSA9PiB0aGlzLiRyb290Lm9wZW5OYXZpZ2F0aW9uRHJhd2VyKCksCgkJCQl9KTsKCQkJfQoKCQkJcmV0dXJuIG1lbnVzOwoJCX0sCgkJaW5pdFJpZ2h0TWVudXMoKSB7CgkJCWNvbnN0IG1lbnVzID0gW107CgoJCQlpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnJpZ2h0TWVudXMpKSBtZW51cy5wdXNoKC4uLnRoaXMucmlnaHRNZW51cyk7CgkJCWlmICgKCQkJCSFBcnJheS5pc0FycmF5KHRoaXMucmlnaHRNZW51cykgJiYKCQkJCXRoaXMucmlnaHRNZW51cyAhPT0gbnVsbCAmJgoJCQkJdGhpcy5yaWdodE1lbnVzICE9PSB1bmRlZmluZWQKCQkJKSB7CgkJCQltZW51cy5wdXNoKHRoaXMucmlnaHRNZW51cyk7CgkJCX0KCgkJCW1lbnVzLnB1c2goewoJCQkJa2V5OiAicmVmcmVzaCIsCgkJCQl0aXRsZTogIlJlZnJlc2giLAoJCQkJaWNvbjogdGhpcy5ob3N0LnJlcygiaWNvbi9yZWZyZXNoLTJBNDg1OC5zdmciKSwKCQkJCWNsaWNrOiAoKSA9PiB7CgkJCQkJdGhpcy5jYXRlZ29yeVN0b3JlLmRpc3BhdGNoKCJyZWZyZXNoIik7CgkJCQkJdGhpcy5wcm9kdWN0U3RvcmUuZGlzcGF0Y2goInJlZnJlc2giKTsKCQkJCX0sCgkJCX0pOwoKCQkJcmV0dXJuIG1lbnVzOwoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["ActionBarProduct.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ActionBarProduct.vue","sourceRoot":"src/pages/product","sourcesContent":["<script>\r\n\timport Actionbar from \"@/components/navigation/actionbar2/Actionbar.vue\";\r\n\timport SearchInput from \"@/components/SearchInput.vue\";\r\n\timport ItemSearchProduct from \"./ItemSearchProduct.vue\";\r\n\r\n\texport default {\r\n\t\tcomponents: { Actionbar, SearchInput, ItemSearchProduct },\r\n\t\tprops: {\r\n\t\t\tproducts: { type: Array, default: () => [] },\r\n\t\t\tleftMenus: { default: () => null },\r\n\t\t\trightMenus: { default: () => null },\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn { searchText: \"\" };\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tisOver550px: (c) => c.$root.window.innerWidth > 550,\r\n\r\n\t\t\tpaths: (c) => c.$root.paths,\r\n\t\t\tlastPath() {\r\n\t\t\t\tlet { paths } = this;\r\n\t\t\t\tif (!paths.length) return \"\";\r\n\t\t\t\treturn paths[paths.length - 1];\r\n\t\t\t},\r\n\t\t\tproductSearches() {\r\n\t\t\t\tconst str = this.searchText;\r\n\r\n\t\t\t\tif (!str) return [];\r\n\r\n\t\t\t\tconst strs = str\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.split(/[\\s,]+/)\r\n\t\t\t\t\t.filter((text) => text);\r\n\r\n\t\t\t\treturn this.products\r\n\t\t\t\t\t.reduce((results, product) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst count = product.toCount(strs);\r\n\t\t\t\t\t\t\tif (count > 0) results.push({ count, product });\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error(\"one of search result failed\");\r\n\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}, [])\r\n\t\t\t\t\t.sort((result1, result2) => result2.count - result1.count)\r\n\t\t\t\t\t.map((result) => result.product);\r\n\t\t\t},\r\n\r\n\t\t\tinitLeftMenus() {\r\n\t\t\t\tconst menus = [];\r\n\r\n\t\t\t\tif (Array.isArray(this.leftMenus)) menus.push(...this.leftMenus);\r\n\t\t\t\tif (\r\n\t\t\t\t\t!Array.isArray(this.leftMenus) &&\r\n\t\t\t\t\tthis.leftMenus !== null &&\r\n\t\t\t\t\tthis.leftMenus !== undefined\r\n\t\t\t\t) {\r\n\t\t\t\t\tmenus.push(this.leftMenus);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.$root.navigation.isDrawer()) {\r\n\t\t\t\t\tmenus.push({\r\n\t\t\t\t\t\tkey: \"home\",\r\n\t\t\t\t\t\ttitle: \"Home\",\r\n\t\t\t\t\t\ticon: this.host.res(\"icon/home-2A4858.svg\"),\r\n\t\t\t\t\t\tclick: () => this.$router.push(\"/home\"),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmenus.push({\r\n\t\t\t\t\t\tkey: \"hamburgerMenu\",\r\n\t\t\t\t\t\ttitle: \"Hamburger Menu\",\r\n\t\t\t\t\t\ticon: this.host.res(\"icon/hamburgerMenu-2A4858.svg\"),\r\n\t\t\t\t\t\tclick: () => this.$root.openNavigationDrawer(),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn menus;\r\n\t\t\t},\r\n\t\t\tinitRightMenus() {\r\n\t\t\t\tconst menus = [];\r\n\r\n\t\t\t\tif (Array.isArray(this.rightMenus)) menus.push(...this.rightMenus);\r\n\t\t\t\tif (\r\n\t\t\t\t\t!Array.isArray(this.rightMenus) &&\r\n\t\t\t\t\tthis.rightMenus !== null &&\r\n\t\t\t\t\tthis.rightMenus !== undefined\r\n\t\t\t\t) {\r\n\t\t\t\t\tmenus.push(this.rightMenus);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmenus.push({\r\n\t\t\t\t\tkey: \"refresh\",\r\n\t\t\t\t\ttitle: \"Refresh\",\r\n\t\t\t\t\ticon: this.host.res(\"icon/refresh-2A4858.svg\"),\r\n\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\tthis.categoryStore.dispatch(\"refresh\");\r\n\t\t\t\t\t\tthis.productStore.dispatch(\"refresh\");\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn menus;\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"ActionbarProduct\">\r\n\t\t<Actionbar\r\n\t\t\tclass=\"ActionbarProduct-actionbar\"\r\n\t\t\t:leftMenus=\"initLeftMenus\"\r\n\t\t\t:rightMenus=\"initRightMenus\"\r\n\t\t>\r\n\t\t\t<div class=\"ActionbarProduct-search\" v-if=\"isOver550px\">\r\n\t\t\t\t<SearchInput\r\n\t\t\t\t\tclass=\"ActionbarProduct-searchInput\"\r\n\t\t\t\t\tplaceholder=\"Search products\"\r\n\t\t\t\t\t:list=\"productSearches\"\r\n\t\t\t\t\t@callback-search=\"(text) => (searchText = text)\"\r\n\t\t\t\t\tv-slot=\"{ list }\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<router-link\r\n\t\t\t\t\t\tclass=\"ActionbarProduct-search-item-link\"\r\n\t\t\t\t\t\tv-for=\"product in list\"\r\n\t\t\t\t\t\t:key=\"product.id\"\r\n\t\t\t\t\t\t:to=\"{ query: { productId: product.id } }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ItemSearchProduct\r\n\t\t\t\t\t\t\tclass=\"ActionbarProduct-search-item\"\r\n\t\t\t\t\t\t\t:item=\"product\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</SearchInput>\r\n\t\t\t</div>\r\n\t\t</Actionbar>\r\n\r\n\t\t<div class=\"ActionbarProduct-outside\" v-if=\"!isOver550px\">\r\n\t\t\t<SearchInput\r\n\t\t\t\tclass=\"ActionbarProduct-searchInput\"\r\n\t\t\t\tplaceholder=\"Search products\"\r\n\t\t\t\t:list=\"productSearches\"\r\n\t\t\t\t@callback-search=\"(text) => (searchText = text)\"\r\n\t\t\t\tv-slot=\"{ list }\"\r\n\t\t\t>\r\n\t\t\t\t<router-link\r\n\t\t\t\t\tclass=\"ActionbarProduct-search-item-link\"\r\n\t\t\t\t\tv-for=\"product in list\"\r\n\t\t\t\t\t:key=\"product.id\"\r\n\t\t\t\t\t:to=\"{ query: { productId: product.id } }\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ItemSearchProduct\r\n\t\t\t\t\t\tclass=\"ActionbarProduct-search-item\"\r\n\t\t\t\t\t\t:item=\"product\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</router-link>\r\n\t\t\t</SearchInput>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.ActionbarProduct {\r\n\t\twidth: 100%;\r\n\t\tposition: sticky;\r\n\t\ttop: 0;\r\n\t\t.ActionbarProduct-actionbar {\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.ActionbarProduct-search {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: nowrap;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tgap: 0.8rem;\r\n\r\n\t\t\t\t.ActionbarProduct-searchInput {\r\n\t\t\t\t\tflex-grow: 1;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\tmax-width: 40em;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\t--background: white;\r\n\t\t\t\t\t.ActionbarProduct-search-item-link {\r\n\t\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t.ActionbarProduct-search-item {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.ActionbarProduct-outside {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-wrap: nowrap;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tgap: 0.8rem;\r\n\t\t\tbackground-color: #e2e8eb;\r\n\r\n\t\t\t.ActionbarProduct-searchInput {\r\n\t\t\t\tflex-grow: 1;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\tmax-width: 40em;\r\n\t\t\t\tborder: none;\r\n\t\t\t\t--background: white;\r\n\t\t\t\t--border: none;\r\n\t\t\t\t--border-radius: 0;\r\n\t\t\t\t.ActionbarProduct-search-item-link {\r\n\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t.ActionbarProduct-search-item {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}