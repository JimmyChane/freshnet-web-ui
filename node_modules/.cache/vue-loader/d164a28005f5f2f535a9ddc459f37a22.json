{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\manage\\PageManage.vue?vue&type=style&index=0&id=71441f0a&lang=scss&scoped=true&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\manage\\PageManage.vue","mtime":1664551315824},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\css-loader\\index.js","mtime":1662650920109},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1662650934772},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1662650932744},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5QYWdlTWFuYWdlIHsKICAgd2lkdGg6IDEwMCU7CiAgIGhlaWdodDogMTAwJTsKICAgZGlzcGxheTogZmxleDsKICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7CiAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDsKICAgb3ZlcmZsb3c6IGhpZGRlbjsKCiAgIC5QYWdlTWFuYWdlLXZpZXcgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICBmbGV4LWdyb3c6IDE7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7CiAgICAgIHotaW5kZXg6IDE7CiAgIH0KfQo="},{"version":3,"sources":["PageManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageManage.vue","sourceRoot":"src/pages/manage","sourcesContent":["<script>\r\n   import PageProfile from \"@/pages/profile/PageProfile.vue\";\r\n   import PageCustomer from \"@/pages/customer/PageCustomer.vue\";\r\n   import PageService from \"@/pages/service/PageService.vue\";\r\n   import PageOrder from \"@/pages/order/PageOrder.vue\";\r\n   import PageUsers from \"@/pages/users/PageUsers.vue\";\r\n   import PageDatabase from \"@/pages/database/PageDatabase.vue\";\r\n   import PageSetting from \"@/pages/setting/PageSetting.vue\";\r\n\r\n   export default {\r\n      key: \"manage\",\r\n      name: \"Manage\",\r\n      title: \"Manage\",\r\n      icon: { light: \"manage-FFFFFF\", dark: \"manage-2A4858\" },\r\n\r\n      _children() {\r\n         return [PageProfile];\r\n      },\r\n      _groups() {\r\n         return [\r\n            {\r\n               key: \"record\",\r\n               title: \"Record\",\r\n               children: [PageCustomer, PageService, PageOrder],\r\n            },\r\n            {\r\n               key: \"system\",\r\n               title: \"System\",\r\n               children: [PageUsers, PageDatabase, PageSetting],\r\n            },\r\n         ];\r\n      },\r\n\r\n      userPermissions: [\"admin\", \"staff\"],\r\n\r\n      computed: {\r\n         user: (c) => c.loginStore.getters.user,\r\n      },\r\n      watch: {\r\n         user(userNow, userWas) {\r\n            if (userWas && !userNow) {\r\n               this.redirectToLogin();\r\n            }\r\n         },\r\n      },\r\n      methods: {\r\n         clickLogout() {\r\n            if (this.user)\r\n               this.loginStore.dispatch(\"logout\").then(() => this.redirectToLogin());\r\n         },\r\n         redirectToLogin() {\r\n            this.$router.replace({\r\n               path: \"/login\",\r\n               query: { redirect: this.$router.currentRoute.fullPath },\r\n            });\r\n         },\r\n      },\r\n      async mounted() {\r\n         try {\r\n            const user = await this.loginStore.dispatch(\"getUser\");\r\n            if (!user) this.redirectToLogin();\r\n         } catch (error) {\r\n            this.redirectToLogin();\r\n         }\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageManage\">\r\n      <router-view\r\n         class=\"PageManage-view\"\r\n         v-if=\"user\"\r\n         @click-drawer-expand=\"$root.openNavigationDrawer()\"\r\n      />\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageManage {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: stretch;\r\n      justify-content: stretch;\r\n      overflow: hidden;\r\n\r\n      .PageManage-view {\r\n         width: 100%;\r\n         height: 100%;\r\n         flex-grow: 1;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: stretch;\r\n         justify-content: stretch;\r\n         z-index: 1;\r\n      }\r\n   }\r\n</style>\r\n"]}]}