{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\views\\browse\\LayoutProductBrowseProducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\views\\browse\\LayoutProductBrowseProducts.vue","mtime":1662650937430},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBVc2VyIGZyb20gIkAvLi4vLi4vZXhwcmVzcy9kYXRhX3N0cnVjdHVyZXMvVXNlci5qcyI7CmltcG9ydCBQcm9kdWN0RmlsdGVyIGZyb20gIkAvdXRpbHMvUHJvZHVjdEZpbHRlci5qcyI7CgppbXBvcnQgQnV0dG9uQWRkUHJvZHVjdCBmcm9tICJAL3BhZ2VzL3Byb2R1Y3QvTGF5b3V0UHJvZHVjdEdyb3VwL0J1dHRvbkFkZFByb2R1Y3QudnVlIjsKaW1wb3J0IEl0ZW1Qcm9kdWN0IGZyb20gIi4uLy4uL2l0ZW0vSXRlbVByb2R1Y3QudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgY29tcG9uZW50czogeyBCdXR0b25BZGRQcm9kdWN0LCBJdGVtUHJvZHVjdCB9LAogICBlbWl0czogWyJjbGljay1wcm9kdWN0QWRkIl0sCiAgIHByb3BzOiB7CiAgICAgIGNhdGVnb3J5OiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogbnVsbCB9LAogICAgICBwcm9kdWN0czogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogKCkgPT4gW10gfSwKICAgfSwKICAgY29tcHV0ZWQ6IHsKICAgICAgdXNlcjogKGMpID0+IGMubG9naW5TdG9yZS5nZXR0ZXJzLnVzZXIsCiAgICAgIHVzZXJUeXBlOiAoYykgPT4gKGMudXNlciA/IGMudXNlci50eXBlIDogVXNlci5UeXBlLk5vbmUpLAogICAgICBpc1VzZXJBZG1pbjogKGMpID0+IGMudXNlclR5cGUgPT09IFVzZXIuVHlwZS5BZG1pbiwKICAgICAgaXNVc2VyU3RhZmY6IChjKSA9PiBjLnVzZXJUeXBlID09PSBVc2VyLlR5cGUuU3RhZmYsCiAgICAgIGlzRWRpdGFibGU6IChjKSA9PiBjLmlzVXNlckFkbWluIHx8IGMuaXNVc2VyU3RhZmYsCgogICAgICBwcm9kdWN0SWQ6IChjKSA9PiBjLiRyb3V0ZS5xdWVyeS5wcm9kdWN0SWQsCiAgICAgIGZpbHRlcktleTogKGMpID0+IGMuJHJvdXRlLnF1ZXJ5LmZpbHRlciwKICAgICAgZmlsdGVyOiAoYykgPT4gUHJvZHVjdEZpbHRlci5nZXRGaWx0ZXJCeUtleShjLmZpbHRlcktleSksCiAgICAgIGdyb3VwczogKGMpID0+IHsKICAgICAgICAgaWYgKGMuZmlsdGVyS2V5ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgYy4kcm9vdC5yZXBsYWNlUm91dGUoeyBxdWVyeTogeyBmaWx0ZXI6IFByb2R1Y3RGaWx0ZXIuS2V5LkJyYW5kIH0gfSk7CiAgICAgICAgIH0KCiAgICAgICAgIGxldCBwcm9kdWN0cyA9IGMucHJvZHVjdHM7CgogICAgICAgICBpZiAoIWMuaXNFZGl0YWJsZSkgewogICAgICAgICAgICBwcm9kdWN0cyA9IGMucHJvZHVjdHMuZmlsdGVyKChwcm9kdWN0KSA9PiB7CiAgICAgICAgICAgICAgIHJldHVybiBwcm9kdWN0LmlzU3RvY2tBdmFpbGFibGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgIH0KCiAgICAgICAgIGlmICghYy5maWx0ZXIpIHsKICAgICAgICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBwcm9kdWN0czsKICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICB0aXRsZTogYCR7bGVuZ3RofSAke2xlbmd0aCA+IDEgPyAiSXRlbXMiIDogIkl0ZW0ifSBBdmFpbGFibGVgLAogICAgICAgICAgICAgICAgICBwcm9kdWN0cywKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXTsKICAgICAgICAgfQoKICAgICAgICAgbGV0IGdyb3VwcyA9IGMuZmlsdGVyLnRvR3JvdXBzKHByb2R1Y3RzKS5tYXAoKGdyb3VwKSA9PiB7CiAgICAgICAgICAgIGdyb3VwLnByb2R1Y3RzID0gZ3JvdXAuaXRlbXM7CiAgICAgICAgICAgIHJldHVybiBncm91cDsKICAgICAgICAgfSk7CgogICAgICAgICBpZiAoIWMuaXNFZGl0YWJsZSkgewogICAgICAgICAgICBncm91cHMgPSBncm91cHMuZmlsdGVyKChncm91cCkgPT4gZ3JvdXAucHJvZHVjdHMubGVuZ3RoID4gMCk7CiAgICAgICAgIH0KCiAgICAgICAgIHJldHVybiBncm91cHMuc29ydChjLmZpbHRlci5hcnJhbmdlR3JvdXBzKTsKICAgICAgfSwKCiAgICAgIGlzT3ZlcjYwMHB4OiAoYykgPT4gYy4kcm9vdC53aW5kb3cuaW5uZXJXaWR0aCA+IDYwMCwKICAgfSwKfTsK"},{"version":3,"sources":["LayoutProductBrowseProducts.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"LayoutProductBrowseProducts.vue","sourceRoot":"src/pages/product/views/browse","sourcesContent":["<script>\r\n   import User from \"@/../../express/data_structures/User.js\";\r\n   import ProductFilter from \"@/utils/ProductFilter.js\";\r\n\r\n   import ButtonAddProduct from \"@/pages/product/LayoutProductGroup/ButtonAddProduct.vue\";\r\n   import ItemProduct from \"../../item/ItemProduct.vue\";\r\n\r\n   export default {\r\n      components: { ButtonAddProduct, ItemProduct },\r\n      emits: [\"click-productAdd\"],\r\n      props: {\r\n         category: { type: Object, default: null },\r\n         products: { type: Array, default: () => [] },\r\n      },\r\n      computed: {\r\n         user: (c) => c.loginStore.getters.user,\r\n         userType: (c) => (c.user ? c.user.type : User.Type.None),\r\n         isUserAdmin: (c) => c.userType === User.Type.Admin,\r\n         isUserStaff: (c) => c.userType === User.Type.Staff,\r\n         isEditable: (c) => c.isUserAdmin || c.isUserStaff,\r\n\r\n         productId: (c) => c.$route.query.productId,\r\n         filterKey: (c) => c.$route.query.filter,\r\n         filter: (c) => ProductFilter.getFilterByKey(c.filterKey),\r\n         groups: (c) => {\r\n            if (c.filterKey === undefined) {\r\n               c.$root.replaceRoute({ query: { filter: ProductFilter.Key.Brand } });\r\n            }\r\n\r\n            let products = c.products;\r\n\r\n            if (!c.isEditable) {\r\n               products = c.products.filter((product) => {\r\n                  return product.isStockAvailable();\r\n               });\r\n            }\r\n\r\n            if (!c.filter) {\r\n               let { length } = products;\r\n               return [\r\n                  {\r\n                     title: `${length} ${length > 1 ? \"Items\" : \"Item\"} Available`,\r\n                     products,\r\n                  },\r\n               ];\r\n            }\r\n\r\n            let groups = c.filter.toGroups(products).map((group) => {\r\n               group.products = group.items;\r\n               return group;\r\n            });\r\n\r\n            if (!c.isEditable) {\r\n               groups = groups.filter((group) => group.products.length > 0);\r\n            }\r\n\r\n            return groups.sort(c.filter.arrangeGroups);\r\n         },\r\n\r\n         isOver600px: (c) => c.$root.window.innerWidth > 600,\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageProductBrowse\">\r\n      <div class=\"PageProductBrowse-header\" v-if=\"isEditable\">\r\n         <ButtonAddProduct\r\n            class=\"LayoutProductBrowseProducts-button-add\"\r\n            @click=\"$emit('click-productAdd', category)\"\r\n         />\r\n      </div>\r\n      <div class=\"LayoutProductBrowseProducts\">\r\n         <div class=\"LayoutProductBrowseProducts-groups\">\r\n            <div\r\n               class=\"LayoutProductBrowseProducts-group\"\r\n               v-for=\"group in groups\"\r\n               :key=\"group.key ? group.key : group.title\"\r\n            >\r\n               <div\r\n                  :class=\"[\r\n                     'LayoutProductBrowseProducts-group-body',\r\n                     `LayoutProductBrowseProducts-group-body-${\r\n                        isOver600px ? 'isWide' : 'isThin'\r\n                     }`,\r\n                  ]\"\r\n               >\r\n                  <div class=\"LayoutProductBrowseProducts-group-header\">\r\n                     <img\r\n                        class=\"LayoutProductBrowseProducts-group-icon\"\r\n                        v-if=\"group && group.icon\"\r\n                        :src=\"group.icon\"\r\n                     />\r\n                     <span\r\n                        class=\"LayoutProductBrowseProducts-group-title\"\r\n                        v-if=\"group.title\"\r\n                     >\r\n                        {{ group.title }}\r\n                     </span>\r\n                  </div>\r\n\r\n                  <div\r\n                     class=\"LayoutProductBrowseProducts-group-item-link-body\"\r\n                     v-for=\"product in group.products\"\r\n                     :key=\"product._id\"\r\n                  >\r\n                     <router-link\r\n                        class=\"LayoutProductBrowseProducts-group-item-link\"\r\n                        :to=\"{ query: { productId: product.getId() } }\"\r\n                     >\r\n                        <ItemProduct\r\n                           :item=\"product\"\r\n                           :isSelected=\"productId === product._id\"\r\n                           :isScreenWide=\"isOver600px\"\r\n                        />\r\n                     </router-link>\r\n                  </div>\r\n               </div>\r\n\r\n               <div class=\"LayoutProductBrowseProducts-group-separator\"></div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageProductBrowse-header {\r\n      display: flex;\r\n      flex-direction: column;\r\n      padding: 1em;\r\n      .LayoutProductBrowseProducts-button-add {\r\n         border-radius: 0.5em;\r\n      }\r\n   }\r\n   .LayoutProductBrowseProducts {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n\r\n      .LayoutProductBrowseProducts-groups {\r\n         z-index: 1;\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: column;\r\n         flex-wrap: nowrap;\r\n\r\n         .LayoutProductBrowseProducts-group {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n\r\n            .LayoutProductBrowseProducts-group-separator {\r\n               width: 100%;\r\n               min-height: 2px;\r\n               background: hsla(0, 0%, 0%, 0.1);\r\n               margin-top: 2rem;\r\n               margin-bottom: 3rem;\r\n            }\r\n\r\n            .LayoutProductBrowseProducts-group-body {\r\n               --item-width: 18rem;\r\n\r\n               width: 100%;\r\n\r\n               .LayoutProductBrowseProducts-group-header {\r\n                  width: 100%;\r\n                  padding: 2rem 1.5rem;\r\n                  margin-bottom: 1rem;\r\n\r\n                  display: flex;\r\n                  flex-direction: row;\r\n                  flex-wrap: wrap;\r\n                  align-items: center;\r\n                  grid-column: 1 / -1;\r\n\r\n                  gap: 20px;\r\n                  font-weight: 900;\r\n                  font-size: 1.3rem;\r\n                  z-index: 2;\r\n                  position: sticky;\r\n                  top: 4rem;\r\n                  background: var(--background-color);\r\n                  .LayoutProductBrowseProducts-group-icon {\r\n                     height: 1.6rem;\r\n                     object-fit: contain;\r\n                  }\r\n                  .LayoutProductBrowseProducts-group-title {\r\n                     font-size: 1.6rem;\r\n                     letter-spacing: 0.1rem;\r\n                     color: hsl(0, 0%, 20%);\r\n                  }\r\n               }\r\n\r\n               .LayoutProductBrowseProducts-group-item-link-body {\r\n                  z-index: 1;\r\n                  padding: 0.5rem;\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  flex-wrap: nowrap;\r\n                  justify-content: flex-start;\r\n                  text-decoration: none;\r\n                  .LayoutProductBrowseProducts-group-item-link {\r\n                     width: 100%;\r\n                     height: 100%;\r\n                     display: flex;\r\n                     flex-direction: column;\r\n                     flex-wrap: nowrap;\r\n                     justify-content: flex-start;\r\n                     text-decoration: none;\r\n                  }\r\n               }\r\n\r\n               & > * {\r\n                  flex-grow: 1;\r\n                  flex-basis: var(--item-width);\r\n                  height: 100%;\r\n               }\r\n            }\r\n            .LayoutProductBrowseProducts-group-body-isWide {\r\n               padding: 0.8rem;\r\n               display: grid;\r\n               flex-direction: column;\r\n               grid-template-columns: repeat(auto-fit, minmax(var(--item-width), 1fr));\r\n               justify-content: center;\r\n            }\r\n            .LayoutProductBrowseProducts-group-body-isThin {\r\n               padding: 0.6rem;\r\n               --item-width: none;\r\n               display: flex;\r\n               flex-direction: column;\r\n               align-items: center;\r\n               .LayoutProductBrowseProducts-group-header {\r\n                  height: fit-content;\r\n               }\r\n               & > * {\r\n                  width: 100%;\r\n                  height: fit-content;\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"]}]}