{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\service\\PanelServices.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\service\\PanelServices.vue","mtime":1665407357829},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBNb2R1bGVTZXJ2aWNlIGZyb20gIkAvLi4vLi4vZXhwcmVzcy9kYXRhX3N0cnVjdHVyZXMvU2VydmljZS5qcyI7CmltcG9ydCBTZXJ2aWNlU3RhdGUgZnJvbSAiQC9pdGVtcy9TZXJ2aWNlU3RhdGUuanMiOwoKaW1wb3J0IEFjdGlvbmJhciBmcm9tICIuL1BhZ2VTZXJ2aWNlX0FjdGlvbmJhci52dWUiOwppbXBvcnQgSXRlbVNlcnZpY2VHcmlkIGZyb20gIi4vSXRlbVNlcnZpY2VfR3JpZC52dWUiOwppbXBvcnQgSXRlbVNlcnZpY2VMaXN0IGZyb20gIi4vSXRlbVNlcnZpY2VfTGlzdC52dWUiOwppbXBvcnQgSXRlbVNlcnZpY2VEZXRhaWwgZnJvbSAiLi9JdGVtU2VydmljZV9EZXRhaWwudnVlIjsKaW1wb3J0IEVtcHR5IGZyb20gIkAvY29tcG9uZW50cy9FbXB0eS52dWUiOwoKaW1wb3J0IFUgZnJvbSAiQC9VLmpzIjsKCmNvbnN0IHsgU3RhdGUgfSA9IE1vZHVsZVNlcnZpY2U7CgpleHBvcnQgZGVmYXVsdCB7CiAgIGVtaXRzOiBbImNsaWNrLXNlcnZpY2UiLCAiY2xpY2stc2VydmljZS1kZWxldGUiXSwKICAgY29tcG9uZW50czogewogICAgICBFbXB0eSwKICAgICAgQWN0aW9uYmFyLAogICAgICBJdGVtU2VydmljZUdyaWQsCiAgICAgIEl0ZW1TZXJ2aWNlTGlzdCwKICAgICAgSXRlbVNlcnZpY2VEZXRhaWwsCiAgIH0sCiAgIHByb3BzOiB7CiAgICAgIG1lbnVzOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiAoKSA9PiBbXSB9LAogICAgICBzZXJ2aWNlczogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogKCkgPT4gW10gfSwKICAgICAgY3VycmVudEl0ZW06IHsgdHlwZTogT2JqZWN0LCBkZWZhdWx0OiAoKSA9PiBudWxsIH0sCiAgIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIHNjcm9sbFRvcDogMCwKCiAgICAgICAgIHN0YXRlTWVudUluZGV4OiAwLAogICAgICAgICBzdGF0ZU1lbnVzOiBbCiAgICAgICAgICAgIFN0YXRlLlBlbmRpbmcsCiAgICAgICAgICAgIFN0YXRlLldhaXRpbmcsCiAgICAgICAgICAgIFN0YXRlLkNvbXBsZXRlZCwKICAgICAgICAgICAgU3RhdGUuUmVqZWN0ZWQsCiAgICAgICAgIF0ubWFwKChzdGF0ZUtleSkgPT4gewogICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IFNlcnZpY2VTdGF0ZS5nZXRSZXNvdXJjZUJ5S2V5KHN0YXRlS2V5KTsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAga2V5OiBzdGF0ZUtleSwKCiAgICAgICAgICAgICAgIHRpdGxlOiByZXNvdXJjZS50aXRsZSwKCiAgICAgICAgICAgICAgIGljb246IHJlc291cmNlLmljb24uY29sb3IsCiAgICAgICAgICAgICAgIGljb25TZWxlY3RlZDogcmVzb3VyY2UuaWNvbi53aGl0ZSwKCiAgICAgICAgICAgICAgIHByaW1hcnlDb2xvcjogcmVzb3VyY2UuY29sb3IsCiAgICAgICAgICAgICAgIGlzUHJpbWFyeUNvbG9yQnJpZ2h0OiB0cnVlLAoKICAgICAgICAgICAgICAgbGlzdDogW10sCgogICAgICAgICAgICAgICBpc1NlbGVjdGVkOiAoKSA9PgogICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWVudXNbdGhpcy5zdGF0ZU1lbnVJbmRleF0gJiYKICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1lbnVzW3RoaXMuc3RhdGVNZW51SW5kZXhdLmtleSA9PT0gc3RhdGVLZXksCiAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBzdGF0ZUtleSkKICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5yZXBsYWNlUm91dGUoeyBxdWVyeTogeyBzdGF0ZTogc3RhdGVLZXkgfSB9KTsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfTsKICAgICAgICAgfSksCgogICAgICAgICBjdXJyZW50TGF5b3V0SW5kZXg6IDEsCiAgICAgICAgIGxheW91dE1lbnVzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgdGl0bGU6ICJHcmlkIFZpZXciLAogICAgICAgICAgICAgICBpY29uOiB0aGlzLmhvc3QucmVzKCJpY29uL2dyaWQtMDAwMDAwLnN2ZyIpLAogICAgICAgICAgICAgICBjbGljazogKG1lbnUpID0+CiAgICAgICAgICAgICAgICAgICh0aGlzLmN1cnJlbnRMYXlvdXRJbmRleCA9IHRoaXMubGF5b3V0TWVudXMuaW5kZXhPZihtZW51KSksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgdGl0bGU6ICJMaXN0IFZpZXciLAogICAgICAgICAgICAgICBpY29uOiB0aGlzLmhvc3QucmVzKCJpY29uL2xpc3QtMDAwMDAwLnN2ZyIpLAogICAgICAgICAgICAgICBjbGljazogKG1lbnUpID0+CiAgICAgICAgICAgICAgICAgICh0aGlzLmN1cnJlbnRMYXlvdXRJbmRleCA9IHRoaXMubGF5b3V0TWVudXMuaW5kZXhPZihtZW51KSksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgdGl0bGU6ICJEZXRhaWwgVmlldyIsCiAgICAgICAgICAgICAgIGljb246IHRoaXMuaG9zdC5yZXMoImljb24vZGV0YWlsLTAwMDAwMC5zdmciKSwKICAgICAgICAgICAgICAgY2xpY2s6IChtZW51KSA9PgogICAgICAgICAgICAgICAgICAodGhpcy5jdXJyZW50TGF5b3V0SW5kZXggPSB0aGlzLmxheW91dE1lbnVzLmluZGV4T2YobWVudSkpLAogICAgICAgICAgICB9LAogICAgICAgICBdLAoKICAgICAgICAgY3VycmVudFNvcnRJbmRleDogMCwKICAgICAgICAgc29ydE1lbnVzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAga2V5OiAiZGF0ZUNyZWF0ZWRsbyIsCiAgICAgICAgICAgICAgIHRpdGxlOiAiRGF0ZSBDcmVhdGVkIChMYXRlc3QtT2xkZXN0KSIsCiAgICAgICAgICAgICAgIGNvbG9yOiAiIzA3NzFEMiIsCiAgICAgICAgICAgICAgIGNsaWNrOiAobWVudSkgPT4KICAgICAgICAgICAgICAgICAgKHRoaXMuY3VycmVudFNvcnRJbmRleCA9IHRoaXMuc29ydE1lbnVzLmluZGV4T2YobWVudSkpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgIGtleTogImN1c3RvbWVyTmFtZWF6IiwKICAgICAgICAgICAgICAgdGl0bGU6ICJDdXN0b21lciBOYW1lIChhLXopIiwKICAgICAgICAgICAgICAgY29sb3I6ICIjMDc3MUQyIiwKICAgICAgICAgICAgICAgY2xpY2s6IChtZW51KSA9PgogICAgICAgICAgICAgICAgICAodGhpcy5jdXJyZW50U29ydEluZGV4ID0gdGhpcy5zb3J0TWVudXMuaW5kZXhPZihtZW51KSksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAga2V5OiAicGhvbmVOdW1iZXIwOSIsCiAgICAgICAgICAgICAgIHRpdGxlOiAiUGhvbmUgTnVtYmVyICgwLTkpIiwKICAgICAgICAgICAgICAgY29sb3I6ICIjMDc3MUQyIiwKICAgICAgICAgICAgICAgY2xpY2s6IChtZW51KSA9PgogICAgICAgICAgICAgICAgICAodGhpcy5jdXJyZW50U29ydEluZGV4ID0gdGhpcy5zb3J0TWVudXMuaW5kZXhPZihtZW51KSksCiAgICAgICAgICAgIH0sCiAgICAgICAgIF0sCgogICAgICAgICBwcm9wZXJ0aWVzOiBbCiAgICAgICAgICAgIHsga2V5OiAiY3VzdG9tZXJOYW1lIiwgd2lkdGg6IDEyOCB9LAogICAgICAgICAgICB7IGtleTogImN1c3RvbWVyUGhvbmVOdW1iZXIiLCB3aWR0aDogMTEyIH0sCiAgICAgICAgICAgIHsga2V5OiAiZGVzY3JpcHRpb24iLCB3aWR0aDogMjI0IH0sCiAgICAgICAgICAgIHsga2V5OiAiaW1hZ2VzIiwgd2lkdGg6IDgwIH0sCiAgICAgICAgICAgIHsga2V5OiAibm90aWNlIiwgd2lkdGg6IDE2MCB9LAogICAgICAgICAgICB7IGtleTogInRpbWVzdGFtcCIsIHdpZHRoOiAxNzYgfSwKICAgICAgICAgXSwKICAgICAgfTsKICAgfSwKICAgY29tcHV0ZWQ6IHsKICAgICAgaXRlbXMoKSB7CiAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlTWVudXNbdGhpcy5zdGF0ZU1lbnVJbmRleF0ubGlzdC5zb3J0KAogICAgICAgICAgICAoaXRlbTEsIGl0ZW0yKSA9PiB7CiAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGF0ZUFzY2VuZGluZykKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0xLmNvbXBhcmVUaW1lc3RhbXAoaXRlbTIpOwogICAgICAgICAgICAgICBpZiAodGhpcy5pc05hbWVBc2NlbmRpbmcpCiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtMS5jdXN0b21lci5jb21wYXJlTmFtZShpdGVtMi5jdXN0b21lcik7CiAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUGhvbmVBc2NlbmRpbmcpCiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtMS5jdXN0b21lci5jb21wYXJlUGhvbmVOdW1iZXIoaXRlbTIuY3VzdG9tZXIpOwogICAgICAgICAgICAgICBpZiAodGhpcy5pc1ByaWNlQXNjZW5kaW5nKSByZXR1cm4gaXRlbTEuY29tcGFyZVByaWNlKGl0ZW0yKTsKCiAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgICk7CiAgICAgIH0sCgogICAgICBzdGF0ZTogKGMpID0+IFUub3B0U3RyaW5nKGMuJHJvdXRlLnF1ZXJ5LnN0YXRlKSwKCiAgICAgIGlzRGF0ZUFzY2VuZGluZzogKGMpID0+IGMuY3VycmVudFNvcnRJbmRleCA9PT0gMCwKICAgICAgaXNOYW1lQXNjZW5kaW5nOiAoYykgPT4gYy5jdXJyZW50U29ydEluZGV4ID09PSAxLAogICAgICBpc1Bob25lQXNjZW5kaW5nOiAoYykgPT4gYy5jdXJyZW50U29ydEluZGV4ID09PSAyLAogICAgICBpc1ByaWNlQXNjZW5kaW5nOiAoYykgPT4gYy5jdXJyZW50U29ydEluZGV4ID09PSAzLAoKICAgICAgaXNHcmlkVmlldzogKGMpID0+IGMuY3VycmVudExheW91dEluZGV4ID09PSAwLAogICAgICBpc0xpc3RWaWV3OiAoYykgPT4gYy5jdXJyZW50TGF5b3V0SW5kZXggPT09IDEsCiAgICAgIGlzRGV0YWlsVmlldzogKGMpID0+IGMuY3VycmVudExheW91dEluZGV4ID09PSAyLAogICB9LAogICB3YXRjaDogewogICAgICBzdGF0ZSgpIHsKICAgICAgICAgdGhpcy5pbnZhbGlkYXRlU3RhdGUoKTsKICAgICAgfSwKICAgICAgc2VydmljZXMoKSB7CiAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUxpc3QoKTsKICAgICAgfSwKICAgfSwKICAgbWV0aG9kczogewogICAgICBzZXRQYWdlU2VsZWN0ZWQoc3RhdGVLZXkpIHsKICAgICAgICAgY29uc3Qgc3RhdGVNZW51ID0gdGhpcy5zdGF0ZU1lbnVzLmZpbmQoKHN0YXRlTWVudSkgPT4gewogICAgICAgICAgICByZXR1cm4gc3RhdGVNZW51LmtleSA9PT0gc3RhdGVLZXk7CiAgICAgICAgIH0pOwoKICAgICAgICAgaWYgKAogICAgICAgICAgICAhc3RhdGVNZW51ICYmCiAgICAgICAgICAgIHRoaXMuc3RhdGVNZW51cy5sZW5ndGggJiYKICAgICAgICAgICAgT2JqZWN0LmtleXMoU3RhdGUpLmxlbmd0aAogICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC5yZXBsYWNlUm91dGUoewogICAgICAgICAgICAgICBxdWVyeTogeyBzdGF0ZTogU3RhdGVbT2JqZWN0LmtleXMoU3RhdGUpWzBdXSB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgfQoKICAgICAgICAgdGhpcy5zdGF0ZU1lbnVJbmRleCA9IHRoaXMuc3RhdGVNZW51cy5pbmRleE9mKHN0YXRlTWVudSk7CiAgICAgIH0sCgogICAgICBpbnZhbGlkYXRlTGlzdCgpIHsKICAgICAgICAgY29uc3QgZmlsdGVyID0gKHNlcnZpY2VzLCBrZXkpID0+IHsKICAgICAgICAgICAgY29uc3QgdGFiID0gdGhpcy5zdGF0ZU1lbnVzLmZpbmQoKHRhYikgPT4gdGFiLmtleSA9PT0ga2V5KTsKICAgICAgICAgICAgaWYgKHRhYikgewogICAgICAgICAgICAgICB0YWIubGlzdCA9IHNlcnZpY2VzLmZpbHRlcigoc2VydmljZSkgPT4gewogICAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5nZXRTdGF0ZSgpID09PSBrZXk7CiAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgIH07CgogICAgICAgICBjb25zdCBzZXJ2aWNlcyA9IEFycmF5LmlzQXJyYXkodGhpcy5zZXJ2aWNlcykgPyB0aGlzLnNlcnZpY2VzIDogW107CiAgICAgICAgIGZpbHRlcihzZXJ2aWNlcywgU3RhdGUuUGVuZGluZyk7CiAgICAgICAgIGZpbHRlcihzZXJ2aWNlcywgU3RhdGUuV2FpdGluZyk7CiAgICAgICAgIGZpbHRlcihzZXJ2aWNlcywgU3RhdGUuQ29tcGxldGVkKTsKICAgICAgICAgZmlsdGVyKHNlcnZpY2VzLCBTdGF0ZS5SZWplY3RlZCk7CgogICAgICAgICB0aGlzLmludmFsaWRhdGVTdGF0ZSgpOwoKICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLlBhbmVsR3JvdXBTZXJ2aWNlVGFicykgewogICAgICAgICAgICAgICB0aGlzLiRyZWZzLlBhbmVsR3JvdXBTZXJ2aWNlVGFicy5zY3JvbGxMZWZ0ID0gMDsKICAgICAgICAgICAgfQogICAgICAgICB9LCAyMDAwKTsKICAgICAgfSwKICAgICAgaW52YWxpZGF0ZVN0YXRlKCkgewogICAgICAgICB0aGlzLnNldFBhZ2VTZWxlY3RlZCh0aGlzLnN0YXRlKTsKICAgICAgfSwKCiAgICAgIGdldFByb3BlcnR5QnlLZXkoa2V5KSB7CiAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuZmluZCgocHJvcGVydHkpID0+IHByb3BlcnR5LmtleSA9PT0ga2V5KTsKICAgICAgfSwKICAgfSwKICAgbW91bnRlZCgpIHsKICAgICAgdGhpcy5pbnZhbGlkYXRlTGlzdCgpOwogICAgICB0aGlzLmludmFsaWRhdGVTdGF0ZSgpOwogICB9LAp9Owo="},{"version":3,"sources":["PanelServices.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelServices.vue","sourceRoot":"src/pages/service","sourcesContent":["<script>\r\n   import ModuleService from \"@/../../express/data_structures/Service.js\";\r\n   import ServiceState from \"@/items/ServiceState.js\";\r\n\r\n   import Actionbar from \"./PageService_Actionbar.vue\";\r\n   import ItemServiceGrid from \"./ItemService_Grid.vue\";\r\n   import ItemServiceList from \"./ItemService_List.vue\";\r\n   import ItemServiceDetail from \"./ItemService_Detail.vue\";\r\n   import Empty from \"@/components/Empty.vue\";\r\n\r\n   import U from \"@/U.js\";\r\n\r\n   const { State } = ModuleService;\r\n\r\n   export default {\r\n      emits: [\"click-service\", \"click-service-delete\"],\r\n      components: {\r\n         Empty,\r\n         Actionbar,\r\n         ItemServiceGrid,\r\n         ItemServiceList,\r\n         ItemServiceDetail,\r\n      },\r\n      props: {\r\n         menus: { type: Array, default: () => [] },\r\n         services: { type: Array, default: () => [] },\r\n         currentItem: { type: Object, default: () => null },\r\n      },\r\n      data() {\r\n         return {\r\n            scrollTop: 0,\r\n\r\n            stateMenuIndex: 0,\r\n            stateMenus: [\r\n               State.Pending,\r\n               State.Waiting,\r\n               State.Completed,\r\n               State.Rejected,\r\n            ].map((stateKey) => {\r\n               const resource = ServiceState.getResourceByKey(stateKey);\r\n               return {\r\n                  key: stateKey,\r\n\r\n                  title: resource.title,\r\n\r\n                  icon: resource.icon.color,\r\n                  iconSelected: resource.icon.white,\r\n\r\n                  primaryColor: resource.color,\r\n                  isPrimaryColorBright: true,\r\n\r\n                  list: [],\r\n\r\n                  isSelected: () =>\r\n                     this.stateMenus[this.stateMenuIndex] &&\r\n                     this.stateMenus[this.stateMenuIndex].key === stateKey,\r\n                  click: () => {\r\n                     if (this.state !== stateKey)\r\n                        this.$root.replaceRoute({ query: { state: stateKey } });\r\n                  },\r\n               };\r\n            }),\r\n\r\n            currentLayoutIndex: 1,\r\n            layoutMenus: [\r\n               {\r\n                  title: \"Grid View\",\r\n                  icon: this.host.res(\"icon/grid-000000.svg\"),\r\n                  click: (menu) =>\r\n                     (this.currentLayoutIndex = this.layoutMenus.indexOf(menu)),\r\n               },\r\n               {\r\n                  title: \"List View\",\r\n                  icon: this.host.res(\"icon/list-000000.svg\"),\r\n                  click: (menu) =>\r\n                     (this.currentLayoutIndex = this.layoutMenus.indexOf(menu)),\r\n               },\r\n               {\r\n                  title: \"Detail View\",\r\n                  icon: this.host.res(\"icon/detail-000000.svg\"),\r\n                  click: (menu) =>\r\n                     (this.currentLayoutIndex = this.layoutMenus.indexOf(menu)),\r\n               },\r\n            ],\r\n\r\n            currentSortIndex: 0,\r\n            sortMenus: [\r\n               {\r\n                  key: \"dateCreatedlo\",\r\n                  title: \"Date Created (Latest-Oldest)\",\r\n                  color: \"#0771D2\",\r\n                  click: (menu) =>\r\n                     (this.currentSortIndex = this.sortMenus.indexOf(menu)),\r\n               },\r\n               {\r\n                  key: \"customerNameaz\",\r\n                  title: \"Customer Name (a-z)\",\r\n                  color: \"#0771D2\",\r\n                  click: (menu) =>\r\n                     (this.currentSortIndex = this.sortMenus.indexOf(menu)),\r\n               },\r\n               {\r\n                  key: \"phoneNumber09\",\r\n                  title: \"Phone Number (0-9)\",\r\n                  color: \"#0771D2\",\r\n                  click: (menu) =>\r\n                     (this.currentSortIndex = this.sortMenus.indexOf(menu)),\r\n               },\r\n            ],\r\n\r\n            properties: [\r\n               { key: \"customerName\", width: 128 },\r\n               { key: \"customerPhoneNumber\", width: 112 },\r\n               { key: \"description\", width: 224 },\r\n               { key: \"images\", width: 80 },\r\n               { key: \"notice\", width: 160 },\r\n               { key: \"timestamp\", width: 176 },\r\n            ],\r\n         };\r\n      },\r\n      computed: {\r\n         items() {\r\n            return this.stateMenus[this.stateMenuIndex].list.sort(\r\n               (item1, item2) => {\r\n                  if (this.isDateAscending)\r\n                     return item1.compareTimestamp(item2);\r\n                  if (this.isNameAscending)\r\n                     return item1.customer.compareName(item2.customer);\r\n                  if (this.isPhoneAscending)\r\n                     return item1.customer.comparePhoneNumber(item2.customer);\r\n                  if (this.isPriceAscending) return item1.comparePrice(item2);\r\n\r\n                  return 0;\r\n               }\r\n            );\r\n         },\r\n\r\n         state: (c) => U.optString(c.$route.query.state),\r\n\r\n         isDateAscending: (c) => c.currentSortIndex === 0,\r\n         isNameAscending: (c) => c.currentSortIndex === 1,\r\n         isPhoneAscending: (c) => c.currentSortIndex === 2,\r\n         isPriceAscending: (c) => c.currentSortIndex === 3,\r\n\r\n         isGridView: (c) => c.currentLayoutIndex === 0,\r\n         isListView: (c) => c.currentLayoutIndex === 1,\r\n         isDetailView: (c) => c.currentLayoutIndex === 2,\r\n      },\r\n      watch: {\r\n         state() {\r\n            this.invalidateState();\r\n         },\r\n         services() {\r\n            this.invalidateList();\r\n         },\r\n      },\r\n      methods: {\r\n         setPageSelected(stateKey) {\r\n            const stateMenu = this.stateMenus.find((stateMenu) => {\r\n               return stateMenu.key === stateKey;\r\n            });\r\n\r\n            if (\r\n               !stateMenu &&\r\n               this.stateMenus.length &&\r\n               Object.keys(State).length\r\n            ) {\r\n               this.$root.replaceRoute({\r\n                  query: { state: State[Object.keys(State)[0]] },\r\n               });\r\n            }\r\n\r\n            this.stateMenuIndex = this.stateMenus.indexOf(stateMenu);\r\n         },\r\n\r\n         invalidateList() {\r\n            const filter = (services, key) => {\r\n               const tab = this.stateMenus.find((tab) => tab.key === key);\r\n               if (tab) {\r\n                  tab.list = services.filter((service) => {\r\n                     return service.getState() === key;\r\n                  });\r\n               }\r\n            };\r\n\r\n            const services = Array.isArray(this.services) ? this.services : [];\r\n            filter(services, State.Pending);\r\n            filter(services, State.Waiting);\r\n            filter(services, State.Completed);\r\n            filter(services, State.Rejected);\r\n\r\n            this.invalidateState();\r\n\r\n            setTimeout(() => {\r\n               if (this.$refs.PanelGroupServiceTabs) {\r\n                  this.$refs.PanelGroupServiceTabs.scrollLeft = 0;\r\n               }\r\n            }, 2000);\r\n         },\r\n         invalidateState() {\r\n            this.setPageSelected(this.state);\r\n         },\r\n\r\n         getPropertyByKey(key) {\r\n            return this.properties.find((property) => property.key === key);\r\n         },\r\n      },\r\n      mounted() {\r\n         this.invalidateList();\r\n         this.invalidateState();\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PanelServices\" @scroll=\"(e) => (scrollTop = e.target.scrollTop)\">\r\n      <Actionbar\r\n         :class=\"[\r\n            'PanelServices-actionbar',\r\n            scrollTop > 0 ? 'PanelServices-actionbar-shadow' : '',\r\n         ]\"\r\n         :menus=\"menus\"\r\n         :services=\"services\"\r\n         :stateMenus=\"stateMenus\"\r\n         :layoutMenus=\"layoutMenus\"\r\n         :layoutMenuIndex=\"currentLayoutIndex\"\r\n         :sortMenus=\"sortMenus\"\r\n         :sortMenuIndex=\"currentSortIndex\"\r\n         @click-drawer-expand=\"$emit('click-drawer-expand')\"\r\n         @click-service=\"(service) => $emit('click-service', service)\"\r\n      />\r\n\r\n      <div\r\n         class=\"PanelServices-pages\"\r\n         v-if=\"\r\n            stateMenus[stateMenuIndex] && stateMenus[stateMenuIndex].list.length\r\n         \"\r\n      >\r\n         <div\r\n            :class=\"['PanelServices-items', 'PanelServices-items-gridView']\"\r\n            v-if=\"isGridView\"\r\n         >\r\n            <div class=\"PanelServices-items-header\"></div>\r\n            <ItemServiceGrid\r\n               class=\"PanelServices-item\"\r\n               v-for=\"item in items\"\r\n               :ref=\"`Service${item.getId()}`\"\r\n               :key=\"`Service${item.getId()}`\"\r\n               :item=\"item\"\r\n               :isSelected=\"currentItem === item\"\r\n               @callback-view=\"$emit('click-service', item)\"\r\n               @callback-delete=\"$emit('click-service-delete', item)\"\r\n            />\r\n         </div>\r\n\r\n         <div\r\n            :class=\"['PanelServices-items', 'PanelServices-items-listView']\"\r\n            v-if=\"isListView\"\r\n         >\r\n            <ItemServiceList\r\n               class=\"PanelServices-item\"\r\n               v-for=\"item in items\"\r\n               :ref=\"`Service${item.getId()}`\"\r\n               :key=\"`Service${item.getId()}`\"\r\n               :item=\"item\"\r\n               :isSelected=\"currentItem === item\"\r\n               @callback-view=\"$emit('click-service', item)\"\r\n               @callback-delete=\"$emit('click-service-delete', item)\"\r\n            />\r\n         </div>\r\n\r\n         <div\r\n            :class=\"['PanelServices-items', 'PanelServices-items-detailView']\"\r\n            v-if=\"isDetailView\"\r\n         >\r\n            <div class=\"PanelServices-items-header\">\r\n               <span\r\n                  class=\"Property-customerName\"\r\n                  :style=\"{\r\n                     '--width': `${getPropertyByKey('customerName').width}px`,\r\n                  }\"\r\n                  >Customer Name</span\r\n               >\r\n               <span\r\n                  class=\"Property-customerPhoneNumber\"\r\n                  :style=\"{\r\n                     '--width': `${\r\n                        getPropertyByKey('customerPhoneNumber').width\r\n                     }px`,\r\n                  }\"\r\n                  >Customer Phone Number</span\r\n               >\r\n               <span\r\n                  class=\"Property-description\"\r\n                  :style=\"{\r\n                     '--width': `${getPropertyByKey('description').width}px`,\r\n                  }\"\r\n                  >Description</span\r\n               >\r\n               <span\r\n                  class=\"Property-images\"\r\n                  :style=\"{\r\n                     '--width': `${getPropertyByKey('images').width}px`,\r\n                  }\"\r\n                  >Images</span\r\n               >\r\n               <span\r\n                  class=\"Property-notice\"\r\n                  :style=\"{\r\n                     '--width': `${getPropertyByKey('notice').width}px`,\r\n                  }\"\r\n                  >Notice</span\r\n               >\r\n               <span\r\n                  class=\"Property-timestamp\"\r\n                  :style=\"{\r\n                     '--width': `${getPropertyByKey('timestamp').width}px`,\r\n                  }\"\r\n                  >Date Created</span\r\n               >\r\n            </div>\r\n\r\n            <ItemServiceDetail\r\n               class=\"PanelServices-item\"\r\n               v-for=\"item in items\"\r\n               :ref=\"`Service${item.getId()}`\"\r\n               :key=\"`Service${item.getId()}`\"\r\n               :item=\"item\"\r\n               :isSelected=\"currentItem === item\"\r\n               :properties=\"properties\"\r\n               @callback-view=\"$emit('click-service', item)\"\r\n               @callback-delete=\"$emit('click-service-delete', item)\"\r\n            />\r\n         </div>\r\n      </div>\r\n\r\n      <Empty v-if=\"!services.length && !serviceStore.getters.isLoading\" />\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PanelServices {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: stretch;\r\n      justify-content: flex-start;\r\n      overflow-y: auto;\r\n      overflow-x: auto;\r\n\r\n      --max-width: 60rem;\r\n\r\n      .PanelServices-actionbar {\r\n         z-index: 2;\r\n         position: sticky;\r\n         top: 0;\r\n         left: 0;\r\n         right: 0;\r\n         width: 100%;\r\n         flex-grow: 0;\r\n         z-index: 2;\r\n         transition: var(--animation-duration);\r\n      }\r\n      .PanelServices-actionbar-shadow {\r\n         --shadow-distance: 0.2rem;\r\n         box-shadow: 0 var(--shadow-distance) var(--shadow-distance)\r\n            hsla(0, 0%, 0%, 0.1);\r\n      }\r\n\r\n      .PanelServices-pages {\r\n         z-index: 1;\r\n         scroll-padding-top: 33%;\r\n         gap: 2em;\r\n\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: column;\r\n         flex-grow: 1;\r\n         align-items: center;\r\n         padding: 1rem;\r\n         padding-top: 0;\r\n\r\n         .PanelServices-items {\r\n            width: 100%;\r\n            .PanelService-items-title {\r\n               background: hsla(0, 0%, 0%, 0.04);\r\n               border-radius: 0.4rem;\r\n               padding: 0.3rem 0.5rem;\r\n            }\r\n         }\r\n         .PanelServices-items-gridView {\r\n            max-width: var(--max-width);\r\n            margin-top: -0.5rem;\r\n            gap: 0.5rem;\r\n            display: grid;\r\n            grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));\r\n\r\n            .PanelServices-items-header {\r\n               grid-column: 1 / -1;\r\n            }\r\n            .PanelServices-item {\r\n               width: 100%;\r\n               aspect-ratio: 1/1;\r\n            }\r\n         }\r\n         .PanelServices-items-listView {\r\n            max-width: 28rem;\r\n            max-width: 32rem;\r\n            gap: 0.5rem;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n\r\n            .PanelServices-item {\r\n               width: 100%;\r\n            }\r\n         }\r\n         .PanelServices-items-detailView {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n            justify-content: flex-start;\r\n            gap: 0.1rem;\r\n\r\n            .PanelServices-items-header {\r\n               gap: 0.5rem;\r\n               padding: 1rem;\r\n\r\n               display: flex;\r\n               flex-direction: row;\r\n\r\n               & > * {\r\n                  --width: 2rem;\r\n                  height: 1.1rem;\r\n                  white-space: pre-line;\r\n                  text-overflow: ellipsis;\r\n                  word-wrap: break-word;\r\n                  overflow: hidden;\r\n               }\r\n\r\n               .Property-customerName {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n\r\n               .Property-customerPhoneNumber {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n\r\n               .Property-description {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n\r\n               .Property-images {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n\r\n               .Property-notice {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n\r\n               .Property-timestamp {\r\n                  width: var(--width);\r\n                  min-width: var(--width);\r\n                  max-width: var(--width);\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"]}]}