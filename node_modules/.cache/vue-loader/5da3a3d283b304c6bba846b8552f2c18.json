{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\PageProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\pages\\product\\PageProduct.vue","mtime":1665405279971},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBcHBIb3N0IGZyb20gIkAvaG9zdC9BcHBIb3N0LmpzIjsKCmltcG9ydCBBY3Rpb25iYXJQcm9kdWN0IGZyb20gIkAvcGFnZXMvcHJvZHVjdC9BY3Rpb25CYXJQcm9kdWN0LnZ1ZSI7CmltcG9ydCBFbXB0eSBmcm9tICJAL2NvbXBvbmVudHMvRW1wdHkudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL2FwcC9Gb290ZXIudnVlIjsKCmltcG9ydCBEcmF3ZXIgZnJvbSAiQC9jb21wb25lbnRzL0RyYXdlci52dWUiOwoKaW1wb3J0IFBhbmVsUHJvZHVjdHMgZnJvbSAiLi9QYW5lbFByb2R1Y3RzLnZ1ZSI7CmltcG9ydCBQYW5lbFByb2R1Y3QgZnJvbSAiLi9QYW5lbFByb2R1Y3QudnVlIjsKCmltcG9ydCBJdGVtRmxvYXRpbmdDb250YWN0TGluayBmcm9tICIuL0l0ZW1GbG9hdGluZ0NvbnRhY3RMaW5rLnZ1ZSI7CgppbXBvcnQgV2luZG93QWRkUHJvZHVjdCBmcm9tICIuL1dpbmRvd0FkZFByb2R1Y3QudnVlIjsKaW1wb3J0IFdpbmRvd1JlbW92ZVByb2R1Y3QgZnJvbSAiLi9XaW5kb3dSZW1vdmVQcm9kdWN0LnZ1ZSI7CmltcG9ydCBXaW5kb3dSZW1vdmVJbWFnZSBmcm9tICIuL1dpbmRvd1JlbW92ZUltYWdlLnZ1ZSI7CmltcG9ydCBXaW5kb3dVcGRhdGVUaXRsZUJyYW5kIGZyb20gIi4vV2luZG93VXBkYXRlVGl0bGVCcmFuZC52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlUHJpY2UgZnJvbSAiLi9XaW5kb3dVcGRhdGVQcmljZS52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlRGVzY3JpcHRpb24gZnJvbSAiLi9XaW5kb3dVcGRhdGVEZXNjcmlwdGlvbi52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlQ2F0ZWdvcnkgZnJvbSAiLi9XaW5kb3dVcGRhdGVDYXRlZ29yeS52dWUiOwppbXBvcnQgV2luZG93VXBkYXRlU3BlY2lmaWNhdGlvbnMgZnJvbSAiLi9XaW5kb3dVcGRhdGVTcGVjaWZpY2F0aW9ucy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICBrZXk6ICJwcm9kdWN0IiwKICAgdGl0bGU6ICJQcm9kdWN0cyIsCiAgIGljb246IHsgbGlnaHQ6ICJwcm9kdWN0cy1GRkZGRkYiLCBkYXJrOiAicHJvZHVjdHMtMkE0ODU4IiB9LAoKICAgX3F1ZXJpZXNfb2xkKCkgewogICAgICByZXR1cm4gWwogICAgICAgICB7IGtleTogIiIsIHRpdGxlOiAiIiwgdmFsdWVzOiBbeyBrZXk6ICIiLCB0aXRsZTogIkFsbCIgfV0gfSwKICAgICAgICAgewogICAgICAgICAgICBrZXk6ICJjYXRlZ29yeSIsCiAgICAgICAgICAgIHRpdGxlOiAiQ2F0ZWdvcnkiLAogICAgICAgICAgICB2YWx1ZXM6IFsKICAgICAgICAgICAgICAgeyBrZXk6ICJsYXB0b3AiLCB0aXRsZTogIkxhcHRvcCIgfSwKICAgICAgICAgICAgICAgeyBrZXk6ICJwcmludGVyIiwgdGl0bGU6ICJQcmludGVyIiB9LAogICAgICAgICAgICBdLAogICAgICAgICB9LAogICAgICAgICB7CiAgICAgICAgICAgIGtleTogImJyYW5kIiwKICAgICAgICAgICAgdGl0bGU6ICJCcmFuZCIsCiAgICAgICAgICAgIHZhbHVlczogWwogICAgICAgICAgICAgICB7IGtleTogImhwIiwgdGl0bGU6ICJIUCIgfSwKICAgICAgICAgICAgICAgeyBrZXk6ICJkZWxsIiwgdGl0bGU6ICJEZWxsIiB9LAogICAgICAgICAgICBdLAogICAgICAgICB9LAogICAgICAgICB7CiAgICAgICAgICAgIGtleTogInNpemUiLAogICAgICAgICAgICB0aXRsZTogIlNpemUiLAogICAgICAgICAgICB2YWx1ZXM6IFsKICAgICAgICAgICAgICAgeyBrZXk6ICIxNCIsIHRpdGxlOiAnMTQiJyB9LAogICAgICAgICAgICAgICB7IGtleTogIjE1LjYiLCB0aXRsZTogJzE1LjYiJyB9LAogICAgICAgICAgICBdLAogICAgICAgICB9LAogICAgICAgICB7CiAgICAgICAgICAgIGtleTogInN0b3JhZ2UiLAogICAgICAgICAgICB0aXRsZTogIlN0b3JhZ2UiLAogICAgICAgICAgICB2YWx1ZXM6IFsKICAgICAgICAgICAgICAgeyBrZXk6ICJzc2Q1MTJnYiIsIHRpdGxlOiAiU1NEIDUxMkdCIiB9LAogICAgICAgICAgICAgICB7IGtleTogInNzZDI1NmdiIiwgdGl0bGU6ICJTU0QgMjU2R0IiIH0sCiAgICAgICAgICAgICAgIHsga2V5OiAiaGRkMXRiIiwgdGl0bGU6ICJIREQgMVRCIiB9LAogICAgICAgICAgICBdLAogICAgICAgICB9LAogICAgICBdOwogICB9LAoKICAgY29tcG9uZW50czogewogICAgICBBY3Rpb25iYXJQcm9kdWN0LAogICAgICBFbXB0eSwKICAgICAgRm9vdGVyLAoKICAgICAgRHJhd2VyLAogICAgICBQYW5lbFByb2R1Y3RzLAogICAgICBQYW5lbFByb2R1Y3QsCgogICAgICBJdGVtRmxvYXRpbmdDb250YWN0TGluaywKCiAgICAgIFdpbmRvd0FkZFByb2R1Y3QsCiAgICAgIFdpbmRvd1JlbW92ZVByb2R1Y3QsCiAgICAgIFdpbmRvd1JlbW92ZUltYWdlLAogICAgICBXaW5kb3dVcGRhdGVUaXRsZUJyYW5kLAogICAgICBXaW5kb3dVcGRhdGVQcmljZSwKICAgICAgV2luZG93VXBkYXRlRGVzY3JpcHRpb24sCiAgICAgIFdpbmRvd1VwZGF0ZUNhdGVnb3J5LAogICAgICBXaW5kb3dVcGRhdGVTcGVjaWZpY2F0aW9ucywKICAgfSwKICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAgc2Nyb2xsVG9wOiAwLAogICAgICAgICBwb3B1cDogewogICAgICAgICAgICBwcm9kdWN0QWRkOiB7CiAgICAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsCiAgICAgICAgICAgICAgIGlzU2hvd2luZzogZmFsc2UsCiAgICAgICAgICAgICAgIGlucHV0OiBudWxsLAoKICAgICAgICAgICAgICAgc2hvdyhpbnB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgZGlzbWlzcygpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNvbmZpcm0ob3V0cHV0KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJhZGRQcm9kdWN0IiwgeyBkYXRhOiBvdXRwdXQgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHByb2R1Y3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zZXRQcm9kdWN0KHByb2R1Y3QpOwogICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC4kcm9vdC5mZWVkYmFjaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIlByb2R1Y3QgQ3JlYXRpb24gRmFpbGVkIgogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb2R1Y3RSZW1vdmU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCgogICAgICAgICAgICAgICBzaG93KGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0OwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBkaXNtaXNzKCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gbnVsbDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgY2FuY2VsKCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gbnVsbDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgY29uZmlybShpbnB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHJvZHVjdFN0b3JlCiAgICAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgiZGVsZXRlUHJvZHVjdGJ5SUQiLCB7IGlkOiBpbnB1dC5wcm9kdWN0SWQgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc21pc3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNldFByb2R1Y3QobnVsbCk7CiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LiRyb290LmZlZWRiYWNrKAogICAgICAgICAgICAgICAgICAgICAgICAgICAiUHJvZHVjdCBEZWxldGlvbiBGYWlsZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZHVjdEltYWdlUmVtb3ZlOiB7CiAgICAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsCiAgICAgICAgICAgICAgIGlzU2hvd2luZzogZmFsc2UsCiAgICAgICAgICAgICAgIGlucHV0OiBudWxsLAoKICAgICAgICAgICAgICAgc2hvdyhpbnB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgZGlzbWlzcygpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNvbmZpcm0oaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgbGV0IHsgcHJvZHVjdCwgaW1hZ2UgfSA9IGlucHV0OwoKICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnByb2R1Y3RTdG9yZQogICAgICAgICAgICAgICAgICAgICAuZGlzcGF0Y2goImRlbGV0ZUltYWdlT2ZQcm9kdWN0SWQiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5nZXRJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSwKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5kaXNtaXNzKCkpOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0VGl0bGVCcmFuZFVwZGF0ZTogewogICAgICAgICAgICAgICBjb250ZXh0OiBudWxsLAogICAgICAgICAgICAgICBpc1Nob3dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICBpbnB1dDogbnVsbCwKCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHRpdGxlLCBicmFuZElkIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVUaXRsZU9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnByb2R1Y3RTdG9yZQogICAgICAgICAgICAgICAgICAgICAuZGlzcGF0Y2goInVwZGF0ZUJyYW5kSWRPZlByb2R1Y3RJZCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0LmdldElkKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kSWQsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0UHJpY2VVcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHByaWNlIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVQcmljZU9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2UsCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0RGVzY3JpcHRpb25VcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIGRlc2NyaXB0aW9uIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVEZXNjcmlwdGlvbk9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdWN0KSA9PiB0aGlzLmRpc21pc3MoKSkKICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuJHJvb3QuZmVlZGJhY2soIkNhbm5vdCBVcGRhdGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9kdWN0U3BlY2lmaWNhdGlvbnNVcGRhdGU6IHsKICAgICAgICAgICAgICAgY29udGV4dDogbnVsbCwKICAgICAgICAgICAgICAgaXNTaG93aW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgICAgICAgIHNob3coaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGRpc21pc3MoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICBjb25maXJtKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgIGxldCB7IHByb2R1Y3QsIHNwZWNpZmljYXRpb25zIH0gPSBpbnB1dDsKCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wcm9kdWN0U3RvcmUKICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1cGRhdGVTcGVjaWZpY2F0aW9uc09mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNhdGlvbnM6IHNwZWNpZmljYXRpb25zLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNwZWNpZmljYXRpb24pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogc3BlY2lmaWNhdGlvbi50eXBlS2V5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzcGVjaWZpY2F0aW9uLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHByb2R1Y3QpID0+IHRoaXMuZGlzbWlzcygpKQogICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC4kcm9vdC5mZWVkYmFjaygiQ2Fubm90IFVwZGF0ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb2R1Y3RDYXRlZ29yeVVwZGF0ZTogewogICAgICAgICAgICAgICBjb250ZXh0OiBudWxsLAogICAgICAgICAgICAgICBpc1Nob3dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICBpbnB1dDogbnVsbCwKICAgICAgICAgICAgICAgc2hvdyhpbnB1dCkgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgZGlzbWlzcygpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgIGNvbmZpcm0oaW5wdXQpIHsKICAgICAgICAgICAgICAgICAgbGV0IHsgcHJvZHVjdCwgY2F0ZWdvcnlJZCB9ID0gaW5wdXQ7CgogICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHJvZHVjdFN0b3JlCiAgICAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgidXBkYXRlQ2F0ZWdvcnlJZE9mUHJvZHVjdElkIiwgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZCwKICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHByb2R1Y3QpID0+IHRoaXMuZGlzbWlzcygpKQogICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC4kcm9vdC5mZWVkYmFjaygiQ2Fubm90IFVwZGF0ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgIH0sCgogICAgICAgICB3aGF0c2FwcExpbms6ICIiLAogICAgICAgICBwcm9kdWN0OiBudWxsLAogICAgICAgICBkcmF3ZXJQcm9kdWN0OiBudWxsLAogICAgICAgICBwcm9kdWN0QnJhbmQ6IG51bGwsCiAgICAgIH07CiAgIH0sCiAgIGNvbXB1dGVkOiB7CiAgICAgIGlzT3ZlcjkwMHB4OiAoYykgPT4gYy4kcm9vdC53aW5kb3cuaW5uZXJXaWR0aCA+IDkwMCwKICAgICAgaXNPdmVyMTQwMHB4OiAoYykgPT4gYy4kcm9vdC53aW5kb3cuaW5uZXJXaWR0aCA+IDE0MDAsCgogICAgICBpdGVtRHJhd2VyRWRnZTogKCkgPT4gRHJhd2VyLkVkZ2UuUklHSFQsCiAgICAgIGl0ZW1EcmF3ZXJNb2RlKCkgewogICAgICAgICBpZiAodGhpcy5pc092ZXIxNDAwcHgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdAogICAgICAgICAgICAgICA/IERyYXdlci5Nb2RlLkZJWEVEX0VYUEFORAogICAgICAgICAgICAgICA6IERyYXdlci5Nb2RlLkZJWEVEX0NPTExBUFNFOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0CiAgICAgICAgICAgICAgID8gRHJhd2VyLk1vZGUuRFJBV0VSX0VYUEFORAogICAgICAgICAgICAgICA6IERyYXdlci5Nb2RlLkRSQVdFUl9DT0xMQVBTRTsKICAgICAgICAgfQogICAgICB9LAoKICAgICAgaXNFZGl0YWJsZSgpIHsKICAgICAgICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLmxvZ2luU3RvcmUuZ2V0dGVyczsKICAgICAgICAgaWYgKCF1c2VyKSByZXR1cm4gZmFsc2U7CiAgICAgICAgIHJldHVybiB1c2VyLmlzVHlwZUFkbWluKCkgfHwgdXNlci5pc1R5cGVTdGFmZigpOwogICAgICB9LAogICAgICBpc0xvYWRpbmcoKSB7CiAgICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RTdG9yZS5nZXR0ZXJzLmlzTG9hZGluZzsKICAgICAgfSwKCiAgICAgIHBhdGhzKCkgewogICAgICAgICByZXR1cm4gdGhpcy4kcm9vdC5wYXRoczsKICAgICAgfSwKICAgICAgbGFzdFBhdGgoKSB7CiAgICAgICAgIGxldCB7IHBhdGhzIH0gPSB0aGlzOwogICAgICAgICBpZiAoIXBhdGhzLmxlbmd0aCkgcmV0dXJuICIiOwogICAgICAgICByZXR1cm4gcGF0aHNbcGF0aHMubGVuZ3RoIC0gMV07CiAgICAgIH0sCgogICAgICBncm91cHMoKSB7CiAgICAgICAgIGxldCBncm91cHMgPSB0aGlzLnByb2R1Y3RTdG9yZS5nZXR0ZXJzLmdyb3VwczI7CgogICAgICAgICBncm91cHMgPSBncm91cHMubWFwKChncm91cCkgPT4gewogICAgICAgICAgICBsZXQgeyBwcm9kdWN0cyB9ID0gZ3JvdXA7CgogICAgICAgICAgICBpZiAoIXRoaXMuaXNFZGl0YWJsZSkgewogICAgICAgICAgICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcigocHJvZHVjdCkgPT4gewogICAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5pc1N0b2NrQXZhaWxhYmxlKCk7CiAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMuc29ydCgocHJvZHVjdDEsIHByb2R1Y3QyKSA9PiB7CiAgICAgICAgICAgICAgIHJldHVybiBwcm9kdWN0MS5jb21wYXJlKHByb2R1Y3QyKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBncm91cC5wcm9kdWN0cyA9IHByb2R1Y3RzOwogICAgICAgICAgICByZXR1cm4gZ3JvdXA7CiAgICAgICAgIH0pOwoKICAgICAgICAgaWYgKCF0aGlzLmlzRWRpdGFibGUpIHsKICAgICAgICAgICAgZ3JvdXBzID0gZ3JvdXBzLmZpbHRlcigoZ3JvdXApID0+IGdyb3VwLnByb2R1Y3RzLmxlbmd0aCk7CiAgICAgICAgIH0KICAgICAgICAgZ3JvdXBzID0gZ3JvdXBzLnNvcnQoKGdyb3VwMSwgZ3JvdXAyKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBncm91cDEuY2F0ZWdvcnkuY29tcGFyZShncm91cDIuY2F0ZWdvcnkpOwogICAgICAgICB9KTsKCiAgICAgICAgIHJldHVybiBncm91cHM7CiAgICAgIH0sCgogICAgICBwcm9kdWN0cygpIHsKICAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBzLnJlZHVjZSgocHJvZHVjdHMsIGdyb3VwKSA9PiB7CiAgICAgICAgICAgIHByb2R1Y3RzLnB1c2goLi4uZ3JvdXAucHJvZHVjdHMpOwogICAgICAgICAgICByZXR1cm4gcHJvZHVjdHM7CiAgICAgICAgIH0sIFtdKTsKICAgICAgfSwKCiAgICAgIHByb2R1Y3RJZCgpIHsKICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LnByb2R1Y3RJZDsKICAgICAgfSwKICAgICAgcHJvZHVjdExpbmsoKSB7CiAgICAgICAgIGxldCB7IHByb2R1Y3QgfSA9IHRoaXM7CiAgICAgICAgIGlmICghcHJvZHVjdCkgcmV0dXJuICIiOwogICAgICAgICByZXR1cm4gYCR7QXBwSG9zdC5wYXRofS9pdGVtL2lkLyR7cHJvZHVjdC5nZXRJZCgpfWA7CiAgICAgIH0sCgogICAgICBwcm9kdWN0UHJldmlvdXMoKSB7CiAgICAgICAgIGNvbnN0IHsgcHJvZHVjdHMgfSA9IHRoaXM7CiAgICAgICAgIGNvbnN0IGNhdGVnb3J5UHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoKHByb2R1Y3QpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHJldHVybiB0cnVlOwogICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5jYXRlZ29yeSA9PT0gdGhpcy5wcm9kdWN0LmNhdGVnb3J5OwogICAgICAgICB9KTsKCiAgICAgICAgIGxldCBwcm9kdWN0SW5kZXggPSBjYXRlZ29yeVByb2R1Y3RzLmluZGV4T2YodGhpcy5wcm9kdWN0KTsKICAgICAgICAgbGV0IHByb2R1Y3RQcmV2aW91c0luZGV4ID0gcHJvZHVjdEluZGV4IC0gMTsKICAgICAgICAgaWYgKAogICAgICAgICAgICAwIDw9IHByb2R1Y3RQcmV2aW91c0luZGV4ICYmCiAgICAgICAgICAgIHByb2R1Y3RQcmV2aW91c0luZGV4IDw9IGNhdGVnb3J5UHJvZHVjdHMubGVuZ3RoIC0gMQogICAgICAgICApIHsKICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5UHJvZHVjdHNbcHJvZHVjdFByZXZpb3VzSW5kZXhdOwogICAgICAgICB9CgogICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSwKICAgICAgcHJvZHVjdE5leHQoKSB7CiAgICAgICAgIGNvbnN0IHByb2R1Y3RzID0gdGhpcy5wcm9kdWN0czsKICAgICAgICAgY29uc3QgY2F0ZWdvcnlQcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcigocHJvZHVjdCkgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMucHJvZHVjdCkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0LmNhdGVnb3J5ID09PSB0aGlzLnByb2R1Y3QuY2F0ZWdvcnk7CiAgICAgICAgIH0pOwoKICAgICAgICAgbGV0IHByb2R1Y3RJbmRleCA9IGNhdGVnb3J5UHJvZHVjdHMuaW5kZXhPZih0aGlzLnByb2R1Y3QpOwogICAgICAgICBsZXQgcHJvZHVjdE5leHRJbmRleCA9IHByb2R1Y3RJbmRleCArIDE7CiAgICAgICAgIGlmICgKICAgICAgICAgICAgMCA8PSBwcm9kdWN0TmV4dEluZGV4ICYmCiAgICAgICAgICAgIHByb2R1Y3ROZXh0SW5kZXggPD0gY2F0ZWdvcnlQcm9kdWN0cy5sZW5ndGggLSAxCiAgICAgICAgICkgewogICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlQcm9kdWN0c1twcm9kdWN0TmV4dEluZGV4XTsKICAgICAgICAgfQoKICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0sCgogICAgICBwb3B1cFdpbmRvdzogKGMpID0+IHsKICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb3BlbkFkZFByb2R1Y3Q6ICgpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0QWRkLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5SZW1vdmVQcm9kdWN0OiAocHJvZHVjdCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3REZWxldGUuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0RGVsZXRlLnZhbHVlID0gcHJvZHVjdDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblZpZXdJbWFnZTogKGltYWdlKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEltYWdlVmlldy52YWx1ZSA9IGltYWdlOwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RJbWFnZVZpZXcuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblJlbW92ZUltYWdlOiAoaW1hZ2UpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0SW1hZ2VEZWxldGUudmFsdWUgPSBpbWFnZTsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0SW1hZ2VEZWxldGUuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblVwZGF0ZVRpdGxlOiAodGl0bGUpID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0VGl0bGVFZGl0LnZhbHVlID0gdGl0bGU7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFRpdGxlRWRpdC5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuVXBkYXRlQnJhbmQ6IChicmFuZCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RCcmFuZEVkaXQudmFsdWUgPSBicmFuZDsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0QnJhbmRFZGl0LmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5VcGRhdGVDYXRlZ29yeTogKGNhdGVnb3J5KSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdENhdGVnb3J5RWRpdC52YWx1ZSA9IGNhdGVnb3J5OwogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RDYXRlZ29yeUVkaXQuaXNTaG93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlblVwZGF0ZURlc2NyaXB0aW9uOiAoZGVzY3JpcHRpb24pID0+IHsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0RGVzY3JpcHRpb25FZGl0LnZhbHVlID0gZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdERlc2NyaXB0aW9uRWRpdC5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuQWRkU3BlY2lmaWNhdGlvbjogKCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RTcGVjaWZpY2F0aW9uQWRkLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5SZW1vdmVTcGVjaWZpY2F0aW9uOiAoc3BlY2lmaWNhdGlvbikgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RTcGVjaWZpY2F0aW9uRGVsZXRlLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5VcGRhdGVTcGVjaWZpY2F0aW9uczogKHNwZWNpZmljYXRpb25zKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdFNwZWNpZmljYXRpb25VcGRhdGUudmFsdWUgPSBzcGVjaWZpY2F0aW9uczsKICAgICAgICAgICAgICAgYy5wb3B1cC5wcm9kdWN0U3BlY2lmaWNhdGlvblVwZGF0ZS5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuQWRkQnVuZGxlOiAoKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEJ1bmRsZUFkZC5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuUmVtb3ZlQnVuZGxlOiAoYnVuZGxlKSA9PiB7CiAgICAgICAgICAgICAgIGMucG9wdXAucHJvZHVjdEJ1bmRsZURlbGV0ZS5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuQWRkR2lmdDogKCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RHaWZ0QWRkLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5SZW1vdmVHaWZ0OiAoZ2lmdCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RHaWZ0RGVsZXRlLmlzU2hvd2luZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wZW5BZGRQcmljZTogKCkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RQcmljZUFkZC5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuUmVtb3ZlUHJpY2U6IChwcmljZSkgPT4gewogICAgICAgICAgICAgICBjLnBvcHVwLnByb2R1Y3RQcmljZURlbGV0ZS5pc1Nob3dpbmcgPSB0cnVlOwogICAgICAgICAgICB9LAogICAgICAgICB9OwogICAgICB9LAogICB9LAogICB3YXRjaDogewogICAgICBwcm9kdWN0KCkgewogICAgICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICAgICB0aGlzLm9uV2hhdHNhcHBMaW5rKCk7CiAgICAgIH0sCiAgICAgIHByb2R1Y3RJZCgpIHsKICAgICAgICAgdGhpcy5vblByb2R1Y3RJZCgpOwogICAgICB9LAogICB9LAogICBtZXRob2RzOiB7CiAgICAgIGFzeW5jIG9uUHJvZHVjdCgpIHsKICAgICAgICAgdGhpcy5wcm9kdWN0QnJhbmQgPSBudWxsOwogICAgICAgICBpZiAodGhpcy5wcm9kdWN0KSB7CiAgICAgICAgICAgIHRoaXMucHJvZHVjdEJyYW5kID0gYXdhaXQgdGhpcy5wcm9kdWN0LmZldGNoQnJhbmQoKTsKICAgICAgICAgfQoKICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3QpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiAodGhpcy5kcmF3ZXJQcm9kdWN0ID0gdGhpcy5wcm9kdWN0KSwgNzAwKTsKICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5kcmF3ZXJQcm9kdWN0ID0gdGhpcy5wcm9kdWN0OwogICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFzeW5jIG9uUHJvZHVjdElkKCkgewogICAgICAgICB0aGlzLnByb2R1Y3QgPSBudWxsOwogICAgICAgICBpZiAodGhpcy5wcm9kdWN0SWQpIHsKICAgICAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCB0aGlzLnByb2R1Y3RTdG9yZS5kaXNwYXRjaCgiZ2V0UHJvZHVjdHMiKTsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0ID0gcHJvZHVjdHMuZmluZCgocHJvZHVjdCkgPT4gewogICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5pZCA9PT0gdGhpcy5wcm9kdWN0SWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFzeW5jIG9uV2hhdHNhcHBMaW5rKCkgewogICAgICAgICB0aGlzLndoYXRzYXBwTGluayA9ICIiOwoKICAgICAgICAgbGV0IHBob25lID0gIjYwMTY3OTU5NDQ0IjsKCiAgICAgICAgIGxldCB7IHByb2R1Y3QsIHByb2R1Y3RMaW5rIH0gPSB0aGlzOwogICAgICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICAgICAgdGhpcy53aGF0c2FwcExpbmsgPSBgaHR0cHM6Ly9hcGkud2hhdHNhcHAuY29tL3NlbmQ/cGhvbmU9JHtwaG9uZX1gOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KCiAgICAgICAgIGNvbnN0IHRpdGxlID0gYXdhaXQgcHJvZHVjdC5mZXRjaEZ1bGxUaXRsZSgpOwoKICAgICAgICAgbGV0IHRleHQgPSBgSGksIEkgYW0gaW50ZXJlc3RlZCBpbiB0aGlzIHByb2R1Y3RgOwogICAgICAgICBpZiAodGl0bGUpIHRleHQgKz0gYFxuXG4ke3RpdGxlfWA7CiAgICAgICAgIGlmIChwcm9kdWN0TGluaykgdGV4dCArPSBgXG4ke3Byb2R1Y3RMaW5rfWA7CgogICAgICAgICBjb25zdCB0ZXh0VXJpID0gZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpOwogICAgICAgICBjb25zdCBwaG9uZVVyaSA9IGVuY29kZVVSSUNvbXBvbmVudChwaG9uZSk7CgogICAgICAgICB0aGlzLndoYXRzYXBwTGluayA9IGBodHRwczovL2FwaS53aGF0c2FwcC5jb20vc2VuZD9waG9uZT0ke3Bob25lVXJpfSZ0ZXh0PSR7dGV4dFVyaX1gOwogICAgICB9LAoKICAgICAgc2V0UHJvZHVjdChwcm9kdWN0KSB7CiAgICAgICAgIHRoaXMuc2V0UHJvZHVjdElkKHByb2R1Y3QgPyBwcm9kdWN0LmdldElkKCkgOiBudWxsKTsKICAgICAgfSwKICAgICAgc2V0UHJvZHVjdElkKHByb2R1Y3RJZCkgewogICAgICAgICB0aGlzLiRyb290Lm5leHRSb3V0ZSh7CiAgICAgICAgICAgIHF1ZXJ5OiB7IHByb2R1Y3RJZDogcHJvZHVjdElkID8gcHJvZHVjdElkIDogbnVsbCB9LAogICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIGNsaWNrTG9nb3V0KCkgewogICAgICAgICB0aGlzLnVzZXJTdG9yZS5kaXNwYXRjaCgibG9nb3V0IikudGhlbigodXNlcikgPT4gewogICAgICAgICAgICB0aGlzLiRyb290LmZlZWRiYWNrKGAke3VzZXIubmFtZX0gaXMgbm93IGxvZ2dlZCBvdXRgKTsKICAgICAgICAgfSk7CiAgICAgIH0sCiAgIH0sCiAgIGNyZWF0ZWQoKSB7CiAgICAgIE9iamVjdC5rZXlzKHRoaXMucG9wdXApLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICByZXR1cm4gKHRoaXMucG9wdXBba2V5XS5jb250ZXh0ID0gdGhpcyk7CiAgICAgIH0pOwogICB9LAogICBtb3VudGVkKCkgewogICAgICB0aGlzLm9uUHJvZHVjdCgpOwogICAgICB0aGlzLm9uUHJvZHVjdElkKCk7CiAgIH0sCn07Cg=="},null]}