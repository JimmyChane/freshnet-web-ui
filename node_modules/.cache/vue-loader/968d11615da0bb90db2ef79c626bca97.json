{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\login\\PageLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\login\\PageLogin.vue","mtime":1663518638152},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5ndjEgZnJvbSAiQC9jb21wb25lbnRzL2xvYWRpbmcvTG9hZGluZ3YxIjsKaW1wb3J0IElucHV0IGZyb20gIkAvY29tcG9uZW50cy9JbnB1dC52dWUiOwppbXBvcnQgQnV0dG9uMiBmcm9tICJAL2NvbXBvbmVudHMvYnV0dG9uL0J1dHRvbjIudnVlIjsKaW1wb3J0IEFjdGlvbmJhciBmcm9tICJAL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9hY3Rpb25iYXIyL0FjdGlvbmJhci52dWUiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvYXBwL0Zvb3Rlci52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICByZXNvdXJjZTogeyB0aXRsZTogIlN0YWZmIExvZ2luIiB9LAogICBjb21wb25lbnRzOiB7IExvYWRpbmd2MSwgSW5wdXQsIEJ1dHRvbjIsIEFjdGlvbmJhciwgRm9vdGVyIH0sCiAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgIHRvcDogeyBzaGFkb3c6IGZhbHNlIH0sCiAgICAgICAgIHVzZXJuYW1lRXJyb3JUZXh0OiAiIiwKICAgICAgICAgcGFzc3dvcmRFcnJvclRleHQ6ICIiLAogICAgICB9OwogICB9LAogICBjb21wdXRlZDogewogICAgICBpc0xvYWRpbmc6IChjKSA9PiBjLmxvZ2luU3RvcmUuZ2V0dGVycy5pc0xvYWRpbmcsCiAgIH0sCiAgIG1ldGhvZHM6IHsKICAgICAgY2xpY2tMb2dpbigpIHsKICAgICAgICAgbGV0IHJlZGlyZWN0ID0gdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgPz8gIi9ob21lIjsKCiAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy4kcmVmcy51c2VybmFtZS52YWx1ZTsKICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLiRyZWZzLnBhc3N3b3JkLnZhbHVlOwogICAgICAgICB0aGlzLnVzZXJuYW1lRXJyb3JUZXh0ID0gIiI7CiAgICAgICAgIHRoaXMucGFzc3dvcmRFcnJvclRleHQgPSAiIjsKCiAgICAgICAgIGlmICh1c2VybmFtZSA9PT0gIiIpIHRoaXMudXNlcm5hbWVFcnJvclRleHQgPSAiTWlzc2luZyBGaWVsZCI7CiAgICAgICAgIGlmIChwYXNzd29yZCA9PT0gIiIpIHRoaXMucGFzc3dvcmRFcnJvclRleHQgPSAiTWlzc2luZyBGaWVsZCI7CiAgICAgICAgIGlmICh1c2VybmFtZSA9PT0gIiIgfHwgcGFzc3dvcmQgPT0gIiIpIHJldHVybjsKCiAgICAgICAgIHRoaXMubG9naW5TdG9yZQogICAgICAgICAgICAuZGlzcGF0Y2goImxvZ2luIiwgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSkKICAgICAgICAgICAgLnRoZW4oKHVzZXIpID0+IHNldFRpbWVvdXQoKCkgPT4gdGhpcy4kcm91dGVyLnB1c2gocmVkaXJlY3QpLCAyMDApKQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICB0aGlzLiRyb290LmZlZWRiYWNrKCJMb2dpbiBmYWlsZWQiKTsKICAgICAgICAgICAgICAgdGhpcy51c2VybmFtZUVycm9yVGV4dCA9ICJDaGVjayB5b3VyIHVzZXJuYW1lIjsKICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZEVycm9yVGV4dCA9ICJDaGVjayB5b3VyIHBhc3N3b3JkIjsKICAgICAgICAgICAgfSk7CiAgICAgIH0sCiAgIH0sCiAgIGFzeW5jIG1vdW50ZWQoKSB7CiAgICAgIGxldCB1c2VyID0gYXdhaXQgdGhpcy5sb2dpblN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyIik7CiAgICAgIGlmICghdXNlcikgcmV0dXJuOwogICAgICBpZiAoIXRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0KSByZXR1cm47CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfSk7CiAgIH0sCn07Cg=="},{"version":3,"sources":["PageLogin.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageLogin.vue","sourceRoot":"src/pages/login","sourcesContent":["<script>\r\n   import Loadingv1 from \"@/components/loading/Loadingv1\";\r\n   import Input from \"@/components/Input.vue\";\r\n   import Button2 from \"@/components/button/Button2.vue\";\r\n   import Actionbar from \"@/components/navigation/actionbar2/Actionbar.vue\";\r\n   import Footer from \"@/app/Footer.vue\";\r\n\r\n   export default {\r\n      resource: { title: \"Staff Login\" },\r\n      components: { Loadingv1, Input, Button2, Actionbar, Footer },\r\n      data() {\r\n         return {\r\n            top: { shadow: false },\r\n            usernameErrorText: \"\",\r\n            passwordErrorText: \"\",\r\n         };\r\n      },\r\n      computed: {\r\n         isLoading: (c) => c.loginStore.getters.isLoading,\r\n      },\r\n      methods: {\r\n         clickLogin() {\r\n            let redirect = this.$route.query.redirect ?? \"/home\";\r\n\r\n            const username = this.$refs.username.value;\r\n            const password = this.$refs.password.value;\r\n            this.usernameErrorText = \"\";\r\n            this.passwordErrorText = \"\";\r\n\r\n            if (username === \"\") this.usernameErrorText = \"Missing Field\";\r\n            if (password === \"\") this.passwordErrorText = \"Missing Field\";\r\n            if (username === \"\" || password == \"\") return;\r\n\r\n            this.loginStore\r\n               .dispatch(\"login\", { username, password })\r\n               .then((user) => setTimeout(() => this.$router.push(redirect), 200))\r\n               .catch(() => {\r\n                  this.$root.feedback(\"Login failed\");\r\n                  this.usernameErrorText = \"Check your username\";\r\n                  this.passwordErrorText = \"Check your password\";\r\n               });\r\n         },\r\n      },\r\n      async mounted() {\r\n         let user = await this.loginStore.dispatch(\"getUser\");\r\n         if (!user) return;\r\n         if (!this.$route.query.redirect) return;\r\n         this.$router.push({ path: this.$route.query.redirect });\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageLogin\">\r\n      <Loadingv1 class=\"PageLogin-Loading\" :isRunning=\"isLoading\" />\r\n\r\n      <div\r\n         class=\"PageLogin-body\"\r\n         @scroll=\"(event) => (top.shadow = event.target.scrollTop > 0)\"\r\n      >\r\n         <Actionbar\r\n            class=\"PageLogin-top\"\r\n            :class=\"[top.shadow ? 'PageLogin-top-shadow' : '']\"\r\n            v-if=\"$root.navigation.isDrawer()\"\r\n            :leftMenus=\"[\r\n               {\r\n                  title: 'Hamburger Menu',\r\n                  icon: host.res('icon/hamburgerMenu-2A4858.svg'),\r\n                  click: () => $root.openNavigationDrawer(),\r\n               },\r\n            ]\"\r\n         >\r\n            <router-link class=\"PageLogin-top-logo\" :to=\"{ name: 'home' }\">\r\n               <img\r\n                  class=\"PageLogin-top-logo-img\"\r\n                  :src=\"host.res('icon/home-2A4858.svg')\"\r\n               />\r\n            </router-link>\r\n         </Actionbar>\r\n\r\n         <div class=\"PageLogin-main\">\r\n            <div class=\"PageLogin-form\">\r\n               <div class=\"PageLogin-header\">\r\n                  <span class=\"PageLogin-title\">Staff Login</span>\r\n               </div>\r\n\r\n               <form class=\"PageLogin-content\" @submit.prevent=\"clickLogin()\">\r\n                  <Input\r\n                     class=\"PageLogin-input\"\r\n                     ref=\"username\"\r\n                     label=\"Username\"\r\n                     type=\"text\"\r\n                     @input=\"\r\n                        (comp) => {\r\n                           let value = comp.value;\r\n                           if (value.includes(''))\r\n                              comp.value = value.trim().replace(' ', '');\r\n                        }\r\n                     \"\r\n                     :isRequired=\"true\"\r\n                     :error=\"usernameErrorText\"\r\n                  />\r\n                  <Input\r\n                     class=\"PageLogin-input\"\r\n                     ref=\"password\"\r\n                     label=\"Password\"\r\n                     type=\"password\"\r\n                     :isRequired=\"true\"\r\n                     :error=\"passwordErrorText\"\r\n                  />\r\n\r\n                  <Button2 class=\"PageLogin-button\" text=\"Login\" />\r\n               </form>\r\n            </div>\r\n         </div>\r\n\r\n         <Footer />\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageLogin {\r\n      --page-background-color: #c9d7df;\r\n      --page-background-color-shadow: #b6b6b6;\r\n\r\n      background: var(--page-background-color);\r\n      color: #2a4858;\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: stretch;\r\n      justify-content: stretch;\r\n      position: relative;\r\n\r\n      --max-width: 650px;\r\n      --max-width: 28em;\r\n\r\n      .PageLogin-Loading {\r\n         z-index: 3;\r\n         position: absolute;\r\n         top: 0;\r\n         width: 100%;\r\n      }\r\n\r\n      .PageLogin-body {\r\n         z-index: 1;\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n         justify-content: flex-start;\r\n         position: relative;\r\n         overflow-x: hidden;\r\n         overflow-y: auto;\r\n\r\n         .PageLogin-top {\r\n            top: 0;\r\n            right: 0;\r\n            left: 0;\r\n            z-index: 2;\r\n            width: 100%;\r\n            background: #d6e1e5;\r\n            position: sticky;\r\n            transition: var(--animation-duration);\r\n\r\n            .PageLogin-top-logo {\r\n               --size: 2.8rem;\r\n\r\n               width: var(--size);\r\n               height: var(--size);\r\n               min-width: var(--size);\r\n               min-height: var(--size);\r\n               max-width: var(--size);\r\n               max-height: var(--size);\r\n               background: none;\r\n               border: none;\r\n               cursor: pointer;\r\n               padding: 0.6rem;\r\n               border-radius: 50%;\r\n               transition: var(--animation-duration);\r\n               display: flex;\r\n               flex-grow: 0;\r\n               flex-direction: row;\r\n               align-items: center;\r\n               justify-content: center;\r\n\r\n               &:hover {\r\n                  background: hsla(0, 0%, 0%, 0.1);\r\n                  background: #49748940;\r\n               }\r\n               &-img {\r\n                  height: 100%;\r\n                  width: 100%;\r\n               }\r\n            }\r\n         }\r\n         .PageLogin-top-shadow {\r\n            box-shadow: 0 0 3rem rgba(0, 0, 0, 0.1);\r\n         }\r\n\r\n         .PageLogin-main {\r\n            width: 100%;\r\n            height: 80%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n\r\n            .PageLogin-form {\r\n               z-index: 1;\r\n               width: 100%;\r\n               max-width: var(--max-width);\r\n               display: flex;\r\n               flex-direction: column;\r\n               align-items: flex-start;\r\n               justify-content: flex-start;\r\n               gap: 1em;\r\n               padding: 2em;\r\n\r\n               .PageLogin-header {\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  align-items: flex-start;\r\n                  justify-content: center;\r\n                  .PageLogin-title {\r\n                     font-size: 4rem;\r\n                     opacity: 0.6;\r\n                     line-height: 1.4;\r\n                  }\r\n                  .PageLogin-description {\r\n                     font-weight: 400;\r\n                     font-size: 1.2rem;\r\n                  }\r\n               }\r\n\r\n               .PageLogin-content {\r\n                  width: 100%;\r\n                  padding: 20px 0;\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  align-items: center;\r\n                  justify-content: center;\r\n                  gap: 14px;\r\n\r\n                  & > * {\r\n                     width: 100%;\r\n                  }\r\n\r\n                  .PageLogin-input {\r\n                     padding: 0.8rem 1rem;\r\n                  }\r\n\r\n                  .PageLogin-button {\r\n                     max-width: 200px;\r\n                     margin-top: 20px;\r\n                     padding: 10px;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"]}]}