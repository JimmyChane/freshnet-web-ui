{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\ProductPrice.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\ProductPrice.js","mtime":1666245714400},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1uYW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIucGFyc2UtZmxvYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwp2YXIgQ3VycmVuY3kgPSAiUk0iOwp2YXIgY2hhclNwYWNlID0gIiAiOwp2YXIgY2hhckRvdCA9ICIuIjsKCnZhciBwYXJzZUN1cnJlbmN5ID0gZnVuY3Rpb24gcGFyc2VDdXJyZW5jeShjb250ZW50KSB7CiAgdmFyIGluZGV4U3RhcnQgPSBjb250ZW50LmluZGV4T2YoQ3VycmVuY3kpOwogIHZhciBpbmRleEVuZCA9IGluZGV4U3RhcnQgPT09IC0xID8gLTEgOiBpbmRleFN0YXJ0ICsgQ3VycmVuY3kubGVuZ3RoOwogIHJldHVybiB7CiAgICBpbmRleFN0YXJ0OiBpbmRleFN0YXJ0LAogICAgaW5kZXhFbmQ6IGluZGV4RW5kLAogICAgdmFsdWU6IGluZGV4U3RhcnQgPT09IC0xID8gIiIgOiBjb250ZW50LnN1YnN0cmluZyhpbmRleFN0YXJ0LCBpbmRleEVuZCkKICB9Owp9OwoKdmFyIHBhcnNlQW1vdW50ID0gZnVuY3Rpb24gcGFyc2VBbW91bnQoY29udGVudCkgewogIHZhciB2YWx1ZVN0cmluZyA9ICIiOwogIHZhciBoYXNOdW1iZXJGcm9udCA9IGZhbHNlOwogIHZhciBoYXNOdW1iZXJCYWNrID0gZmFsc2U7CiAgdmFyIGhhc0RvdCA9IGZhbHNlOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHsKICAgIHZhciBjaGFyID0gY29udGVudC5jaGFyQXQoaSk7CgogICAgaWYgKGNoYXIgPT09IGNoYXJTcGFjZSkgewogICAgICBpZiAoaGFzRG90IHx8IGhhc051bWJlckZyb250IHx8IGhhc051bWJlckJhY2spIGJyZWFrOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICB2YXIgcGFyc2UgPSBOdW1iZXIucGFyc2VJbnQoY2hhcik7CgogICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2UpKSB7CiAgICAgIHZhbHVlU3RyaW5nICs9IHBhcnNlOwogICAgICBpZiAoaGFzRG90KSBoYXNOdW1iZXJCYWNrID0gdHJ1ZTtlbHNlIGhhc051bWJlckZyb250ID0gdHJ1ZTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgaWYgKGNoYXIgPT09IGNoYXJEb3QpIHsKICAgICAgaWYgKGhhc0RvdCkgYnJlYWs7CiAgICAgIHZhbHVlU3RyaW5nICs9ICIuIjsKICAgICAgaGFzRG90ID0gdHJ1ZTsKICAgICAgY29udGludWU7CiAgICB9CiAgfQoKICB2YXIgdmFsdWVQYXJzZSA9IE51bWJlci5wYXJzZUZsb2F0KHZhbHVlU3RyaW5nKTsKICByZXR1cm4gTnVtYmVyLmlzTmFOKHZhbHVlUGFyc2UpID8gMCA6IHZhbHVlUGFyc2U7Cn07Cgp2YXIgUHJvZHVjdFByaWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQcm9kdWN0UHJpY2UoZGF0YSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2R1Y3RQcmljZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjdXJyZW5jeSIsICIiKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInZhbHVlIiwgMCk7CgogICAgdGhpcy5mcm9tRGF0YShkYXRhKTsKICB9CgogIF9jcmVhdGVDbGFzcyhQcm9kdWN0UHJpY2UsIFt7CiAgICBrZXk6ICJmcm9tRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbURhdGEoKSB7CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7CiAgICAgICAgY3VycmVuY3k6ICIiLAogICAgICAgIHZhbHVlOiAwCiAgICAgIH07CiAgICAgIHRoaXMuY3VycmVuY3kgPSBkYXRhLmN1cnJlbmN5OwogICAgICB0aGlzLnZhbHVlID0gZGF0YS52YWx1ZTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9EYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0RhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VycmVuY3k6IHRoaXMuY3VycmVuY3ksCiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b1N0cmluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7CiAgICAgIHZhciBjdXJyZW5jeSA9IHRoaXMuY3VycmVuY3ksCiAgICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJudW1iZXIiKSB2YWx1ZSA9IDA7CiAgICAgIHZhciB2YWx1ZVN0cmluZyA9IHZhbHVlLnRvRml4ZWQoMik7CiAgICAgIHZhciBpbmRleCA9IHZhbHVlU3RyaW5nLmluZGV4T2YoIi4iKTsKCiAgICAgIGlmIChpbmRleCA+PSA0KSB7CiAgICAgICAgdmFsdWVTdHJpbmcgPSB2YWx1ZVN0cmluZy5zdWJzdHJpbmcoMCwgaW5kZXggLSAzKSArICIsIiArIHZhbHVlU3RyaW5nLnN1YnN0cmluZyhpbmRleCAtIDMsIHZhbHVlU3RyaW5nLmxlbmd0aCk7CiAgICAgIH0KCiAgICAgIGlmICghY3VycmVuY3kpIHJldHVybiAiIi5jb25jYXQoUHJvZHVjdFByaWNlLkN1cnJlbmN5LCAiICIpLmNvbmNhdCh2YWx1ZVN0cmluZyk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoY3VycmVuY3ksICIgIikuY29uY2F0KHZhbHVlU3RyaW5nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0NvdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0NvdW50KHN0cnMpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcGFyZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZShpdGVtKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogIH1dLCBbewogICAga2V5OiAicGFyc2VTdHJpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlU3RyaW5nKGNvbnRlbnQpIHsKICAgICAgdmFyIGN1cnJlbmN5UGFyc2VzID0gW107CiAgICAgIHZhciBhbW91bnRQYXJzZWQgPSBwYXJzZUFtb3VudChjb250ZW50KTsKCiAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgdmFyIGN1cnJlbmN5UGFyc2VkID0gcGFyc2VDdXJyZW5jeShjb250ZW50KTsKICAgICAgICBpZiAoIWN1cnJlbmN5UGFyc2VkLnZhbHVlKSBicmVhazsKICAgICAgICBjdXJyZW5jeVBhcnNlcy5wdXNoKGN1cnJlbmN5UGFyc2VkKTsKICAgICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoY3VycmVuY3lQYXJzZWQuaW5kZXhFbmQsIGNvbnRlbnQubGVuZ3RoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBQcm9kdWN0UHJpY2UoKS5mcm9tRGF0YSh7CiAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5UGFyc2VzLmxlbmd0aCA/IGN1cnJlbmN5UGFyc2VzWzBdLnZhbHVlIDogIiIsCiAgICAgICAgdmFsdWU6IGFtb3VudFBhcnNlZAogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQcm9kdWN0UHJpY2U7Cn0oKTsKCl9kZWZpbmVQcm9wZXJ0eShQcm9kdWN0UHJpY2UsICJDdXJyZW5jeSIsIEN1cnJlbmN5KTsKCmV4cG9ydCBkZWZhdWx0IFByb2R1Y3RQcmljZTs="},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/ProductPrice.js"],"names":["Currency","charSpace","charDot","parseCurrency","content","indexStart","indexOf","indexEnd","length","value","substring","parseAmount","valueString","hasNumberFront","hasNumberBack","hasDot","i","char","charAt","parse","Number","parseInt","isNaN","valueParse","parseFloat","ProductPrice","data","fromData","currency","toFixed","index","strs","item","currencyParses","amountParsed","currencyParsed","push"],"mappings":"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","sourcesContent":["const Currency = \"RM\";\r\nconst charSpace = \" \";\r\nconst charDot = \".\";\r\n\r\nconst parseCurrency = (content) => {\r\n\tconst indexStart = content.indexOf(Currency);\r\n\tconst indexEnd = indexStart === -1 ? -1 : indexStart + Currency.length;\r\n\treturn {\r\n\t\tindexStart,\r\n\t\tindexEnd,\r\n\t\tvalue: indexStart === -1 ? \"\" : content.substring(indexStart, indexEnd),\r\n\t};\r\n};\r\nconst parseAmount = (content) => {\r\n\tlet valueString = \"\";\r\n\tlet hasNumberFront = false;\r\n\tlet hasNumberBack = false;\r\n\tlet hasDot = false;\r\n\tfor (let i = 0; i < content.length; i++) {\r\n\t\tlet char = content.charAt(i);\r\n\r\n\t\tif (char === charSpace) {\r\n\t\t\tif (hasDot || hasNumberFront || hasNumberBack) break;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tlet parse = Number.parseInt(char);\r\n\t\tif (!Number.isNaN(parse)) {\r\n\t\t\tvalueString += parse;\r\n\t\t\tif (hasDot) hasNumberBack = true;\r\n\t\t\telse hasNumberFront = true;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (char === charDot) {\r\n\t\t\tif (hasDot) break;\r\n\t\t\tvalueString += \".\";\r\n\t\t\thasDot = true;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t}\r\n\r\n\tconst valueParse = Number.parseFloat(valueString);\r\n\r\n\treturn Number.isNaN(valueParse) ? 0 : valueParse;\r\n};\r\n\r\nclass ProductPrice {\r\n\tstatic Currency = Currency;\r\n\r\n\tstatic parseString(content) {\r\n\t\tconst currencyParses = [];\r\n\t\tconst amountParsed = parseAmount(content);\r\n\r\n\t\twhile (true) {\r\n\t\t\tlet currencyParsed = parseCurrency(content);\r\n\t\t\tif (!currencyParsed.value) break;\r\n\t\t\tcurrencyParses.push(currencyParsed);\r\n\t\t\tcontent = content.substring(currencyParsed.indexEnd, content.length);\r\n\t\t}\r\n\r\n\t\treturn new ProductPrice().fromData({\r\n\t\t\tcurrency: currencyParses.length ? currencyParses[0].value : \"\",\r\n\t\t\tvalue: amountParsed,\r\n\t\t});\r\n\t}\r\n\r\n\tcurrency = \"\";\r\n\tvalue = 0;\r\n\r\n\tconstructor(data) {\r\n\t\tthis.fromData(data);\r\n\t}\r\n\r\n\tfromData(data = { currency: \"\", value: 0 }) {\r\n\t\tthis.currency = data.currency;\r\n\t\tthis.value = data.value;\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\treturn { currency: this.currency, value: this.value };\r\n\t}\r\n\ttoString() {\r\n\t\tlet { currency, value } = this;\r\n\r\n\t\tif (typeof value !== \"number\") value = 0;\r\n\r\n\t\tlet valueString = value.toFixed(2);\r\n\r\n\t\tlet index = valueString.indexOf(\".\");\r\n\t\tif (index >= 4) {\r\n\t\t\tvalueString =\r\n\t\t\t\tvalueString.substring(0, index - 3) +\r\n\t\t\t\t\",\" +\r\n\t\t\t\tvalueString.substring(index - 3, valueString.length);\r\n\t\t}\r\n\r\n\t\tif (!currency) return `${ProductPrice.Currency} ${valueString}`;\r\n\r\n\t\treturn `${currency} ${valueString}`;\r\n\t}\r\n\ttoCount(strs) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nexport default ProductPrice;\r\n"]}]}