{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\stores\\store.user.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\stores\\store.user.js","mtime":1666953105748},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBBcGlIb3N0IGZyb20gIi4uL2hvc3QvQXBpSG9zdC5qcyI7CmltcG9ydCBJdGVtVXNlciBmcm9tICIuLi9pdGVtcy9Vc2VyLmpzIjsKaW1wb3J0IERhdGFMb2FkZXIgZnJvbSAiLi90b29scy9EYXRhTG9hZGVyIjsKaW1wb3J0IFByb2Nlc3NvciBmcm9tICIuL3Rvb2xzL1Byb2Nlc3Nvci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KFN0b3JlcykgewogICAgdmFyIGxvZ2luU3RvcmUgPSBTdG9yZXMubG9naW47CiAgICB2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgICAgIHN0YXRlOiB7CiAgICAgICAgbGFzdE1vZGlmaWVkOiAwLAogICAgICAgIGRhdGFMb2FkZXI6IG5ldyBEYXRhTG9hZGVyKHsKICAgICAgICAgIHRpbWVvdXQ6IDEwMDAgKiA1CiAgICAgICAgfSkgLy8gNXNlYwogICAgICAgIC5wcm9jZXNzb3IoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLnByb2Nlc3NvcjsKICAgICAgICB9KS5sb2FkRGF0YSggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHZhciB1c2VyLCBhcGksIGNvbnRlbnRzOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luU3RvcmUuZGlzcGF0Y2goImdldFVzZXIiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKCEoIXVzZXIgfHwgIXVzZXIuaXNUeXBlQWRtaW4oKSkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLnVybCgidXNlcnMiKS5zZW5kKCk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBjb250ZW50cyA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRlbnRzLm1hcChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSXRlbVVzZXIoU3RvcmVzKS5mcm9tRGF0YShkYXRhKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpKS5zZXREYXRhKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBzdG9yZS5jb21taXQoIml0ZW1zIiwgQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbXSk7CiAgICAgICAgICBzdG9yZS5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgICAgIH0pLmdldERhdGEoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuaXRlbXM7CiAgICAgICAgfSksCiAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIHByb2Nlc3NvcjogbmV3IFByb2Nlc3NvcigpCiAgICAgIH0sCiAgICAgIG11dGF0aW9uczogewogICAgICAgIGxhc3RNb2RpZmllZDogZnVuY3Rpb24gbGFzdE1vZGlmaWVkKHN0YXRlLCB0aW1lKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUubGFzdE1vZGlmaWVkID0gdGltZTsKICAgICAgICB9LAogICAgICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcyhzdGF0ZSwgX2l0ZW1zKSB7CiAgICAgICAgICBzdGF0ZS5pdGVtcyA9IEFycmF5LmlzQXJyYXkoX2l0ZW1zKSA/IF9pdGVtcyA6IFtdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2V0dGVyczogewogICAgICAgIGxhc3RNb2RpZmllZDogZnVuY3Rpb24gbGFzdE1vZGlmaWVkKHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUubGFzdE1vZGlmaWVkOwogICAgICAgIH0sCiAgICAgICAgaXNMb2FkaW5nOiBmdW5jdGlvbiBpc0xvYWRpbmcoc3RhdGUpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS5wcm9jZXNzb3IuaXNMb2FkaW5nKCk7CiAgICAgICAgfSwKICAgICAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oKSB7CiAgICAgICAgICByZXR1cm4gbG9naW5TdG9yZS5nZXR0ZXJzLnRva2VuOwogICAgICAgIH0sCiAgICAgICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUuaXRlbXMubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgIHJldHVybiB1c2VyOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhY3Rpb25zOiB7CiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgicmVmcmVzaCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdGF0ZS5kYXRhTG9hZGVyLmRvVGltZW91dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCJnZXRVc2VycyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBnZXRVc2VyczogZnVuY3Rpb24gZ2V0VXNlcnMoY29udGV4dCkgewogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUucHJvY2Vzc29yLmFjcXVpcmUoImdldFVzZXJzIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnN0YXRlLmRhdGFMb2FkZXIuZGF0YSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NC5zZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgZ2V0VXNlckJ5VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJCeVVzZXJuYW1lKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgICAgIHZhciB1c2VybmFtZTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogIiI7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUucHJvY2Vzc29yLmFjcXVpcmUoImdldFVzZXJCeVVzZXJuYW1lIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcnM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCJnZXRVc2VycyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHVzZXJzLmZpbmQoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlci51c2VybmFtZSA9PT0gdXNlcm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgYWRkVXNlcjogZnVuY3Rpb24gYWRkVXNlcihjb250ZXh0KSB7CiAgICAgICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHM7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZE5ldzogcGFzc3dvcmROZXcsCiAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFJlcGVhdDogcGFzc3dvcmRSZXBlYXQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLnByb2Nlc3Nvci5hY3F1aXJlKCJhZGRVc2VyIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciwgYXBpLCBjb250ZW50LCBuZXdVc2VyLCB1c2VyczsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luU3RvcmUuZGlzcGF0Y2goImdldFVzZXIiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCF1c2VyICYmICF1c2VyLmlzVHlwZUFkbWluKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLnVybCgidXNlcnMvdXNlciIpLlBPU1QoKS5ib2R5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogYXJnLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFyZy5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkTmV3OiBhcmcucGFzc3dvcmROZXcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRSZXBlYXQ6IGFyZy5wYXNzd29yZFJlcGVhdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1VzZXIgPSBuZXcgSXRlbVVzZXIoU3RvcmVzKS5mcm9tRGF0YShjb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnMgPSBjb250ZXh0LmdldHRlcnMuaXRlbXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzLnB1c2gobmV3VXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJpdGVtcyIsIHVzZXJzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgbmV3VXNlcik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVVc2VyQnlVc2VybmFtZTogZnVuY3Rpb24gcmVtb3ZlVXNlckJ5VXNlcm5hbWUoY29udGV4dCkgewogICAgICAgICAgdmFyIF9hcmd1bWVudHMzID0gYXJndW1lbnRzOwogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgICAgICB2YXIgYXJnOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzMy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzM1sxXSA6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLnByb2Nlc3Nvci5hY3F1aXJlKCJyZW1vdmVVc2VyQnlVc2VybmFtZSIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyLCBhcGksIGNvbnRlbnQsIHVzZXJzOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQxMC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIXVzZXIgJiYgIXVzZXIuaXNUeXBlQWRtaW4oKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBcGlIb3N0LnJlcXVlc3QoKS5ERUxFVEUoKS51cmwoInVzZXJzL3VzZXIiKS5ib2R5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogYXJnLnVzZXJuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlbmQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250ZW50ICE9PSAib2siKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VycyA9IGNvbnRleHQuZ2V0dGVycy5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlci51c2VybmFtZSAhPT0gYXJnLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoIml0ZW1zIiwgdXNlcnMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlVHlwZU9mVXNlckJ5VXNlcm5hbWU6IGZ1bmN0aW9uIHVwZGF0ZVR5cGVPZlVzZXJCeVVzZXJuYW1lKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzNCA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgYXJnID0gX2FyZ3VtZW50czQubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzNFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czRbMV0gOiB7CiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICB1c2VyVHlwZTogdXNlclR5cGUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgidXBkYXRlVHlwZU9mVXNlckJ5VXNlcm5hbWUiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciwgX3VzZXJuYW1lLCBfdXNlclR5cGUsIGFwaSwgY29udGVudCwgdXNlckNoYW5nZSwgdXNlcnM7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQxMi5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIXVzZXIgJiYgIXVzZXIuaXNUeXBlQWRtaW4oKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91c2VybmFtZSA9IGFyZy51c2VybmFtZSwgX3VzZXJUeXBlID0gYXJnLnVzZXJUeXBlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkudXJsKCJ1c2Vycy91c2VyIikuUFVUKCkuYm9keSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IF91c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyVHlwZTogX3VzZXJUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlbmQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDaGFuZ2UgPSBuZXcgSXRlbVVzZXIoU3RvcmVzKS5mcm9tRGF0YShjb250ZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyQ2hhbmdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzID0gY29udGV4dC5nZXR0ZXJzLml0ZW1zLm1hcChmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyLnVzZXJuYW1lID09PSB1c2VyQ2hhbmdlLnVzZXJuYW1lID8gdXNlckNoYW5nZSA6IHVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgiaXRlbXMiLCB1c2Vycyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCB1c2VyQ2hhbmdlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJpdGVtcyIsIFtdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDEyLnQwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIsIG51bGwsIFtbMCwgMjBdXSk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gc3RvcmU7CiAgfQp9Ow=="},{"version":3,"sources":["C:/dev/freshnet-vue/src/stores/store.user.js"],"names":["Vuex","ApiHost","ItemUser","DataLoader","Processor","init","Stores","loginStore","login","store","Store","state","lastModified","dataLoader","timeout","processor","loadData","dispatch","user","isTypeAdmin","Error","request","url","send","api","contents","getContent","map","data","fromData","setData","commit","Array","isArray","Date","now","getData","getters","items","mutations","time","isLoading","token","actions","refresh","context","acquire","doTimeout","getUsers","getUserByUsername","username","users","find","addUser","arg","name","passwordNew","passwordRepeat","POST","body","content","newUser","push","removeUserByUsername","DELETE","filter","updateTypeOfUserByUsername","userType","PUT","userChange"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\r\nimport ApiHost from \"../host/ApiHost.js\";\r\nimport ItemUser from \"../items/User.js\";\r\nimport DataLoader from \"./tools/DataLoader\";\r\nimport Processor from \"./tools/Processor.js\";\r\n\r\nexport default {\r\n\tinit(Stores) {\r\n\t\tconst loginStore = Stores.login;\r\n\r\n\t\tconst store = new Vuex.Store({\r\n\t\t\tstate: {\r\n\t\t\t\tlastModified: 0,\r\n\t\t\t\tdataLoader: new DataLoader({ timeout: 1000 * 5 }) // 5sec\r\n\t\t\t\t\t.processor(() => store.state.processor)\r\n\t\t\t\t\t.loadData(async () => {\r\n\t\t\t\t\t\tconst user = await loginStore.dispatch(\"getUser\");\r\n\t\t\t\t\t\tif (!user || !user.isTypeAdmin()) throw new Error();\r\n\t\t\t\t\t\tconst api = await ApiHost.request().url(\"users\").send();\r\n\t\t\t\t\t\tconst contents = api.getContent();\r\n\t\t\t\t\t\treturn contents.map((data) => new ItemUser(Stores).fromData(data));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.setData((data) => {\r\n\t\t\t\t\t\tstore.commit(\"items\", Array.isArray(data) ? data : []);\r\n\t\t\t\t\t\tstore.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.getData(() => store.getters.items),\r\n\t\t\t\titems: [],\r\n\t\t\t\tprocessor: new Processor(),\r\n\t\t\t},\r\n\t\t\tmutations: {\r\n\t\t\t\tlastModified: (state, time) => (state.lastModified = time),\r\n\t\t\t\titems: (state, items) => {\r\n\t\t\t\t\tstate.items = Array.isArray(items) ? items : [];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tgetters: {\r\n\t\t\t\tlastModified: (state) => state.lastModified,\r\n\t\t\t\tisLoading: (state) => state.processor.isLoading(),\r\n\t\t\t\ttoken: () => loginStore.getters.token,\r\n\t\t\t\titems: (state) => state.items.map((user) => user),\r\n\t\t\t},\r\n\t\t\tactions: {\r\n\t\t\t\tasync refresh(context) {\r\n\t\t\t\t\treturn context.state.processor.acquire(\"refresh\", async () => {\r\n\t\t\t\t\t\tcontext.state.dataLoader.doTimeout();\r\n\t\t\t\t\t\tawait context.dispatch(\"getUsers\");\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tasync getUsers(context) {\r\n\t\t\t\t\treturn context.state.processor.acquire(\"getUsers\", async () => {\r\n\t\t\t\t\t\treturn await context.state.dataLoader.data();\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync getUserByUsername(context, username = \"\") {\r\n\t\t\t\t\treturn context.state.processor.acquire(\r\n\t\t\t\t\t\t\"getUserByUsername\",\r\n\t\t\t\t\t\tasync () => {\r\n\t\t\t\t\t\t\tconst users = await context.dispatch(\"getUsers\");\r\n\t\t\t\t\t\t\treturn users.find((user) => user.username === username);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\tasync addUser(\r\n\t\t\t\t\tcontext,\r\n\t\t\t\t\targ = { username, name, passwordNew, passwordRepeat },\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn context.state.processor.acquire(\"addUser\", async () => {\r\n\t\t\t\t\t\tlet user = await loginStore.dispatch(\"getUser\");\r\n\r\n\t\t\t\t\t\tif (!user && !user.isTypeAdmin()) throw new Error();\r\n\r\n\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t.url(\"users/user\")\r\n\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t.body({\r\n\t\t\t\t\t\t\t\tusername: arg.username,\r\n\t\t\t\t\t\t\t\tname: arg.name,\r\n\t\t\t\t\t\t\t\tpasswordNew: arg.passwordNew,\r\n\t\t\t\t\t\t\t\tpasswordRepeat: arg.passwordRepeat,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.send();\r\n\r\n\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\tif (!content) throw new Error();\r\n\t\t\t\t\t\tconst newUser = new ItemUser(Stores).fromData(content);\r\n\t\t\t\t\t\tconst users = context.getters.items;\r\n\t\t\t\t\t\tusers.push(newUser);\r\n\t\t\t\t\t\tcontext.commit(\"items\", users);\r\n\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\treturn newUser;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync removeUserByUsername(context, arg = { username }) {\r\n\t\t\t\t\treturn context.state.processor.acquire(\r\n\t\t\t\t\t\t\"removeUserByUsername\",\r\n\t\t\t\t\t\tasync () => {\r\n\t\t\t\t\t\t\tlet user = await loginStore.dispatch(\"getUser\");\r\n\r\n\t\t\t\t\t\t\tif (!user && !user.isTypeAdmin()) throw new Error();\r\n\r\n\t\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t.DELETE()\r\n\t\t\t\t\t\t\t\t.url(\"users/user\")\r\n\t\t\t\t\t\t\t\t.body({ username: arg.username })\r\n\t\t\t\t\t\t\t\t.send();\r\n\r\n\t\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\t\tif (content !== \"ok\") throw new Error();\r\n\t\t\t\t\t\t\tlet users = context.getters.items.filter((user) => {\r\n\t\t\t\t\t\t\t\treturn user.username !== arg.username;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tcontext.commit(\"items\", users);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\tasync updateTypeOfUserByUsername(\r\n\t\t\t\t\tcontext,\r\n\t\t\t\t\targ = { username, userType },\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn context.state.processor.acquire(\r\n\t\t\t\t\t\t\"updateTypeOfUserByUsername\",\r\n\t\t\t\t\t\tasync () => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tlet user = await loginStore.dispatch(\"getUser\");\r\n\r\n\t\t\t\t\t\t\t\tif (!user && !user.isTypeAdmin()) throw new Error();\r\n\r\n\t\t\t\t\t\t\t\tlet { username, userType } = arg;\r\n\r\n\t\t\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t\t.url(\"users/user\")\r\n\t\t\t\t\t\t\t\t\t.PUT()\r\n\t\t\t\t\t\t\t\t\t.body({ username, userType })\r\n\t\t\t\t\t\t\t\t\t.send();\r\n\r\n\t\t\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\t\t\tlet userChange = new ItemUser(Stores).fromData(content);\r\n\t\t\t\t\t\t\t\tif (!userChange) throw new Error();\r\n\t\t\t\t\t\t\t\tlet users = context.getters.items.map((user) => {\r\n\t\t\t\t\t\t\t\t\treturn user.username === userChange.username\r\n\t\t\t\t\t\t\t\t\t\t? userChange\r\n\t\t\t\t\t\t\t\t\t\t: user;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tcontext.commit(\"items\", users);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\treturn userChange;\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tcontext.commit(\"items\", []);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\treturn store;\r\n\t},\r\n};\r\n"]}]}