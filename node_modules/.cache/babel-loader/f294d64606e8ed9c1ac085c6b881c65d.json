{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\ServiceCustomer.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\ServiceCustomer.js","mtime":1666936796218},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgUGhvbmVOdW1iZXIgZnJvbSAiLi9QaG9uZU51bWJlci5qcyI7CmltcG9ydCBVIGZyb20gIkAvVS5qcyI7CmltcG9ydCBJdGVtU2VhcmNoZXIgZnJvbSAiLi90b29scy9JdGVtU2VhcmNoZXIuanMiOwp2YXIgdGV4dENvbnRhaW5zID0gSXRlbVNlYXJjaGVyLnRleHRDb250YWluczsKCnZhciBTZXJ2aWNlQ3VzdG9tZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNlcnZpY2VDdXN0b21lcihzdG9yZXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXJ2aWNlQ3VzdG9tZXIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RvcmVzIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJuYW1lIiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicGhvbmVOdW1iZXIiLCBudWxsKTsKCiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlczsKICB9CgogIF9jcmVhdGVDbGFzcyhTZXJ2aWNlQ3VzdG9tZXIsIFt7CiAgICBrZXk6ICJmcm9tRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbURhdGEoZGF0YSkgewogICAgICB0aGlzLm5hbWUgPSBVLm9wdFN0cmluZyhkYXRhLm5hbWUpOwogICAgICB0aGlzLnBob25lTnVtYmVyID0gZGF0YS5waG9uZU51bWJlciA/IG5ldyBQaG9uZU51bWJlcih0aGlzLnN0b3JlcykuZnJvbURhdGEoZGF0YS5waG9uZU51bWJlcikgOiBudWxsOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0RhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvRGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgcGhvbmVOdW1iZXI6IHRoaXMucGhvbmVOdW1iZXIgPyB0aGlzLnBob25lTnVtYmVyLnRvRGF0YSgpIDogIiIKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0NvdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0NvdW50KHN0cnMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBzdHJzLnJlZHVjZShmdW5jdGlvbiAoY291bnQsIHN0cikgewogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucygiY3VzdG9tZXIiLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKF90aGlzLm5hbWUsIHN0cikgPyAxIDogMDsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoX3RoaXMucGhvbmVOdW1iZXIsIHN0cikgPyAxIDogMDsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgIH0sIDApOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBhcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBhcmUoaXRlbSkgewogICAgICByZXR1cm4gdGhpcy5jb21wYXJlTmFtZShpdGVtKSArIHRoaXMuY29tcGFyZVBob25lTnVtYmVyKGl0ZW0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBhcmVOYW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wYXJlTmFtZShpdGVtKSB7CiAgICAgIHZhciBuYW1lMSA9IFUub3B0U3RyaW5nKHRoaXMubmFtZSk7CiAgICAgIHZhciBuYW1lMiA9IFUub3B0U3RyaW5nKGl0ZW0ubmFtZSk7CiAgICAgIHJldHVybiBuYW1lMS5sb2NhbGVDb21wYXJlKG5hbWUyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlUGhvbmVOdW1iZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBhcmVQaG9uZU51bWJlcihpdGVtKSB7CiAgICAgIHZhciBwaG9uZU51bWJlcjEgPSBVLm9wdFN0cmluZyh0aGlzLnBob25lTnVtYmVyKTsKICAgICAgdmFyIHBob25lTnVtYmVyMiA9IFUub3B0U3RyaW5nKGl0ZW0ucGhvbmVOdW1iZXIpOwogICAgICByZXR1cm4gcGhvbmVOdW1iZXIxLmxvY2FsZUNvbXBhcmUocGhvbmVOdW1iZXIyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0VxdWFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VxdWFsKGl0ZW0pIHsKICAgICAgdmFyIGVOYW1lID0gVS5vcHRTdHJpbmcoaXRlbS5uYW1lKTsKICAgICAgdmFyIGVQaG9uZU51bWJlciA9IGl0ZW0ucGhvbmVOdW1iZXI7CiAgICAgIHZhciBlUGhvbmVOdW1iZXJWYWx1ZSA9IGVQaG9uZU51bWJlciA/IGVQaG9uZU51bWJlci52YWx1ZSA6ICIiOwogICAgICB2YXIgbmFtZSA9IFUub3B0U3RyaW5nKHRoaXMubmFtZSk7CiAgICAgIHZhciBwaG9uZU51bWJlciA9IHRoaXMucGhvbmVOdW1iZXI7CiAgICAgIHZhciBwaG9uZU51bWJlclZhbHVlID0gcGhvbmVOdW1iZXIgPyBwaG9uZU51bWJlci52YWx1ZSA6ICIiOwogICAgICByZXR1cm4gZU5hbWUgPT09IG5hbWUgJiYgZVBob25lTnVtYmVyVmFsdWUgPT09IHBob25lTnVtYmVyVmFsdWU7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2VydmljZUN1c3RvbWVyOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBTZXJ2aWNlQ3VzdG9tZXI7"},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/ServiceCustomer.js"],"names":["PhoneNumber","U","ItemSearcher","textContains","ServiceCustomer","stores","data","name","optString","phoneNumber","fromData","toData","strs","reduce","count","str","item","compareName","comparePhoneNumber","name1","name2","localeCompare","phoneNumber1","phoneNumber2","eName","ePhoneNumber","ePhoneNumberValue","value","phoneNumberValue"],"mappings":";;;;;AAAA,OAAOA,WAAP,MAAwB,kBAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,IAAMC,YAAY,GAAGD,YAAY,CAACC,YAAlC;;IAEMC,e;AAEL,2BAAYC,MAAZ,EAAoB;AAAA;;AAAA,oCADX,IACW;;AAAA,kCAIb,EAJa;;AAAA,yCAKN,IALM;;AACnB,SAAKA,MAAL,GAAcA,MAAd;AACA;;;;WAKD,kBAASC,IAAT,EAAe;AACd,WAAKC,IAAL,GAAYN,CAAC,CAACO,SAAF,CAAYF,IAAI,CAACC,IAAjB,CAAZ;AACA,WAAKE,WAAL,GAAmBH,IAAI,CAACG,WAAL,GAChB,IAAIT,WAAJ,CAAgB,KAAKK,MAArB,EAA6BK,QAA7B,CAAsCJ,IAAI,CAACG,WAA3C,CADgB,GAEhB,IAFH;AAGA,aAAO,IAAP;AACA;;;WACD,kBAAS;AACR,aAAO;AACNF,QAAAA,IAAI,EAAE,KAAKA,IADL;AAENE,QAAAA,WAAW,EAAE,KAAKA,WAAL,GAAmB,KAAKA,WAAL,CAAiBE,MAAjB,EAAnB,GAA+C;AAFtD,OAAP;AAIA;;;WACD,iBAAQC,IAAR,EAAc;AAAA;;AACb,aAAOA,IAAI,CAACC,MAAL,CAAY,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAClCD,QAAAA,KAAK,IAAIX,YAAY,CAAC,UAAD,EAAaY,GAAb,CAAZ,GAAgC,CAAhC,GAAoC,CAA7C;AACAD,QAAAA,KAAK,IAAIX,YAAY,CAAC,KAAI,CAACI,IAAN,EAAYQ,GAAZ,CAAZ,GAA+B,CAA/B,GAAmC,CAA5C;AACAD,QAAAA,KAAK,IAAIX,YAAY,CAAC,KAAI,CAACM,WAAN,EAAmBM,GAAnB,CAAZ,GAAsC,CAAtC,GAA0C,CAAnD;AACA,eAAOD,KAAP;AACA,OALM,EAKJ,CALI,CAAP;AAMA;;;WAED,iBAAQE,IAAR,EAAc;AACb,aAAO,KAAKC,WAAL,CAAiBD,IAAjB,IAAyB,KAAKE,kBAAL,CAAwBF,IAAxB,CAAhC;AACA;;;WACD,qBAAYA,IAAZ,EAAkB;AACjB,UAAMG,KAAK,GAAGlB,CAAC,CAACO,SAAF,CAAY,KAAKD,IAAjB,CAAd;AACA,UAAMa,KAAK,GAAGnB,CAAC,CAACO,SAAF,CAAYQ,IAAI,CAACT,IAAjB,CAAd;AACA,aAAOY,KAAK,CAACE,aAAN,CAAoBD,KAApB,CAAP;AACA;;;WACD,4BAAmBJ,IAAnB,EAAyB;AACxB,UAAMM,YAAY,GAAGrB,CAAC,CAACO,SAAF,CAAY,KAAKC,WAAjB,CAArB;AACA,UAAMc,YAAY,GAAGtB,CAAC,CAACO,SAAF,CAAYQ,IAAI,CAACP,WAAjB,CAArB;AACA,aAAOa,YAAY,CAACD,aAAb,CAA2BE,YAA3B,CAAP;AACA;;;WAED,iBAAQP,IAAR,EAAc;AACb,UAAMQ,KAAK,GAAGvB,CAAC,CAACO,SAAF,CAAYQ,IAAI,CAACT,IAAjB,CAAd;AACA,UAAMkB,YAAY,GAAGT,IAAI,CAACP,WAA1B;AACA,UAAMiB,iBAAiB,GAAGD,YAAY,GAAGA,YAAY,CAACE,KAAhB,GAAwB,EAA9D;AAEA,UAAMpB,IAAI,GAAGN,CAAC,CAACO,SAAF,CAAY,KAAKD,IAAjB,CAAb;AACA,UAAME,WAAW,GAAG,KAAKA,WAAzB;AACA,UAAMmB,gBAAgB,GAAGnB,WAAW,GAAGA,WAAW,CAACkB,KAAf,GAAuB,EAA3D;AAEA,aAAOH,KAAK,KAAKjB,IAAV,IAAkBmB,iBAAiB,KAAKE,gBAA/C;AACA;;;;;;AAGF,eAAexB,eAAf","sourcesContent":["import PhoneNumber from \"./PhoneNumber.js\";\r\nimport U from \"@/U.js\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nclass ServiceCustomer {\r\n\tstores = null;\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t}\r\n\r\n\tname = \"\";\r\n\tphoneNumber = null;\r\n\r\n\tfromData(data) {\r\n\t\tthis.name = U.optString(data.name);\r\n\t\tthis.phoneNumber = data.phoneNumber\r\n\t\t\t? new PhoneNumber(this.stores).fromData(data.phoneNumber)\r\n\t\t\t: null;\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\treturn {\r\n\t\t\tname: this.name,\r\n\t\t\tphoneNumber: this.phoneNumber ? this.phoneNumber.toData() : \"\",\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\treturn strs.reduce((count, str) => {\r\n\t\t\tcount += textContains(\"customer\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.name, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.phoneNumber, str) ? 1 : 0;\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\treturn this.compareName(item) + this.comparePhoneNumber(item);\r\n\t}\r\n\tcompareName(item) {\r\n\t\tconst name1 = U.optString(this.name);\r\n\t\tconst name2 = U.optString(item.name);\r\n\t\treturn name1.localeCompare(name2);\r\n\t}\r\n\tcomparePhoneNumber(item) {\r\n\t\tconst phoneNumber1 = U.optString(this.phoneNumber);\r\n\t\tconst phoneNumber2 = U.optString(item.phoneNumber);\r\n\t\treturn phoneNumber1.localeCompare(phoneNumber2);\r\n\t}\r\n\r\n\tisEqual(item) {\r\n\t\tconst eName = U.optString(item.name);\r\n\t\tconst ePhoneNumber = item.phoneNumber;\r\n\t\tconst ePhoneNumberValue = ePhoneNumber ? ePhoneNumber.value : \"\";\r\n\r\n\t\tconst name = U.optString(this.name);\r\n\t\tconst phoneNumber = this.phoneNumber;\r\n\t\tconst phoneNumberValue = phoneNumber ? phoneNumber.value : \"\";\r\n\r\n\t\treturn eName === name && ePhoneNumberValue === phoneNumberValue;\r\n\t}\r\n}\r\n\r\nexport default ServiceCustomer;\r\n"]}]}