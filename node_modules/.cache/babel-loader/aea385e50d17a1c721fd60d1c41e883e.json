{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\stores\\store.login.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\stores\\store.login.js","mtime":1666953105335},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBBcGlIb3N0IGZyb20gIkAvaG9zdC9BcGlIb3N0LmpzIjsKaW1wb3J0IEl0ZW1Vc2VyIGZyb20gIi4uL2l0ZW1zL1VzZXIuanMiOwppbXBvcnQgUHJvY2Vzc29yIGZyb20gIi4vdG9vbHMvUHJvY2Vzc29yLmpzIjsKdmFyIHN0b3JhZ2VUb2tlbktleSA9ICJ1c2VyVG9rZW4iOwoKdmFyIGdldFRva2VuID0gZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlVG9rZW5LZXkpOwp9OwoKdmFyIHNldFRva2VuID0gZnVuY3Rpb24gc2V0VG9rZW4odG9rZW4pIHsKICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VUb2tlbktleSwgdG9rZW4pOwp9OwoKdmFyIGRlbGV0ZVRva2VuID0gZnVuY3Rpb24gZGVsZXRlVG9rZW4oKSB7CiAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlVG9rZW5LZXkpOwp9OwoKdmFyIG9uTmV3Q3JlZGVudGFpbCA9IGZ1bmN0aW9uIG9uTmV3Q3JlZGVudGFpbChjb250ZXh0KSB7CiAgdmFyIGFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogewogICAgdG9rZW46IHRva2VuLAogICAgdXNlcjogdXNlcgogIH07CiAgdmFyIFN0b3JlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdG9rZW4gPSBhcmcudG9rZW4sCiAgICAgICAgdXNlciA9IGFyZy51c2VyOwogICAgdmFyIG5ld1VzZXIgPSBuZXcgSXRlbVVzZXIoU3RvcmVzKS5mcm9tRGF0YSh1c2VyKTsKICAgIHNldFRva2VuKHRva2VuKTsKICAgIGNvbnRleHQuY29tbWl0KCJ1c2VyIiwgbmV3VXNlcik7CiAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICByZXR1cm4gbmV3VXNlcjsKICB9KCk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChTdG9yZXMpIHsKICAgIHZhciBzdG9yZSA9IFN0b3Jlcy5zdG9yZTsKICAgIHZhciBsb2dpblN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogICAgICBzdGF0ZTogewogICAgICAgIGxhc3RNb2RpZmllZDogMCwKICAgICAgICB1c2VyOiBudWxsLAogICAgICAgIGxvYWRlcjogbmV3IFByb2Nlc3NvcigpCiAgICAgIH0sCiAgICAgIG11dGF0aW9uczogewogICAgICAgIGxhc3RNb2RpZmllZDogZnVuY3Rpb24gbGFzdE1vZGlmaWVkKHN0YXRlLCB0aW1lKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUubGFzdE1vZGlmaWVkID0gdGltZTsKICAgICAgICB9LAogICAgICAgIHVzZXI6IGZ1bmN0aW9uIChfdXNlcikgewogICAgICAgICAgZnVuY3Rpb24gdXNlcihfeCwgX3gyKSB7CiAgICAgICAgICAgIHJldHVybiBfdXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHVzZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdXNlci50b1N0cmluZygpOwogICAgICAgICAgfTsKCiAgICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgICB9KGZ1bmN0aW9uIChzdGF0ZSwgdXNlcikgewogICAgICAgICAgcmV0dXJuIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGdldHRlcnM6IHsKICAgICAgICBsYXN0TW9kaWZpZWQ6IGZ1bmN0aW9uIGxhc3RNb2RpZmllZChzdGF0ZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmxhc3RNb2RpZmllZDsKICAgICAgICB9LAogICAgICAgIGlzTG9hZGluZzogZnVuY3Rpb24gaXNMb2FkaW5nKHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUubG9hZGVyLmlzTG9hZGluZygpOwogICAgICAgIH0sCiAgICAgICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICAgICAgfSwKICAgICAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oKSB7CiAgICAgICAgICByZXR1cm4gZ2V0VG9rZW4oKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFjdGlvbnM6IHsKICAgICAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGNvbnRleHQpIHsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLmxvYWRlci5hY3F1aXJlKCJyZWZyZXNoIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCJnZXRVc2VyIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKGNvbnRleHQpIHsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLmxvYWRlci5hY3F1aXJlKCJnZXRVc2VyIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3Rva2VuLCBhcGksIGNvbnRlbnQsIF91c2VyMiwgdXNlck5vdywgaXNVc2VybmFtZVNhbWUsIGlzTmFtZVNhbWUsIGlzVXNlclR5cGVTYW1lOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Rva2VuID0gZ2V0VG9rZW4oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdG9rZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJ1c2VyIiwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVG9rZW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkuUE9TVCgpLnVybCgic2Vzc2lvbi92ZXJpZnlUb2tlbi8iKS5ib2R5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogX3Rva2VuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlbmQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gYXBpLmdldENvbnRlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VzZXIyID0gbmV3IEl0ZW1Vc2VyKCkuZnJvbURhdGEoY29udGVudC51c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5vdyA9IGNvbnRleHQuc3RhdGUudXNlcjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXNlck5vdykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXNlcm5hbWVTYW1lID0gdXNlck5vdy51c2VybmFtZSA9PT0gX3VzZXIyLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05hbWVTYW1lID0gdXNlck5vdy5uYW1lID09PSBfdXNlcjIubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVc2VyVHlwZVNhbWUgPSB1c2VyTm93LnVzZXJUeXBlID09PSBfdXNlcjIudXNlclR5cGU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpc1VzZXJuYW1lU2FtZSAmJiBpc05hbWVTYW1lICYmIGlzVXNlclR5cGVTYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB1c2VyTm93KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2tlbihfdG9rZW4pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIF91c2VyMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF91c2VyMik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQzLnQwLm1lc3NhZ2UgPT09ICJub3Qgc2lnbmVkIGluIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgMjVdXSk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9LAogICAgICAgIGNoYW5nZVBhc3N3b3JkOiBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChjb250ZXh0KSB7CiAgICAgICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgICAgICB2YXIgYXJnOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGFyZyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDoge307CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUubG9hZGVyLmFjcXVpcmUoImNoYW5nZVBhc3N3b3JkIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciwgdXNlcm5hbWUsIHBhc3N3b3JkVmVyaWZ5LCBwYXNzd29yZE5ldywgYXBpLCBjb250ZW50LCB0b2tlbjsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSBjb250ZXh0LmdldHRlcnMudXNlcjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCF1c2VyIHx8ICF1c2VyLnVzZXJuYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZmluZCB1c2VybmFtZSB3aXRoIGN1cnJlbnQgdXNlciIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VyLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFZlcmlmeSA9IGFyZy5wYXNzd29yZFZlcmlmeSwgcGFzc3dvcmROZXcgPSBhcmcucGFzc3dvcmROZXc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLlBPU1QoKS51cmwoInNlc3Npb24vdXNlci8iLmNvbmNhdCh1c2VybmFtZSwgIi9jaGFuZ2VQYXNzd29yZCIpKS5ib2R5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFZlcmlmeTogcGFzc3dvcmRWZXJpZnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmROZXc6IHBhc3N3b3JkTmV3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnNlbmQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gYXBpLmdldENvbnRlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBjb250ZW50LnRva2VuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gY29udGVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9IG9uTmV3Q3JlZGVudGFpbChjb250ZXh0LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgU3RvcmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJlc3RhcnRTb2NrZXQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHVzZXIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgICAgICB2YXIgYXJnOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGFyZyA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMyWzFdIDogewogICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5sb2FkZXIuYWNxdWlyZSgibG9naW4iLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBhcGksIGVycm9yLCBjb250ZW50LCBfdG9rZW4yLCBfdXNlcjMsIG5ld1VzZXI7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVUb2tlbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBcGlIb3N0LnJlcXVlc3QoKS5QT1NUKCkudXJsKCJzZXNzaW9uL2xvZ2luLyIpLmJvZHkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBhcmcudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGFyZy5wYXNzd29yZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBhcGkuZ2V0RXJyb3IoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvciB8fCAhY29udGVudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Rva2VuMiA9IGNvbnRlbnQudG9rZW4sIF91c2VyMyA9IGNvbnRlbnQudXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VXNlciA9IG9uTmV3Q3JlZGVudGFpbChjb250ZXh0LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IF90b2tlbjIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogX3VzZXIzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFN0b3Jlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJyZXN0YXJ0U29ja2V0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBuZXdVc2VyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDdbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJ1c2VyIiwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ3LnQwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzAsIDE1XV0pOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5sb2FkZXIuYWNxdWlyZSgibG9nb3V0IiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3VzZXI0OwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVG9rZW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJlc3RhcnRTb2NrZXQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VzZXI0ID0gY29udGV4dC5nZXR0ZXJzLnVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJ1c2VyIiwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIF91c2VyNCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MCA9IF9jb250ZXh0OVsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVG9rZW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInVzZXIiLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDkudDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMCwgOV1dKTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsb2dpblN0b3JlOwogIH0KfTs="},{"version":3,"sources":["C:/dev/freshnet-vue/src/stores/store.login.js"],"names":["Vuex","ApiHost","ItemUser","Processor","storageTokenKey","getToken","window","localStorage","getItem","setToken","token","setItem","deleteToken","removeItem","onNewCredentail","context","arg","user","Stores","newUser","fromData","commit","Date","now","init","store","loginStore","Store","state","lastModified","loader","mutations","time","getters","isLoading","actions","refresh","acquire","dispatch","getUser","request","POST","url","body","send","api","content","getContent","userNow","isUsernameSame","username","isNameSame","name","isUserTypeSame","userType","message","changePassword","Error","passwordVerify","passwordNew","login","password","error","getError","logout"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\r\nimport ApiHost from \"@/host/ApiHost.js\";\r\nimport ItemUser from \"../items/User.js\";\r\nimport Processor from \"./tools/Processor.js\";\r\n\r\nconst storageTokenKey = \"userToken\";\r\nconst getToken = () => window.localStorage.getItem(storageTokenKey);\r\nconst setToken = (token) => window.localStorage.setItem(storageTokenKey, token);\r\nconst deleteToken = () => window.localStorage.removeItem(storageTokenKey);\r\nconst onNewCredentail = (context, arg = { token, user }, Stores) => {\r\n\tconst { token, user } = arg;\r\n\tconst newUser = new ItemUser(Stores).fromData(user);\r\n\tsetToken(token);\r\n\tcontext.commit(\"user\", newUser);\r\n\tcontext.commit(\"lastModified\", Date.now());\r\n\treturn newUser;\r\n};\r\n\r\nexport default {\r\n\tinit(Stores) {\r\n\t\tconst { store } = Stores;\r\n\r\n\t\tconst loginStore = new Vuex.Store({\r\n\t\t\tstate: { lastModified: 0, user: null, loader: new Processor() },\r\n\t\t\tmutations: {\r\n\t\t\t\tlastModified: (state, time) => (state.lastModified = time),\r\n\t\t\t\tuser: (state, user) => (state.user = user),\r\n\t\t\t},\r\n\t\t\tgetters: {\r\n\t\t\t\tlastModified: (state) => state.lastModified,\r\n\t\t\t\tisLoading: (state) => state.loader.isLoading(),\r\n\t\t\t\tuser: (state) => state.user,\r\n\t\t\t\ttoken: () => getToken(),\r\n\t\t\t},\r\n\t\t\tactions: {\r\n\t\t\t\tasync refresh(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"refresh\", async () => {\r\n\t\t\t\t\t\tawait context.dispatch(\"getUser\");\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tasync getUser(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"getUser\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst token = getToken();\r\n\t\t\t\t\t\t\tif (!token) {\r\n\t\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t\t.url(\"session/verifyToken/\")\r\n\t\t\t\t\t\t\t\t.body({ token })\r\n\t\t\t\t\t\t\t\t.send();\r\n\r\n\t\t\t\t\t\t\tconst content = api.getContent();\r\n\t\t\t\t\t\t\tconst user = new ItemUser().fromData(content.user);\r\n\r\n\t\t\t\t\t\t\tconst userNow = context.state.user;\r\n\t\t\t\t\t\t\tif (userNow) {\r\n\t\t\t\t\t\t\t\tconst isUsernameSame = userNow.username === user.username;\r\n\t\t\t\t\t\t\t\tconst isNameSame = userNow.name === user.name;\r\n\t\t\t\t\t\t\t\tconst isUserTypeSame = userNow.userType === user.userType;\r\n\t\t\t\t\t\t\t\tif (isUsernameSame && isNameSame && isUserTypeSame) {\r\n\t\t\t\t\t\t\t\t\treturn userNow;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tsetToken(token);\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", user);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\r\n\t\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tif (error.message === \"not signed in\") {\r\n\t\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync changePassword(context, arg = {}) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"changePassword\", async () => {\r\n\t\t\t\t\t\tlet { user } = context.getters;\r\n\t\t\t\t\t\tif (!user || !user.username) {\r\n\t\t\t\t\t\t\tthrow new Error(\"cannot find username with current user\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet username = user.username;\r\n\t\t\t\t\t\tlet { passwordVerify, passwordNew } = arg;\r\n\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t.url(`session/user/${username}/changePassword`)\r\n\t\t\t\t\t\t\t.body({ passwordVerify, passwordNew })\r\n\t\t\t\t\t\t\t.send();\r\n\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\tlet { token } = content;\r\n\t\t\t\t\t\tuser = content;\r\n\t\t\t\t\t\tuser = onNewCredentail(context, { token, user }, Stores);\r\n\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tasync login(context, arg = { username, password }) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"login\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t\t.url(\"session/login/\")\r\n\t\t\t\t\t\t\t\t.body({\r\n\t\t\t\t\t\t\t\t\tusername: arg.username,\r\n\t\t\t\t\t\t\t\t\tpassword: arg.password,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.send();\r\n\t\t\t\t\t\t\tlet error = api.getError();\r\n\t\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\t\tif (error || !content) throw new Error();\r\n\t\t\t\t\t\t\tconst { token, user } = content;\r\n\t\t\t\t\t\t\tconst newUser = onNewCredentail(context, { token, user }, Stores);\r\n\t\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\t\t\t\t\t\t\treturn newUser;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync logout(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"logout\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\t\t\t\t\t\t\tlet user = context.getters.user;\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\treturn loginStore;\r\n\t},\r\n};\r\n"]}]}