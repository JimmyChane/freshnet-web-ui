{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-v2\\vue\\src\\items\\Order.js","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\items\\Order.js","mtime":1666877702060},{"path":"C:\\dev\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBNb2R1bGVPcmRlciBmcm9tICJALy4uLy4uL2V4cHJlc3MvZGF0YV9zdHJ1Y3R1cmVzL09yZGVyLmpzIjsKaW1wb3J0IE9yZGVyQ3VzdG9tZXIgZnJvbSAiLi9PcmRlckN1c3RvbWVyLmpzIjsKaW1wb3J0IEl0ZW1TZWFyY2hlciBmcm9tICIuL3Rvb2xzL0l0ZW1TZWFyY2hlci5qcyI7CnZhciB0ZXh0Q29udGFpbnMgPSBJdGVtU2VhcmNoZXIudGV4dENvbnRhaW5zOwoKdmFyIE9yZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBPcmRlcihzdG9yZXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcmRlcik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdG9yZXMiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImlkIiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3VzdG9tZXIiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImNvbnRlbnQiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjcmVhdGVkQXQiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdGF0dXMiLCBPcmRlci5TVEFUVVNfUEVORElORyk7CgogICAgdGhpcy5zdG9yZXMgPSBzdG9yZXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoT3JkZXIsIFt7CiAgICBrZXk6ICJmcm9tRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbURhdGEoZGF0YSkgewogICAgICBkYXRhID0gTW9kdWxlT3JkZXIudHJpbShkYXRhKTsKICAgICAgdGhpcy5pZCA9IGRhdGEuX2lkOyAvLyB0aGlzLmN1c3RvbWVyX25hbWUgPSBkYXRhLmN1c3RvbWVyX25hbWU7CiAgICAgIC8vIHRoaXMucGhvbmVfbnVtYmVyID0gZGF0YS5waG9uZV9udW1iZXI7CgogICAgICB0aGlzLmN1c3RvbWVyID0gbmV3IE9yZGVyQ3VzdG9tZXIodGhpcy5zdG9yZXMpLmZyb21EYXRhKHsKICAgICAgICBuYW1lOiBkYXRhLmN1c3RvbWVyX25hbWUsCiAgICAgICAgcGhvbmVOdW1iZXI6IGRhdGEucGhvbmVfbnVtYmVyCiAgICAgIH0pOwogICAgICB0aGlzLmNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7CiAgICAgIHRoaXMuY3JlYXRlZEF0ID0gZGF0YS5jcmVhdGVkQXQ7CiAgICAgIHRoaXMuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRvRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9EYXRhKCkgewogICAgICB2YXIgY3VzdG9tZXIgPSB0aGlzLmN1c3RvbWVyLnRvRGF0YSgpOwogICAgICByZXR1cm4gewogICAgICAgIF9pZDogdGhpcy5pZCwKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsCiAgICAgICAgY3VzdG9tZXJfbmFtZTogY3VzdG9tZXIubmFtZSwKICAgICAgICBwaG9uZV9udW1iZXI6IGN1c3RvbWVyLnBob25lTnVtYmVyLAogICAgICAgIGNyZWF0ZWRBdDogdGhpcy5jcmVhdGVkQXQsCiAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInRvQ291bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvQ291bnQoc3RycykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvdW50ID0gc3Rycy5yZWR1Y2UoZnVuY3Rpb24gKGNvdW50LCBzdHIpIHsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoIm9yZGVyIiwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucyhfdGhpcy5jb250ZW50LCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKF90aGlzLmN1c3RvbWVyX25hbWUsIHN0cikgPyAxIDogMDsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoX3RoaXMucGhvbmVfbnVtYmVyLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKF90aGlzLnN0YXR1cywgc3RyKSA/IDEgOiAwOwogICAgICAgIHJldHVybiBjb3VudDsKICAgICAgfSwgMCk7CiAgICAgIGNvdW50ICs9IHRoaXMuY3VzdG9tZXIudG9Db3VudChzdHJzKTsKICAgICAgcmV0dXJuIGNvdW50OwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBhcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBhcmUoaXRlbSkgewogICAgICByZXR1cm4gMDsKICAgIH0KICB9XSk7CgogIHJldHVybiBPcmRlcjsKfSgpOwoKX2RlZmluZVByb3BlcnR5KE9yZGVyLCAiU1RBVFVTX1BFTkRJTkciLCBNb2R1bGVPcmRlci5TdGF0dXMuUGVuZGluZyk7CgpfZGVmaW5lUHJvcGVydHkoT3JkZXIsICJTVEFUVVNfQ09NUExFVEVEIiwgTW9kdWxlT3JkZXIuU3RhdHVzLkNvbXBsZXRlZCk7CgpleHBvcnQgZGVmYXVsdCBPcmRlcjs="},{"version":3,"sources":["C:/dev/freshnet-v2/vue/src/items/Order.js"],"names":["ModuleOrder","OrderCustomer","ItemSearcher","textContains","Order","stores","STATUS_PENDING","data","trim","id","_id","customer","fromData","name","customer_name","phoneNumber","phone_number","content","createdAt","status","toData","strs","count","reduce","str","toCount","item","Status","Pending","Completed"],"mappings":";;;;;;AAAA,OAAOA,WAAP,MAAwB,0CAAxB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,IAAMC,YAAY,GAAGD,YAAY,CAACC,YAAlC;;IAEMC,K;AAML,iBAAYC,MAAZ,EAAoB;AAAA;;AAAA,oCAFX,IAEW;;AAAA,gCAIf,EAJe;;AAAA,sCAOT,IAPS;;AAAA,qCAQV,EARU;;AAAA,uCASR,EATQ;;AAAA,oCAUXD,KAAK,CAACE,cAVK;;AACnB,SAAKD,MAAL,GAAcA,MAAd;AACA;;;;WAUD,kBAASE,IAAT,EAAe;AACdA,MAAAA,IAAI,GAAGP,WAAW,CAACQ,IAAZ,CAAiBD,IAAjB,CAAP;AAEA,WAAKE,EAAL,GAAUF,IAAI,CAACG,GAAf,CAHc,CAId;AACA;;AACA,WAAKC,QAAL,GAAgB,IAAIV,aAAJ,CAAkB,KAAKI,MAAvB,EAA+BO,QAA/B,CAAwC;AACvDC,QAAAA,IAAI,EAAEN,IAAI,CAACO,aAD4C;AAEvDC,QAAAA,WAAW,EAAER,IAAI,CAACS;AAFqC,OAAxC,CAAhB;AAIA,WAAKC,OAAL,GAAeV,IAAI,CAACU,OAApB;AACA,WAAKC,SAAL,GAAiBX,IAAI,CAACW,SAAtB;AACA,WAAKC,MAAL,GAAcZ,IAAI,CAACY,MAAnB;AAEA,aAAO,IAAP;AACA;;;WACD,kBAAS;AACR,UAAMR,QAAQ,GAAG,KAAKA,QAAL,CAAcS,MAAd,EAAjB;AACA,aAAO;AACNV,QAAAA,GAAG,EAAE,KAAKD,EADJ;AAENQ,QAAAA,OAAO,EAAE,KAAKA,OAFR;AAGNH,QAAAA,aAAa,EAAEH,QAAQ,CAACE,IAHlB;AAING,QAAAA,YAAY,EAAEL,QAAQ,CAACI,WAJjB;AAKNG,QAAAA,SAAS,EAAE,KAAKA,SALV;AAMNC,QAAAA,MAAM,EAAE,KAAKA;AANP,OAAP;AAQA;;;WACD,iBAAQE,IAAR,EAAc;AAAA;;AACb,UAAIC,KAAK,GAAGD,IAAI,CAACE,MAAL,CAAY,UAACD,KAAD,EAAQE,GAAR,EAAgB;AACvCF,QAAAA,KAAK,IAAInB,YAAY,CAAC,OAAD,EAAUqB,GAAV,CAAZ,GAA6B,CAA7B,GAAiC,CAA1C;AACAF,QAAAA,KAAK,IAAInB,YAAY,CAAC,KAAI,CAACc,OAAN,EAAeO,GAAf,CAAZ,GAAkC,CAAlC,GAAsC,CAA/C;AACAF,QAAAA,KAAK,IAAInB,YAAY,CAAC,KAAI,CAACW,aAAN,EAAqBU,GAArB,CAAZ,GAAwC,CAAxC,GAA4C,CAArD;AACAF,QAAAA,KAAK,IAAInB,YAAY,CAAC,KAAI,CAACa,YAAN,EAAoBQ,GAApB,CAAZ,GAAuC,CAAvC,GAA2C,CAApD;AACAF,QAAAA,KAAK,IAAInB,YAAY,CAAC,KAAI,CAACgB,MAAN,EAAcK,GAAd,CAAZ,GAAiC,CAAjC,GAAqC,CAA9C;AACA,eAAOF,KAAP;AACA,OAPW,EAOT,CAPS,CAAZ;AAQAA,MAAAA,KAAK,IAAI,KAAKX,QAAL,CAAcc,OAAd,CAAsBJ,IAAtB,CAAT;AAEA,aAAOC,KAAP;AACA;;;WAED,iBAAQI,IAAR,EAAc;AACb,aAAO,CAAP;AACA;;;;;;gBA7DItB,K,oBACmBJ,WAAW,CAAC2B,MAAZ,CAAmBC,O;;gBADtCxB,K,sBAEqBJ,WAAW,CAAC2B,MAAZ,CAAmBE,S;;AA8D9C,eAAezB,KAAf","sourcesContent":["import ModuleOrder from \"@/../../express/data_structures/Order.js\";\r\nimport OrderCustomer from \"./OrderCustomer.js\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nclass Order {\r\n\tstatic STATUS_PENDING = ModuleOrder.Status.Pending;\r\n\tstatic STATUS_COMPLETED = ModuleOrder.Status.Completed;\r\n\r\n\tstores = null;\r\n\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t}\r\n\r\n\tid = \"\";\r\n\t// customer_name = \"\";\r\n\t// phone_number = \"\";\r\n\tcustomer = null;\r\n\tcontent = \"\";\r\n\tcreatedAt = \"\";\r\n\tstatus = Order.STATUS_PENDING;\r\n\r\n\tfromData(data) {\r\n\t\tdata = ModuleOrder.trim(data);\r\n\r\n\t\tthis.id = data._id;\r\n\t\t// this.customer_name = data.customer_name;\r\n\t\t// this.phone_number = data.phone_number;\r\n\t\tthis.customer = new OrderCustomer(this.stores).fromData({\r\n\t\t\tname: data.customer_name,\r\n\t\t\tphoneNumber: data.phone_number,\r\n\t\t});\r\n\t\tthis.content = data.content;\r\n\t\tthis.createdAt = data.createdAt;\r\n\t\tthis.status = data.status;\r\n\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\tconst customer = this.customer.toData();\r\n\t\treturn {\r\n\t\t\t_id: this.id,\r\n\t\t\tcontent: this.content,\r\n\t\t\tcustomer_name: customer.name,\r\n\t\t\tphone_number: customer.phoneNumber,\r\n\t\t\tcreatedAt: this.createdAt,\r\n\t\t\tstatus: this.status,\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\tlet count = strs.reduce((count, str) => {\r\n\t\t\tcount += textContains(\"order\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.content, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.customer_name, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.phone_number, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.status, str) ? 1 : 0;\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\t\tcount += this.customer.toCount(strs);\r\n\r\n\t\treturn count;\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nexport default Order;\r\n"]}]}