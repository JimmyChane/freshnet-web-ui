{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductBrowseProducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\product\\LayoutProductBrowseProducts.vue","mtime":1662984377079},{"path":"C:\\development\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgVXNlciBmcm9tICJALy4uLy4uL2V4cHJlc3MvZGF0YV9zdHJ1Y3R1cmVzL1VzZXIuanMiOwppbXBvcnQgUHJvZHVjdEZpbHRlciBmcm9tICJAL3V0aWxzL1Byb2R1Y3RGaWx0ZXIuanMiOwppbXBvcnQgQnV0dG9uQWRkUHJvZHVjdCBmcm9tICJAL3BhZ2VzL3Byb2R1Y3QvTGF5b3V0UHJvZHVjdEdyb3VwL0J1dHRvbkFkZFByb2R1Y3QudnVlIjsKaW1wb3J0IEl0ZW1Qcm9kdWN0IGZyb20gIi4vSXRlbVByb2R1Y3QudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJ1dHRvbkFkZFByb2R1Y3Q6IEJ1dHRvbkFkZFByb2R1Y3QsCiAgICBJdGVtUHJvZHVjdDogSXRlbVByb2R1Y3QKICB9LAogIGVtaXRzOiBbImNsaWNrLXByb2R1Y3RBZGQiXSwKICBwcm9wczogewogICAgY2F0ZWdvcnk6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgcHJvZHVjdHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoYykgewogICAgICByZXR1cm4gYy5sb2dpblN0b3JlLmdldHRlcnMudXNlcjsKICAgIH0sCiAgICB1c2VyVHlwZTogZnVuY3Rpb24gdXNlclR5cGUoYykgewogICAgICByZXR1cm4gYy51c2VyID8gYy51c2VyLnR5cGUgOiBVc2VyLlR5cGUuTm9uZTsKICAgIH0sCiAgICBpc1VzZXJBZG1pbjogZnVuY3Rpb24gaXNVc2VyQWRtaW4oYykgewogICAgICByZXR1cm4gYy51c2VyVHlwZSA9PT0gVXNlci5UeXBlLkFkbWluOwogICAgfSwKICAgIGlzVXNlclN0YWZmOiBmdW5jdGlvbiBpc1VzZXJTdGFmZihjKSB7CiAgICAgIHJldHVybiBjLnVzZXJUeXBlID09PSBVc2VyLlR5cGUuU3RhZmY7CiAgICB9LAogICAgaXNFZGl0YWJsZTogZnVuY3Rpb24gaXNFZGl0YWJsZShjKSB7CiAgICAgIHJldHVybiBjLmlzVXNlckFkbWluIHx8IGMuaXNVc2VyU3RhZmY7CiAgICB9LAogICAgcHJvZHVjdElkOiBmdW5jdGlvbiBwcm9kdWN0SWQoYykgewogICAgICByZXR1cm4gYy4kcm91dGUucXVlcnkucHJvZHVjdElkOwogICAgfSwKICAgIGZpbHRlcktleTogZnVuY3Rpb24gZmlsdGVyS2V5KGMpIHsKICAgICAgcmV0dXJuIGMuJHJvdXRlLnF1ZXJ5LmZpbHRlcjsKICAgIH0sCiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihjKSB7CiAgICAgIHJldHVybiBQcm9kdWN0RmlsdGVyLmdldEZpbHRlckJ5S2V5KGMuZmlsdGVyS2V5KTsKICAgIH0sCiAgICBncm91cHM6IGZ1bmN0aW9uIGdyb3VwcyhjKSB7CiAgICAgIGlmIChjLmZpbHRlcktleSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgYy4kcm9vdC5yZXBsYWNlUm91dGUoewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgZmlsdGVyOiBQcm9kdWN0RmlsdGVyLktleS5CcmFuZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcHJvZHVjdHMgPSBjLnByb2R1Y3RzOwoKICAgICAgaWYgKCFjLmlzRWRpdGFibGUpIHsKICAgICAgICBwcm9kdWN0cyA9IGMucHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICByZXR1cm4gcHJvZHVjdC5pc1N0b2NrQXZhaWxhYmxlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICghYy5maWx0ZXIpIHsKICAgICAgICB2YXIgX3Byb2R1Y3RzID0gcHJvZHVjdHMsCiAgICAgICAgICAgIGxlbmd0aCA9IF9wcm9kdWN0cy5sZW5ndGg7CiAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICB0aXRsZTogIiIuY29uY2F0KGxlbmd0aCwgIiAiKS5jb25jYXQobGVuZ3RoID4gMSA/ICJJdGVtcyIgOiAiSXRlbSIsICIgQXZhaWxhYmxlIiksCiAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMKICAgICAgICB9XTsKICAgICAgfQoKICAgICAgdmFyIGdyb3VwcyA9IGMuZmlsdGVyLnRvR3JvdXBzKHByb2R1Y3RzKS5tYXAoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgZ3JvdXAucHJvZHVjdHMgPSBncm91cC5pdGVtczsKICAgICAgICByZXR1cm4gZ3JvdXA7CiAgICAgIH0pOwoKICAgICAgaWYgKCFjLmlzRWRpdGFibGUpIHsKICAgICAgICBncm91cHMgPSBncm91cHMuZmlsdGVyKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgcmV0dXJuIGdyb3VwLnByb2R1Y3RzLmxlbmd0aCA+IDA7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBncm91cHMuc29ydChjLmZpbHRlci5hcnJhbmdlR3JvdXBzKTsKICAgIH0sCiAgICBpc092ZXI2MDBweDogZnVuY3Rpb24gaXNPdmVyNjAwcHgoYykgewogICAgICByZXR1cm4gYy4kcm9vdC53aW5kb3cuaW5uZXJXaWR0aCA+IDYwMDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["LayoutProductBrowseProducts.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\n   import User from \"@/../../express/data_structures/User.js\";\r\n   import ProductFilter from \"@/utils/ProductFilter.js\";\r\n\r\n   import ButtonAddProduct from \"@/pages/product/LayoutProductGroup/ButtonAddProduct.vue\";\r\n   import ItemProduct from \"./ItemProduct.vue\";\r\n\r\n   export default {\r\n      components: { ButtonAddProduct, ItemProduct },\r\n      emits: [\"click-productAdd\"],\r\n      props: {\r\n         category: { type: Object, default: null },\r\n         products: { type: Array, default: () => [] },\r\n      },\r\n      computed: {\r\n         user: (c) => c.loginStore.getters.user,\r\n         userType: (c) => (c.user ? c.user.type : User.Type.None),\r\n         isUserAdmin: (c) => c.userType === User.Type.Admin,\r\n         isUserStaff: (c) => c.userType === User.Type.Staff,\r\n         isEditable: (c) => c.isUserAdmin || c.isUserStaff,\r\n\r\n         productId: (c) => c.$route.query.productId,\r\n         filterKey: (c) => c.$route.query.filter,\r\n         filter: (c) => ProductFilter.getFilterByKey(c.filterKey),\r\n         groups: (c) => {\r\n            if (c.filterKey === undefined) {\r\n               c.$root.replaceRoute({ query: { filter: ProductFilter.Key.Brand } });\r\n            }\r\n\r\n            let products = c.products;\r\n\r\n            if (!c.isEditable) {\r\n               products = c.products.filter((product) => {\r\n                  return product.isStockAvailable();\r\n               });\r\n            }\r\n\r\n            if (!c.filter) {\r\n               let { length } = products;\r\n               return [\r\n                  {\r\n                     title: `${length} ${length > 1 ? \"Items\" : \"Item\"} Available`,\r\n                     products,\r\n                  },\r\n               ];\r\n            }\r\n\r\n            let groups = c.filter.toGroups(products).map((group) => {\r\n               group.products = group.items;\r\n               return group;\r\n            });\r\n\r\n            if (!c.isEditable) {\r\n               groups = groups.filter((group) => group.products.length > 0);\r\n            }\r\n\r\n            return groups.sort(c.filter.arrangeGroups);\r\n         },\r\n\r\n         isOver600px: (c) => c.$root.window.innerWidth > 600,\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageProductBrowse\">\r\n      <div class=\"PageProductBrowse-header\" v-if=\"isEditable\">\r\n         <ButtonAddProduct\r\n            class=\"LayoutProductBrowseProducts-button-add\"\r\n            @click=\"$emit('click-productAdd', category)\"\r\n         />\r\n      </div>\r\n      <div class=\"LayoutProductBrowseProducts\">\r\n         <div class=\"LayoutProductBrowseProducts-groups\">\r\n            <div\r\n               class=\"LayoutProductBrowseProducts-group\"\r\n               v-for=\"group in groups\"\r\n               :key=\"group.key ? group.key : group.title\"\r\n            >\r\n               <div\r\n                  :class=\"[\r\n                     'LayoutProductBrowseProducts-group-body',\r\n                     `LayoutProductBrowseProducts-group-body-${\r\n                        isOver600px ? 'isWide' : 'isThin'\r\n                     }`,\r\n                  ]\"\r\n               >\r\n                  <div class=\"LayoutProductBrowseProducts-group-header\">\r\n                     <img\r\n                        class=\"LayoutProductBrowseProducts-group-icon\"\r\n                        v-if=\"group && group.icon\"\r\n                        :src=\"group.icon\"\r\n                     />\r\n                     <span\r\n                        class=\"LayoutProductBrowseProducts-group-title\"\r\n                        v-if=\"group.title\"\r\n                     >\r\n                        {{ group.title }}\r\n                     </span>\r\n                  </div>\r\n\r\n                  <div\r\n                     class=\"LayoutProductBrowseProducts-group-item-link-body\"\r\n                     v-for=\"product in group.products\"\r\n                     :key=\"product._id\"\r\n                  >\r\n                     <router-link\r\n                        class=\"LayoutProductBrowseProducts-group-item-link\"\r\n                        :to=\"{ query: { productId: product.getId() } }\"\r\n                     >\r\n                        <ItemProduct\r\n                           :item=\"product\"\r\n                           :isSelected=\"productId === product._id\"\r\n                           :isScreenWide=\"isOver600px\"\r\n                        />\r\n                     </router-link>\r\n                  </div>\r\n               </div>\r\n\r\n               <div class=\"LayoutProductBrowseProducts-group-separator\"></div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageProductBrowse-header {\r\n      display: flex;\r\n      flex-direction: column;\r\n      padding: 1em;\r\n      .LayoutProductBrowseProducts-button-add {\r\n         border-radius: 0.5em;\r\n      }\r\n   }\r\n   .LayoutProductBrowseProducts {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n\r\n      .LayoutProductBrowseProducts-groups {\r\n         z-index: 1;\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: column;\r\n         flex-wrap: nowrap;\r\n\r\n         .LayoutProductBrowseProducts-group {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n\r\n            .LayoutProductBrowseProducts-group-separator {\r\n               width: 100%;\r\n               min-height: 2px;\r\n               background: hsla(0, 0%, 0%, 0.1);\r\n               margin-top: 2rem;\r\n               margin-bottom: 3rem;\r\n            }\r\n\r\n            .LayoutProductBrowseProducts-group-body {\r\n               --item-width: 18rem;\r\n\r\n               width: 100%;\r\n\r\n               .LayoutProductBrowseProducts-group-header {\r\n                  width: 100%;\r\n                  padding: 2rem 1.5rem;\r\n                  margin-bottom: 1rem;\r\n\r\n                  display: flex;\r\n                  flex-direction: row;\r\n                  flex-wrap: wrap;\r\n                  align-items: center;\r\n                  grid-column: 1 / -1;\r\n\r\n                  gap: 20px;\r\n                  font-weight: 900;\r\n                  font-size: 1.3rem;\r\n                  z-index: 2;\r\n                  position: sticky;\r\n                  top: 4rem;\r\n                  background: var(--background-color);\r\n                  .LayoutProductBrowseProducts-group-icon {\r\n                     height: 1.6rem;\r\n                     object-fit: contain;\r\n                  }\r\n                  .LayoutProductBrowseProducts-group-title {\r\n                     font-size: 1.6rem;\r\n                     letter-spacing: 0.1rem;\r\n                     color: hsl(0, 0%, 20%);\r\n                  }\r\n               }\r\n\r\n               .LayoutProductBrowseProducts-group-item-link-body {\r\n                  z-index: 1;\r\n                  padding: 0.5rem;\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  flex-wrap: nowrap;\r\n                  justify-content: flex-start;\r\n                  text-decoration: none;\r\n                  .LayoutProductBrowseProducts-group-item-link {\r\n                     width: 100%;\r\n                     height: 100%;\r\n                     display: flex;\r\n                     flex-direction: column;\r\n                     flex-wrap: nowrap;\r\n                     justify-content: flex-start;\r\n                     text-decoration: none;\r\n                  }\r\n               }\r\n\r\n               & > * {\r\n                  flex-grow: 1;\r\n                  flex-basis: var(--item-width);\r\n                  height: 100%;\r\n               }\r\n            }\r\n            .LayoutProductBrowseProducts-group-body-isWide {\r\n               padding: 0.8rem;\r\n               display: grid;\r\n               flex-direction: column;\r\n               grid-template-columns: repeat(auto-fit, minmax(var(--item-width), 1fr));\r\n               justify-content: center;\r\n            }\r\n            .LayoutProductBrowseProducts-group-body-isThin {\r\n               padding: 0.6rem;\r\n               --item-width: none;\r\n               display: flex;\r\n               flex-direction: column;\r\n               align-items: center;\r\n               .LayoutProductBrowseProducts-group-header {\r\n                  height: fit-content;\r\n               }\r\n               & > * {\r\n                  width: 100%;\r\n                  height: fit-content;\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"],"sourceRoot":"src/pages/product"}]}