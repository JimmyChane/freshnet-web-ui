{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\development\\freshnet-v2\\vue\\src\\stores\\store.database.js","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\stores\\store.database.js","mtime":1663504444444},{"path":"C:\\development\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcZGV2ZWxvcG1lbnRcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6XFxkZXZlbG9wbWVudFxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcZGV2ZWxvcG1lbnRcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgQXBpSG9zdCBmcm9tICJAL2hvc3QvQXBpSG9zdC5qcyI7CmltcG9ydCBEYXRhTG9hZGVyIGZyb20gIi4vY29tcG9uZW50cy9EYXRhTG9hZGVyIjsKaW1wb3J0IFByb2Nlc3NvciBmcm9tICIuL2NvbXBvbmVudHMvUHJvY2Vzc29yLmpzIjsKCnZhciB1cmxDb2xsZWN0aW9ucyA9IGZ1bmN0aW9uIHVybENvbGxlY3Rpb25zKGRhdGFiYXNlKSB7CiAgcmV0dXJuICJkYXRhYmFzZS9kYXRhYmFzZS8iLmNvbmNhdChkYXRhYmFzZSwgIi9jb2xsZWN0aW9ucyIpOwp9OwoKdmFyIHVybERvY3VtZW50cyA9IGZ1bmN0aW9uIHVybERvY3VtZW50cyhkYXRhYmFzZSwgY29sbGVjdGlvbikgewogIHJldHVybiAiZGF0YWJhc2UvZGF0YWJhc2UvIi5jb25jYXQoZGF0YWJhc2UsICIvY29sbGVjdGlvbi8iKS5jb25jYXQoY29sbGVjdGlvbiwgIi9kb2N1bWVudHMiKTsKfTsKCnZhciB1cmxJbXBvcnRzID0gZnVuY3Rpb24gdXJsSW1wb3J0cygpIHsKICByZXR1cm4gImRhdGFiYXNlL2ltcG9ydHMiOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoU3RvcmVzKSB7CiAgICB2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgICAgIHN0YXRlOiB7CiAgICAgICAgZGF0YUxvYWRlcjogbmV3IERhdGFMb2FkZXIoewogICAgICAgICAgdGltZW91dDogMTAwMCAqIDUKICAgICAgICB9KSAvLyA1c2VjCiAgICAgICAgLnByb2Nlc3NvcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUucHJvY2Vzc29yOwogICAgICAgIH0pLmxvYWREYXRhKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIGFwaSwgYmFzZUluZm87CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkuUE9TVCgpLnVybCgiZGF0YWJhc2UvaW5mbyIpLnNlbmQoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIGJhc2VJbmZvID0gYXBpLmdldENvbnRlbnQoKTsKICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWREYXRhYmFzZXMiKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYmFzZUluZm8pOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSkpLnNldERhdGEoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBzdG9yZS5jb21taXQoImJhc2VJbmZvIiwgZGF0YSA/IGRhdGEgOiBudWxsKTsKICAgICAgICB9KS5nZXREYXRhKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzLmJhc2VJbmZvOwogICAgICAgIH0pLAogICAgICAgIGJhc2VJbmZvOiBudWxsLAogICAgICAgIGl0ZW1zOiBbXSwKICAgICAgICBwcm9jZXNzb3I6IG5ldyBQcm9jZXNzb3IoKQogICAgICB9LAogICAgICBtdXRhdGlvbnM6IHsKICAgICAgICBiYXNlSW5mbzogZnVuY3Rpb24gYmFzZUluZm8oc3RhdGUsIF9iYXNlSW5mbykgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmJhc2VJbmZvID0gX2Jhc2VJbmZvOwogICAgICAgIH0sCiAgICAgICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKHN0YXRlLCBfaXRlbXMpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS5pdGVtcyA9IF9pdGVtczsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdldHRlcnM6IHsKICAgICAgICBpc0xvYWRpbmc6IGZ1bmN0aW9uIGlzTG9hZGluZyhzdGF0ZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLnByb2Nlc3Nvci5pc0xvYWRpbmcoKTsKICAgICAgICB9LAogICAgICAgIGJhc2VJbmZvOiBmdW5jdGlvbiBiYXNlSW5mbyhzdGF0ZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmJhc2VJbmZvOwogICAgICAgIH0sCiAgICAgICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUuaXRlbXM7CiAgICAgICAgfQogICAgICB9LAogICAgICBhY3Rpb25zOiB7CiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgicmVmcmVzaCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdGF0ZS5kYXRhTG9hZGVyLmRvVGltZW91dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCJsb2FkQmFzZUluZm8iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgbG9hZEJhc2VJbmZvOiBmdW5jdGlvbiBsb2FkQmFzZUluZm8oY29udGV4dCkgewogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUucHJvY2Vzc29yLmFjcXVpcmUoImxvYWRCYXNlSW5mbyIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUuZGF0YUxvYWRlci5kYXRhKCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBsb2FkRGF0YWJhc2VzOiBmdW5jdGlvbiBsb2FkRGF0YWJhc2VzKGNvbnRleHQpIHsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLnByb2Nlc3Nvci5hY3F1aXJlKCJsb2FkRGF0YWJhc2VzIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBpLCBjb250ZW50LCBpdGVtcywgX2l0ZXJhdG9yLCBfc3RlcCwgZGF0YWJhc2U7CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgiaXRlbXMiLCBbXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLlBPU1QoKS51cmwoImRhdGFiYXNlL2RhdGFiYXNlcyIpLnNlbmQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gYXBpLmdldENvbnRlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBjb250ZW50Lm1hcChmdW5jdGlvbiAoZGF0YWJhc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YWJhc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uczogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoIml0ZW1zIiwgaXRlbXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpdGVtcyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgibG9hZENvbGxlY3Rpb25zIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UubmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LmdldHRlcnMuaXRlbXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoIml0ZW1zIiwgW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDYudDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMCwgMTNdXSk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9LAogICAgICAgIGxvYWRDb2xsZWN0aW9uczogZnVuY3Rpb24gbG9hZENvbGxlY3Rpb25zKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgICAgIHZhciBhcmc7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgYXJnID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgibG9hZENvbGxlY3Rpb25zIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RiRm91bmQkY29sbGVjdGlvbnM7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFiYXNlLCBhcGksIGNvbnRlbnQsIGNvbGxlY3Rpb25zLCBkYkZvdW5kLCBfaXRlcmF0b3IyLCBfc3RlcDIsIGNvbGxlY3Rpb247CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UgPSBhcmcuZGF0YWJhc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLlBPU1QoKS51cmwodXJsQ29sbGVjdGlvbnMoZGF0YWJhc2UpKS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25zID0gY29udGVudC5tYXAoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29sbGVjdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50czogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXNwYXRjaCgiZmluZERhdGFiYXNlIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBkYXRhYmFzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiRm91bmQgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChkYkZvdW5kLmNvbGxlY3Rpb25zLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiRm91bmQuY29sbGVjdGlvbnMuc3BsaWNlKDAsIGRiRm91bmQuY29sbGVjdGlvbnMubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9kYkZvdW5kJGNvbGxlY3Rpb25zID0gZGJGb3VuZC5jb2xsZWN0aW9ucykucHVzaC5hcHBseShfZGJGb3VuZCRjb2xsZWN0aW9ucywgX3RvQ29uc3VtYWJsZUFycmF5KGNvbGxlY3Rpb25zKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGJGb3VuZC5jb2xsZWN0aW9ucyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgibG9hZERvY3VtZW50cyIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2U6IGRiRm91bmQubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbi5uYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgZGJGb3VuZC5jb2xsZWN0aW9ucyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBsb2FkRG9jdW1lbnRzOiBmdW5jdGlvbiBsb2FkRG9jdW1lbnRzKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgYXJnID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMV0gOiB7fTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUucHJvY2Vzc29yLmFjcXVpcmUoImxvYWREb2N1bWVudHMiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbGxlY3Rpb25Gb3VuZCRkb2N1OwoKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhYmFzZSwgY29sbGVjdGlvbiwgYXBpLCBkb2N1bWVudHMsIGNvbGxlY3Rpb25Gb3VuZDsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZSA9IGFyZy5kYXRhYmFzZSwgY29sbGVjdGlvbiA9IGFyZy5jb2xsZWN0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkuUE9TVCgpLnVybCh1cmxEb2N1bWVudHMoZGF0YWJhc2UsIGNvbGxlY3Rpb24pKS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50cyA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCJmaW5kQ29sbGVjdGlvbiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Gb3VuZCA9IF9jb250ZXh0MTAuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb2xsZWN0aW9uRm91bmQuZG9jdW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Gb3VuZC5kb2N1bWVudHMuc3BsaWNlKDAsIGNvbGxlY3Rpb25Gb3VuZC5kb2N1bWVudHMubGVuZ3RoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jb2xsZWN0aW9uRm91bmQkZG9jdSA9IGNvbGxlY3Rpb25Gb3VuZC5kb2N1bWVudHMpLnB1c2guYXBwbHkoX2NvbGxlY3Rpb25Gb3VuZCRkb2N1LCBfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnRzKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIGNvbGxlY3Rpb25Gb3VuZC5kb2N1bWVudHMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9LAogICAgICAgIGltcG9ydHM6IGZ1bmN0aW9uIGltcG9ydHMoY29udGV4dCkgewogICAgICAgICAgdmFyIF9hcmd1bWVudHMzID0gYXJndW1lbnRzOwogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgICAgICB2YXIgYXJnOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzMy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzM1sxXSA6IHt9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgiaW1wb3J0cyIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uLCBhcGk7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbiA9IGFyZy5qc29uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkuUE9TVCgpLnVybCh1cmxJbXBvcnRzKCkpLmJvZHkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGpzb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuc2VuZCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcGkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9LAogICAgICAgIGV4cG9ydERhdGFiYXNlOiBmdW5jdGlvbiBleHBvcnREYXRhYmFzZShjb250ZXh0KSB7CiAgICAgICAgICB2YXIgX2FyZ3VtZW50czQgPSBhcmd1bWVudHM7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgICAgIHZhciBhcmc7CiAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGFyZyA9IF9hcmd1bWVudHM0Lmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHM0WzFdIDoge307CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLnByb2Nlc3Nvci5hY3F1aXJlKCJleHBvcnREYXRhYmFzZSIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhYmFzZSwgYXBpLCBjb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlID0gYXJnLmRhdGFiYXNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkudXJsKCJkYXRhYmFzZS9kYXRhYmFzZS8iLmNvbmNhdChkYXRhYmFzZSwgIi9leHBvcnR2MiIpKS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBhcGkuZ2V0Q29udGVudCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIGNvbnRlbnQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgZmluZERhdGFiYXNlOiBmdW5jdGlvbiBmaW5kRGF0YWJhc2UoY29udGV4dCkgewogICAgICAgICAgdmFyIF9hcmd1bWVudHM1ID0gYXJndW1lbnRzOwogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgICAgICB2YXIgYXJnOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzNS5sZW5ndGggPiAxICYmIF9hcmd1bWVudHM1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzNVsxXSA6IHt9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5wcm9jZXNzb3IuYWNxdWlyZSgiZmluZERhdGFiYXNlIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFiYXNlLCBkYkZvdW5kOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlID0gYXJnLmRhdGFiYXNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYkZvdW5kID0gY29udGV4dC5zdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChkYikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5uYW1lID09PSBkYXRhYmFzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGJGb3VuZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiZGF0YWJhc2Ugbm90IGZvdW5kIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIGRiRm91bmQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgZmluZENvbGxlY3Rpb246IGZ1bmN0aW9uIGZpbmRDb2xsZWN0aW9uKGNvbnRleHQpIHsKICAgICAgICAgIHZhciBfYXJndW1lbnRzNiA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgYXJnID0gX2FyZ3VtZW50czYubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzNlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czZbMV0gOiB7fTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUucHJvY2Vzc29yLmFjcXVpcmUoImZpbmRDb2xsZWN0aW9uIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFiYXNlLCBjb2xsZWN0aW9uLCBkYkZvdW5kLCBjb2xsZWN0aW9uRm91bmQ7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2UgPSBhcmcuZGF0YWJhc2UsIGNvbGxlY3Rpb24gPSBhcmcuY29sbGVjdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goImZpbmREYXRhYmFzZSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZTogZGF0YWJhc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYkZvdW5kID0gX2NvbnRleHQxOC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRm91bmQgPSBkYkZvdW5kLmNvbGxlY3Rpb25zLmZpbmQoZnVuY3Rpb24gKGRiQ29sbGVjdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYkNvbGxlY3Rpb24ubmFtZSA9PT0gY29sbGVjdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbkZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJjb2xsZWN0aW9uIG5vdCBmb3VuZCIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguYWJydXB0KCJyZXR1cm4iLCBjb2xsZWN0aW9uRm91bmQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gc3RvcmU7CiAgfQp9Ow=="},{"version":3,"sources":["C:/development/freshnet-v2/vue/src/stores/store.database.js"],"names":["Vuex","ApiHost","DataLoader","Processor","urlCollections","database","urlDocuments","collection","urlImports","init","Stores","store","Store","state","dataLoader","timeout","processor","loadData","request","POST","url","send","api","baseInfo","getContent","dispatch","setData","data","commit","getData","getters","items","mutations","isLoading","actions","refresh","context","acquire","doTimeout","loadBaseInfo","loadDatabases","content","map","name","collections","loadCollections","arg","documents","dbFound","length","splice","push","loadDocuments","collectionFound","imports","json","body","console","log","Error","exportDatabase","findDatabase","find","db","findCollection","dbCollection"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\r\nimport ApiHost from \"@/host/ApiHost.js\";\r\nimport DataLoader from \"./components/DataLoader\";\r\nimport Processor from \"./components/Processor.js\";\r\n\r\nconst urlCollections = (database) => `database/database/${database}/collections`;\r\nconst urlDocuments = (database, collection) =>\r\n   `database/database/${database}/collection/${collection}/documents`;\r\nconst urlImports = () => `database/imports`;\r\n\r\nexport default {\r\n   init(Stores) {\r\n      const store = new Vuex.Store({\r\n         state: {\r\n            dataLoader: new DataLoader({ timeout: 1000 * 5 }) // 5sec\r\n               .processor(() => store.state.processor)\r\n               .loadData(async () => {\r\n                  const api = await ApiHost.request().POST().url(\"database/info\").send();\r\n                  const baseInfo = api.getContent();\r\n                  store.dispatch(\"loadDatabases\");\r\n                  return baseInfo;\r\n               })\r\n               .setData((data) => store.commit(\"baseInfo\", data ? data : null))\r\n               .getData(() => store.getters.baseInfo),\r\n            baseInfo: null,\r\n            items: [],\r\n            processor: new Processor(),\r\n         },\r\n         mutations: {\r\n            baseInfo: (state, baseInfo) => (state.baseInfo = baseInfo),\r\n            items: (state, items) => (state.items = items),\r\n         },\r\n         getters: {\r\n            isLoading: (state) => state.processor.isLoading(),\r\n            baseInfo: (state) => state.baseInfo,\r\n            items: (state) => state.items,\r\n         },\r\n         actions: {\r\n            async refresh(context) {\r\n               return context.state.processor.acquire(\"refresh\", async () => {\r\n                  context.state.dataLoader.doTimeout();\r\n                  await context.dispatch(\"loadBaseInfo\");\r\n               });\r\n            },\r\n\r\n            async loadBaseInfo(context) {\r\n               return context.state.processor.acquire(\"loadBaseInfo\", async () => {\r\n                  return context.state.dataLoader.data();\r\n               });\r\n            },\r\n            async loadDatabases(context) {\r\n               return context.state.processor.acquire(\"loadDatabases\", async () => {\r\n                  try {\r\n                     context.commit(\"items\", []);\r\n                     let api = await ApiHost.request()\r\n                        .POST()\r\n                        .url(\"database/databases\")\r\n                        .send();\r\n                     let content = api.getContent();\r\n                     let items = content.map((database) => {\r\n                        return { name: database, collections: [] };\r\n                     });\r\n                     context.commit(\"items\", items);\r\n                     for (let database of items) {\r\n                        context.dispatch(\"loadCollections\", {\r\n                           database: database.name,\r\n                        });\r\n                     }\r\n                     return context.getters.items;\r\n                  } catch (error) {\r\n                     context.commit(\"items\", []);\r\n                     throw error;\r\n                  }\r\n               });\r\n            },\r\n            async loadCollections(context, arg = {}) {\r\n               return context.state.processor.acquire(\"loadCollections\", async () => {\r\n                  let { database } = arg;\r\n                  let api = await ApiHost.request()\r\n                     .POST()\r\n                     .url(urlCollections(database))\r\n                     .send();\r\n                  let content = api.getContent();\r\n                  let collections = content.map((collection) => {\r\n                     return { name: collection, documents: [] };\r\n                  });\r\n                  let dbFound = await context.dispatch(\"findDatabase\", {\r\n                     database,\r\n                  });\r\n                  while (dbFound.collections.length) {\r\n                     dbFound.collections.splice(0, dbFound.collections.length);\r\n                  }\r\n                  dbFound.collections.push(...collections);\r\n                  for (let collection of dbFound.collections) {\r\n                     context.dispatch(\"loadDocuments\", {\r\n                        database: dbFound.name,\r\n                        collection: collection.name,\r\n                     });\r\n                  }\r\n                  return dbFound.collections;\r\n               });\r\n            },\r\n            async loadDocuments(context, arg = {}) {\r\n               return context.state.processor.acquire(\"loadDocuments\", async () => {\r\n                  let { database, collection } = arg;\r\n                  let api = await ApiHost.request()\r\n                     .POST()\r\n                     .url(urlDocuments(database, collection))\r\n                     .send();\r\n                  let documents = api.getContent();\r\n                  const collectionFound = await context.dispatch(\"findCollection\", {\r\n                     database,\r\n                     collection,\r\n                  });\r\n                  while (collectionFound.documents.length) {\r\n                     collectionFound.documents.splice(\r\n                        0,\r\n                        collectionFound.documents.length\r\n                     );\r\n                  }\r\n                  collectionFound.documents.push(...documents);\r\n                  return collectionFound.documents;\r\n               });\r\n            },\r\n\r\n            async imports(context, arg = {}) {\r\n               return context.state.processor.acquire(\"imports\", async () => {\r\n                  let { json } = arg;\r\n                  let api = await ApiHost.request()\r\n                     .POST()\r\n                     .url(urlImports())\r\n                     .body({ content: json })\r\n                     .send();\r\n                  console.log(api);\r\n                  throw new Error();\r\n               });\r\n            },\r\n            async exportDatabase(context, arg = {}) {\r\n               return context.state.processor.acquire(\"exportDatabase\", async () => {\r\n                  let { database } = arg;\r\n                  let api = await ApiHost.request()\r\n                     .url(`database/database/${database}/exportv2`)\r\n                     .send();\r\n                  let content = api.getContent();\r\n                  return content;\r\n               });\r\n            },\r\n\r\n            async findDatabase(context, arg = {}) {\r\n               return context.state.processor.acquire(\"findDatabase\", async () => {\r\n                  let { database } = arg;\r\n                  const dbFound = context.state.items.find((db) => {\r\n                     return db.name === database;\r\n                  });\r\n                  if (!dbFound) throw new Error(\"database not found\");\r\n\r\n                  return dbFound;\r\n               });\r\n            },\r\n            async findCollection(context, arg = {}) {\r\n               return context.state.processor.acquire(\"findCollection\", async () => {\r\n                  let { database, collection } = arg;\r\n                  let dbFound = await context.dispatch(\"findDatabase\", {\r\n                     database,\r\n                  });\r\n                  let collectionFound = dbFound.collections.find(\r\n                     (dbCollection) => dbCollection.name === collection\r\n                  );\r\n                  if (!collectionFound) {\r\n                     throw new Error(\"collection not found\");\r\n                  }\r\n                  return collectionFound;\r\n               });\r\n            },\r\n         },\r\n      });\r\n\r\n      return store;\r\n   },\r\n};\r\n"]}]}