{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\data\\Service.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\data\\Service.js","mtime":1662650897383},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyID0gcmVxdWlyZSgiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyIpLmRlZmF1bHQ7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXHR5cGVvZi5qcyIpLmRlZmF1bHQ7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZSgiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcY2xhc3NDYWxsQ2hlY2suanMiKS5kZWZhdWx0OwoKdmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGNyZWF0ZUNsYXNzLmpzIikuZGVmYXVsdDsKCnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxkZWZpbmVQcm9wZXJ0eS5qcyIpLmRlZmF1bHQ7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKCnZhciBUZXh0ID0gcmVxdWlyZSgiLi9UZXh0LmpzIik7Cgp2YXIgU2VydmljZUN1c3RvbWVyID0gcmVxdWlyZSgiLi9TZXJ2aWNlQ3VzdG9tZXIuanMiKTsKCnZhciBTZXJ2aWNlRXZlbnQgPSByZXF1aXJlKCIuL1NlcnZpY2VFdmVudC5qcyIpOwoKdmFyIFNlcnZpY2VCZWxvbmdpbmcgPSByZXF1aXJlKCIuL1NlcnZpY2VCZWxvbmdpbmcuanMiKTsKCnZhciBTZXJ2aWNlSW1hZ2VGaWxlID0gcmVxdWlyZSgiLi9TZXJ2aWNlSW1hZ2VGaWxlLmpzIik7Cgp2YXIgU2VydmljZU5vdGljZSA9IHJlcXVpcmUoIi4vU2VydmljZU5vdGljZS5qcyIpOwoKdmFyIFNlcnZpY2VMYWJlbCA9IHJlcXVpcmUoIi4vU2VydmljZUxhYmVsLmpzIik7Cgp2YXIgUGhvbmVOdW1iZXIgPSByZXF1aXJlKCIuL1Bob25lTnVtYmVyLmpzIik7Cgp2YXIgU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBTZXJ2aWNlKCkgewogICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZpY2UpOwoKICAgIHRoaXMuX2lkID0gVGV4dC50cmltKGRhdGEuX2lkLCBkYXRhLl9pZCk7CiAgICB0aGlzLnRpbWUgPSBkYXRhLnRpbWU7CiAgICB0aGlzLnVzZXJuYW1lID0gVGV4dC50cmltKGRhdGEudXNlcm5hbWUsICIiKS5yZXBsYWNlKCIgIiwgIiIpOwogICAgdGhpcy5uYW1lT2ZVc2VyID0gVGV4dC50cmltKGRhdGEubmFtZU9mVXNlciwgIiIpOwogICAgdGhpcy5zdGF0ZSA9IFRleHQudHJpbShkYXRhLnN0YXRlLCBTZXJ2aWNlLlN0YXRlLlBlbmRpbmcpLnJlcGxhY2UoIiAiLCAiIik7CiAgICB0aGlzLmN1c3RvbWVyID0gX3R5cGVvZihkYXRhLmN1c3RvbWVyKSA9PT0gIm9iamVjdCIgPyBTZXJ2aWNlQ3VzdG9tZXIudHJpbShkYXRhLmN1c3RvbWVyKSA6IHVuZGVmaW5lZDsKICAgIHRoaXMuZGVzY3JpcHRpb24gPSBUZXh0LnRyaW0oZGF0YS5kZXNjcmlwdGlvbiwgIiIpOwogICAgdGhpcy5iZWxvbmdpbmdzID0gKEFycmF5LmlzQXJyYXkoZGF0YS5iZWxvbmdpbmdzKSA/IGRhdGEuYmVsb25naW5ncyA6IFtdKS5tYXAoZnVuY3Rpb24gKGJlbG9uZ2luZykgewogICAgICByZXR1cm4gU2VydmljZUJlbG9uZ2luZy50cmltKGJlbG9uZ2luZyk7CiAgICB9KTsKICAgIHRoaXMuZXZlbnRzID0gKEFycmF5LmlzQXJyYXkoZGF0YS5ldmVudHMpID8gZGF0YS5ldmVudHMgOiBbXSkubWFwKGZ1bmN0aW9uIChldmVudCkgewogICAgICByZXR1cm4gU2VydmljZUV2ZW50LnRyaW0oZXZlbnQpOwogICAgfSk7CiAgICB0aGlzLmltYWdlRmlsZXMgPSAoQXJyYXkuaXNBcnJheShkYXRhLmltYWdlRmlsZXMpID8gZGF0YS5pbWFnZUZpbGVzIDogW10pLm1hcChmdW5jdGlvbiAoaW1hZ2VGaWxlKSB7CiAgICAgIHJldHVybiBTZXJ2aWNlSW1hZ2VGaWxlLnRyaW0oaW1hZ2VGaWxlKTsKICAgIH0pOyAvLyBwYXJzaW5nIG5vdGljZQoKICAgIHRoaXMubm90aWNlID0gU2VydmljZU5vdGljZS50cmltKF90eXBlb2YoZGF0YS5ub3RpY2UpID09PSAib2JqZWN0IiAmJiBkYXRhLm5vdGljZSA/IGRhdGEubm90aWNlIDogewogICAgICBpc1VyZ2VudDogZmFsc2UsCiAgICAgIGlzV2FycmFudHk6IGZhbHNlCiAgICB9KTsgLy8gcGFyc2luZyBsYWJlbHMKCiAgICB0aGlzLmxhYmVscyA9IChBcnJheS5pc0FycmF5KGRhdGEubGFiZWxzKSA/IGRhdGEubGFiZWxzIDogW10pLm1hcChmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlTGFiZWwobGFiZWwpOwogICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChsYWJlbCkgewogICAgICByZXR1cm4gbGFiZWwudGl0bGUgIT09ICIgIiB8fCBsYWJlbC50aXRsZSAhPT0gIiI7CiAgICB9KTsgLy8gcmVmYWN0b3Jpbmcgbm90aWNlIHRvIGxhYmVscwoKICAgIHZhciBleGlzdGluZ0xhYmVsVXJnZW50ID0gdGhpcy5sYWJlbHMuZmluZChmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgcmV0dXJuIGxhYmVsLnRpdGxlID09PSBTZXJ2aWNlTGFiZWwuRGVmYXVsdHMuVXJnZW50LnRpdGxlOwogICAgfSk7CiAgICB2YXIgZXhpc3RpbmdMYWJlbFdhcnJhbnR5ID0gdGhpcy5sYWJlbHMuZmluZChmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgcmV0dXJuIGxhYmVsLnRpdGxlID09PSBTZXJ2aWNlTGFiZWwuRGVmYXVsdHMuV2FycmFudHkudGl0bGU7CiAgICB9KTsKICAgIGlmICh0aGlzLm5vdGljZS5pc1VyZ2VudCAmJiAhZXhpc3RpbmdMYWJlbFVyZ2VudCkgdGhpcy5sYWJlbHMucHVzaChTZXJ2aWNlTGFiZWwuRGVmYXVsdHMuVXJnZW50KTsKICAgIGlmICh0aGlzLm5vdGljZS5pc1dhcnJhbnR5ICYmICFleGlzdGluZ0xhYmVsV2FycmFudHkpIHRoaXMubGFiZWxzLnB1c2goU2VydmljZUxhYmVsLkRlZmF1bHRzLldhcnJhbnR5KTsKICB9CgogIF9jcmVhdGVDbGFzcyhTZXJ2aWNlLCBudWxsLCBbewogICAga2V5OiAic2VhcmNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2goaXRlbSwgc2VhcmNoZXMpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZGVzY3JpcHRpb246IFRleHQucGFyc2UoaXRlbS5kZXNjcmlwdGlvbiksCiAgICAgICAgY3VzdG9tZXJOYW1lOiBfdHlwZW9mKGl0ZW0uY3VzdG9tZXIpID09PSAib2JqZWN0IiA/IFRleHQucGFyc2UoaXRlbS5jdXN0b21lci5uYW1lKSA6ICIiLAogICAgICAgIGN1c3RvbWVyTnVtYmVyOiBfdHlwZW9mKGl0ZW0uY3VzdG9tZXIpID09PSAib2JqZWN0IiA/IFBob25lTnVtYmVyLnBhcnNlVG9TdHJpbmcoaXRlbS5jdXN0b21lci5waG9uZU51bWJlcikgOiAiIiwKICAgICAgICB0aW1lU3RyaW5nOiAoaXRlbS50aW1lc3RhbXAgPyBpdGVtLnRpbWVzdGFtcCA6ICIiKS50b1N0cmluZygpLAogICAgICAgIHVyZ2VudDogaXRlbS5pc1VyZ2VudCgpID8gInVyZ2VudCIgOiAiIiwKICAgICAgICB3YXJyYW50eTogaXRlbS5pc1dhcnJhbnR5KCkgPyAid2FycmFudHkiIDogIiIKICAgICAgfTsKICAgICAgdmFyIHN0YXRlS2V5ID0gT2JqZWN0LmtleXMoU2VydmljZS5TdGF0ZSkuZmluZChmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICByZXR1cm4gc3RhdGUgPT09IGl0ZW0uc3RhdGU7CiAgICAgIH0pOwogICAgICB2YXIgY29udGV4dHMgPSBbZGF0YS5kZXNjcmlwdGlvbiwgZGF0YS5jdXN0b21lck5hbWUsIGRhdGEuY3VzdG9tZXJOdW1iZXIsIGRhdGEudGltZVN0cmluZywgdHlwZW9mIHN0YXRlS2V5ID09PSAic3RyaW5nIiA/IFNlcnZpY2UuU3RhdGVbc3RhdGVLZXldIDogIiIsIGRhdGEudXJnZW50LCBkYXRhLndhcnJhbnR5XTsKICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgIG1hdGNoQ291bnQ6IDAKICAgICAgfTsKCiAgICAgIGZvciAodmFyIF9pID0gMCwgX2NvbnRleHRzID0gY29udGV4dHM7IF9pIDwgX2NvbnRleHRzLmxlbmd0aDsgX2krKykgewogICAgICAgIHZhciBjb250ZXh0ID0gX2NvbnRleHRzW19pXTsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHNlYXJjaGVzKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgc2VhcmNoID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBpZiAoY29udGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHsKICAgICAgICAgICAgICByZXN1bHQubWF0Y2hDb3VudCArPSAxOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmltIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmltKGRhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlKGRhdGEpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNlcnZpY2U7Cn0oKTsKCl9kZWZpbmVQcm9wZXJ0eShTZXJ2aWNlLCAiU3RhdGUiLCB7CiAgUGVuZGluZzogInBlbmRpbmciLAogIFdhaXRpbmc6ICJ3YWl0aW5nIiwKICBDb21wbGV0ZWQ6ICJjb21wbGV0ZWQiLAogIFJlamVjdGVkOiAicmVqZWN0ZWQiCn0pOwoKbW9kdWxlLmV4cG9ydHMgPSBTZXJ2aWNlOw=="},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/data/Service.js"],"names":["Text","require","ServiceCustomer","ServiceEvent","ServiceBelonging","ServiceImageFile","ServiceNotice","ServiceLabel","PhoneNumber","Service","data","_id","trim","time","username","replace","nameOfUser","state","State","Pending","customer","undefined","description","belongings","Array","isArray","map","belonging","events","event","imageFiles","imageFile","notice","isUrgent","isWarranty","labels","label","filter","title","existingLabelUrgent","find","Defaults","Urgent","existingLabelWarranty","Warranty","push","item","searches","parse","customerName","name","customerNumber","parseToString","phoneNumber","timeString","timestamp","toString","urgent","warranty","stateKey","Object","keys","contexts","result","matchCount","context","search","toLowerCase","includes","Waiting","Completed","Rejected","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,IAAMC,eAAe,GAAGD,OAAO,CAAC,sBAAD,CAA/B;;AACA,IAAME,YAAY,GAAGF,OAAO,CAAC,mBAAD,CAA5B;;AACA,IAAMG,gBAAgB,GAAGH,OAAO,CAAC,uBAAD,CAAhC;;AACA,IAAMI,gBAAgB,GAAGJ,OAAO,CAAC,uBAAD,CAAhC;;AACA,IAAMK,aAAa,GAAGL,OAAO,CAAC,oBAAD,CAA7B;;AACA,IAAMM,YAAY,GAAGN,OAAO,CAAC,mBAAD,CAA5B;;AACA,IAAMO,WAAW,GAAGP,OAAO,CAAC,kBAAD,CAA3B;;IAEMQ,O;;;AAkDH,qBAAyB;AAAA,QAAbC,IAAa,uEAAN,IAAM;;AAAA;;AACtB,SAAKC,GAAL,GAAWX,IAAI,CAACY,IAAL,CAAUF,IAAI,CAACC,GAAf,EAAoBD,IAAI,CAACC,GAAzB,CAAX;AACA,SAAKE,IAAL,GAAYH,IAAI,CAACG,IAAjB;AACA,SAAKC,QAAL,GAAgBd,IAAI,CAACY,IAAL,CAAUF,IAAI,CAACI,QAAf,EAAyB,EAAzB,EAA6BC,OAA7B,CAAqC,GAArC,EAA0C,EAA1C,CAAhB;AACA,SAAKC,UAAL,GAAkBhB,IAAI,CAACY,IAAL,CAAUF,IAAI,CAACM,UAAf,EAA2B,EAA3B,CAAlB;AAEA,SAAKC,KAAL,GAAajB,IAAI,CAACY,IAAL,CAAUF,IAAI,CAACO,KAAf,EAAsBR,OAAO,CAACS,KAAR,CAAcC,OAApC,EAA6CJ,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAb;AAEA,SAAKK,QAAL,GACG,QAAOV,IAAI,CAACU,QAAZ,MAAyB,QAAzB,GACKlB,eAAe,CAACU,IAAhB,CAAqBF,IAAI,CAACU,QAA1B,CADL,GAEKC,SAHR;AAKA,SAAKC,WAAL,GAAmBtB,IAAI,CAACY,IAAL,CAAUF,IAAI,CAACY,WAAf,EAA4B,EAA5B,CAAnB;AAEA,SAAKC,UAAL,GAAkB,CAACC,KAAK,CAACC,OAAN,CAAcf,IAAI,CAACa,UAAnB,IAAiCb,IAAI,CAACa,UAAtC,GAAmD,EAApD,EAAwDG,GAAxD,CACf,UAACC,SAAD;AAAA,aAAevB,gBAAgB,CAACQ,IAAjB,CAAsBe,SAAtB,CAAf;AAAA,KADe,CAAlB;AAIA,SAAKC,MAAL,GAAc,CAACJ,KAAK,CAACC,OAAN,CAAcf,IAAI,CAACkB,MAAnB,IAA6BlB,IAAI,CAACkB,MAAlC,GAA2C,EAA5C,EAAgDF,GAAhD,CAAoD,UAACG,KAAD;AAAA,aAC/D1B,YAAY,CAACS,IAAb,CAAkBiB,KAAlB,CAD+D;AAAA,KAApD,CAAd;AAIA,SAAKC,UAAL,GAAkB,CAACN,KAAK,CAACC,OAAN,CAAcf,IAAI,CAACoB,UAAnB,IAAiCpB,IAAI,CAACoB,UAAtC,GAAmD,EAApD,EAAwDJ,GAAxD,CACf,UAACK,SAAD;AAAA,aAAe1B,gBAAgB,CAACO,IAAjB,CAAsBmB,SAAtB,CAAf;AAAA,KADe,CAAlB,CAvBsB,CA2BtB;;AACA,SAAKC,MAAL,GAAc1B,aAAa,CAACM,IAAd,CACX,QAAOF,IAAI,CAACsB,MAAZ,MAAuB,QAAvB,IAAmCtB,IAAI,CAACsB,MAAxC,GACKtB,IAAI,CAACsB,MADV,GAEK;AAAEC,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KAHM,CAAd,CA5BsB,CAkCtB;;AACA,SAAKC,MAAL,GAAc,CAACX,KAAK,CAACC,OAAN,CAAcf,IAAI,CAACyB,MAAnB,IAA6BzB,IAAI,CAACyB,MAAlC,GAA2C,EAA5C,EACVT,GADU,CACN,UAACU,KAAD;AAAA,aAAW,IAAI7B,YAAJ,CAAiB6B,KAAjB,CAAX;AAAA,KADM,EAEVC,MAFU,CAEH,UAACD,KAAD;AAAA,aAAWA,KAAK,CAACE,KAAN,KAAgB,GAAhB,IAAuBF,KAAK,CAACE,KAAN,KAAgB,EAAlD;AAAA,KAFG,CAAd,CAnCsB,CAuCtB;;AACA,QAAMC,mBAAmB,GAAG,KAAKJ,MAAL,CAAYK,IAAZ,CACzB,UAACJ,KAAD;AAAA,aAAWA,KAAK,CAACE,KAAN,KAAgB/B,YAAY,CAACkC,QAAb,CAAsBC,MAAtB,CAA6BJ,KAAxD;AAAA,KADyB,CAA5B;AAGA,QAAMK,qBAAqB,GAAG,KAAKR,MAAL,CAAYK,IAAZ,CAC3B,UAACJ,KAAD;AAAA,aAAWA,KAAK,CAACE,KAAN,KAAgB/B,YAAY,CAACkC,QAAb,CAAsBG,QAAtB,CAA+BN,KAA1D;AAAA,KAD2B,CAA9B;AAGA,QAAI,KAAKN,MAAL,CAAYC,QAAZ,IAAwB,CAACM,mBAA7B,EACG,KAAKJ,MAAL,CAAYU,IAAZ,CAAiBtC,YAAY,CAACkC,QAAb,CAAsBC,MAAvC;AACH,QAAI,KAAKV,MAAL,CAAYE,UAAZ,IAA0B,CAACS,qBAA/B,EACG,KAAKR,MAAL,CAAYU,IAAZ,CAAiBtC,YAAY,CAACkC,QAAb,CAAsBG,QAAvC;AACL;;;;WA5FD,gBAAcE,IAAd,EAAoBC,QAApB,EAA8B;AAC3B,UAAMrC,IAAI,GAAG;AACVY,QAAAA,WAAW,EAAEtB,IAAI,CAACgD,KAAL,CAAWF,IAAI,CAACxB,WAAhB,CADH;AAEV2B,QAAAA,YAAY,EACT,QAAOH,IAAI,CAAC1B,QAAZ,MAAyB,QAAzB,GAAoCpB,IAAI,CAACgD,KAAL,CAAWF,IAAI,CAAC1B,QAAL,CAAc8B,IAAzB,CAApC,GAAqE,EAH9D;AAIVC,QAAAA,cAAc,EACX,QAAOL,IAAI,CAAC1B,QAAZ,MAAyB,QAAzB,GACKZ,WAAW,CAAC4C,aAAZ,CAA0BN,IAAI,CAAC1B,QAAL,CAAciC,WAAxC,CADL,GAEK,EAPE;AAQVC,QAAAA,UAAU,EAAE,CAACR,IAAI,CAACS,SAAL,GAAiBT,IAAI,CAACS,SAAtB,GAAkC,EAAnC,EAAuCC,QAAvC,EARF;AASVC,QAAAA,MAAM,EAAEX,IAAI,CAACb,QAAL,KAAkB,QAAlB,GAA6B,EAT3B;AAUVyB,QAAAA,QAAQ,EAAEZ,IAAI,CAACZ,UAAL,KAAoB,UAApB,GAAiC;AAVjC,OAAb;AAaA,UAAMyB,QAAQ,GAAGC,MAAM,CAACC,IAAP,CAAYpD,OAAO,CAACS,KAApB,EAA2BsB,IAA3B,CAAgC,UAACvB,KAAD;AAAA,eAAWA,KAAK,KAAK6B,IAAI,CAAC7B,KAA1B;AAAA,OAAhC,CAAjB;AAEA,UAAM6C,QAAQ,GAAG,CACdpD,IAAI,CAACY,WADS,EAEdZ,IAAI,CAACuC,YAFS,EAGdvC,IAAI,CAACyC,cAHS,EAIdzC,IAAI,CAAC4C,UAJS,EAKd,OAAOK,QAAP,KAAoB,QAApB,GAA+BlD,OAAO,CAACS,KAAR,CAAcyC,QAAd,CAA/B,GAAyD,EAL3C,EAMdjD,IAAI,CAAC+C,MANS,EAOd/C,IAAI,CAACgD,QAPS,CAAjB;AAUA,UAAMK,MAAM,GAAG;AAAEjB,QAAAA,IAAI,EAAJA,IAAF;AAAQkB,QAAAA,UAAU,EAAE;AAApB,OAAf;;AAEA,mCAAoBF,QAApB,+BAA8B;AAAzB,YAAIG,OAAO,gBAAX;;AAAyB,mDACRlB,QADQ;AAAA;;AAAA;AAC3B,8DAA6B;AAAA,gBAApBmB,MAAoB;;AAC1B,gBAAID,OAAO,CAACE,WAAR,GAAsBC,QAAtB,CAA+BF,MAA/B,CAAJ,EAA4C;AACzCH,cAAAA,MAAM,CAACC,UAAP,IAAqB,CAArB;AACF;AACH;AAL0B;AAAA;AAAA;AAAA;AAAA;AAM7B;;AAED,aAAOD,MAAP;AACF;;;WACD,cAAYrD,IAAZ,EAAkB;AACf,aAAO,IAAID,OAAJ,CAAYC,IAAZ,CAAP;AACF;;;;;;gBAhDED,O,WACY;AACZU,EAAAA,OAAO,EAAE,SADG;AAEZkD,EAAAA,OAAO,EAAE,SAFG;AAGZC,EAAAA,SAAS,EAAE,WAHC;AAIZC,EAAAA,QAAQ,EAAE;AAJE,C;;AAsGlBC,MAAM,CAACC,OAAP,GAAiBhE,OAAjB","sourcesContent":["const Text = require(\"./Text.js\");\r\nconst ServiceCustomer = require(\"./ServiceCustomer.js\");\r\nconst ServiceEvent = require(\"./ServiceEvent.js\");\r\nconst ServiceBelonging = require(\"./ServiceBelonging.js\");\r\nconst ServiceImageFile = require(\"./ServiceImageFile.js\");\r\nconst ServiceNotice = require(\"./ServiceNotice.js\");\r\nconst ServiceLabel = require(\"./ServiceLabel.js\");\r\nconst PhoneNumber = require(\"./PhoneNumber.js\");\r\n\r\nclass Service {\r\n   static State = {\r\n      Pending: \"pending\",\r\n      Waiting: \"waiting\",\r\n      Completed: \"completed\",\r\n      Rejected: \"rejected\",\r\n   };\r\n\r\n   static search(item, searches) {\r\n      const data = {\r\n         description: Text.parse(item.description),\r\n         customerName:\r\n            typeof item.customer === \"object\" ? Text.parse(item.customer.name) : \"\",\r\n         customerNumber:\r\n            typeof item.customer === \"object\"\r\n               ? PhoneNumber.parseToString(item.customer.phoneNumber)\r\n               : \"\",\r\n         timeString: (item.timestamp ? item.timestamp : \"\").toString(),\r\n         urgent: item.isUrgent() ? \"urgent\" : \"\",\r\n         warranty: item.isWarranty() ? \"warranty\" : \"\",\r\n      };\r\n\r\n      const stateKey = Object.keys(Service.State).find((state) => state === item.state);\r\n\r\n      const contexts = [\r\n         data.description,\r\n         data.customerName,\r\n         data.customerNumber,\r\n         data.timeString,\r\n         typeof stateKey === \"string\" ? Service.State[stateKey] : \"\",\r\n         data.urgent,\r\n         data.warranty,\r\n      ];\r\n\r\n      const result = { item, matchCount: 0 };\r\n\r\n      for (let context of contexts) {\r\n         for (let search of searches) {\r\n            if (context.toLowerCase().includes(search)) {\r\n               result.matchCount += 1;\r\n            }\r\n         }\r\n      }\r\n\r\n      return result;\r\n   }\r\n   static trim(data) {\r\n      return new Service(data);\r\n   }\r\n\r\n   constructor(data = null) {\r\n      this._id = Text.trim(data._id, data._id);\r\n      this.time = data.time;\r\n      this.username = Text.trim(data.username, \"\").replace(\" \", \"\");\r\n      this.nameOfUser = Text.trim(data.nameOfUser, \"\");\r\n\r\n      this.state = Text.trim(data.state, Service.State.Pending).replace(\" \", \"\");\r\n\r\n      this.customer =\r\n         typeof data.customer === \"object\"\r\n            ? ServiceCustomer.trim(data.customer)\r\n            : undefined;\r\n\r\n      this.description = Text.trim(data.description, \"\");\r\n\r\n      this.belongings = (Array.isArray(data.belongings) ? data.belongings : []).map(\r\n         (belonging) => ServiceBelonging.trim(belonging)\r\n      );\r\n\r\n      this.events = (Array.isArray(data.events) ? data.events : []).map((event) =>\r\n         ServiceEvent.trim(event)\r\n      );\r\n\r\n      this.imageFiles = (Array.isArray(data.imageFiles) ? data.imageFiles : []).map(\r\n         (imageFile) => ServiceImageFile.trim(imageFile)\r\n      );\r\n\r\n      // parsing notice\r\n      this.notice = ServiceNotice.trim(\r\n         typeof data.notice === \"object\" && data.notice\r\n            ? data.notice\r\n            : { isUrgent: false, isWarranty: false }\r\n      );\r\n\r\n      // parsing labels\r\n      this.labels = (Array.isArray(data.labels) ? data.labels : [])\r\n         .map((label) => new ServiceLabel(label))\r\n         .filter((label) => label.title !== \" \" || label.title !== \"\");\r\n\r\n      // refactoring notice to labels\r\n      const existingLabelUrgent = this.labels.find(\r\n         (label) => label.title === ServiceLabel.Defaults.Urgent.title\r\n      );\r\n      const existingLabelWarranty = this.labels.find(\r\n         (label) => label.title === ServiceLabel.Defaults.Warranty.title\r\n      );\r\n      if (this.notice.isUrgent && !existingLabelUrgent)\r\n         this.labels.push(ServiceLabel.Defaults.Urgent);\r\n      if (this.notice.isWarranty && !existingLabelWarranty)\r\n         this.labels.push(ServiceLabel.Defaults.Warranty);\r\n   }\r\n}\r\n\r\nmodule.exports = Service;\r\n"]}]}