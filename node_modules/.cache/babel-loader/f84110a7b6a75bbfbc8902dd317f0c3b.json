{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-v2\\vue\\src\\items\\Category.js","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\items\\Category.js","mtime":1667405064540},{"path":"C:\\dev\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdHlwZW9mLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgSW1hZ2UgZnJvbSAiLi9JbWFnZSI7CmltcG9ydCBNb2R1bGVDYXRlZ29yeSBmcm9tICJALy4uLy4uL2V4cHJlc3MvZGF0YV9zdHJ1Y3R1cmVzL0NhdGVnb3J5IjsKaW1wb3J0IEl0ZW1TZWFyY2hlciBmcm9tICIuL3Rvb2xzL0l0ZW1TZWFyY2hlci5qcyI7CnZhciB0ZXh0Q29udGFpbnMgPSBJdGVtU2VhcmNoZXIudGV4dENvbnRhaW5zOwoKdmFyIENhdGVnb3J5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDYXRlZ29yeShzdG9yZXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXRlZ29yeSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdG9yZXMiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImlkIiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAia2V5IiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidGl0bGUiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpY29uIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJiYWNrZ3JvdW5kIiwgbnVsbCk7CgogICAgdGhpcy5zdG9yZXMgPSBzdG9yZXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2F0ZWdvcnksIFt7CiAgICBrZXk6ICJmcm9tRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbURhdGEoZGF0YSkgewogICAgICBkYXRhID0gTW9kdWxlQ2F0ZWdvcnkudHJpbShkYXRhKTsKICAgICAgdGhpcy5pZCA9IGRhdGEuX2lkOwogICAgICB0aGlzLmtleSA9IGRhdGEua2V5OwogICAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZTsKICAgICAgdGhpcy5pY29uID0gX3R5cGVvZihkYXRhLmljb24pID09PSAib2JqZWN0IiA/IG5ldyBJbWFnZSgpLmZyb21EYXRhKGRhdGEuaWNvbikgOiBudWxsOwogICAgICB0aGlzLmJhY2tncm91bmQgPSBfdHlwZW9mKGRhdGEuYmFja2dyb3VuZCkgPT09ICJvYmplY3QiID8gbmV3IEltYWdlKCkuZnJvbURhdGEoZGF0YS5iYWNrZ3JvdW5kKSA6IG51bGw7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInRvRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9EYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIF9pZDogdGhpcy5pZCwKICAgICAgICBrZXk6IHRoaXMua2V5LAogICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgIGljb246IHRoaXMuaWNvbiA/IHRoaXMuaWNvbi50b0RhdGEoKSA6IHt9LAogICAgICAgIGJhY2tncm91bmQ6IHRoaXMuYmFja2dyb3VuZCA/IHRoaXMuYmFja2dyb3VuZC50b0RhdGEoKSA6IHt9CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAidG9Db3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9Db3VudChzdHJzKSB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMudGl0bGU7CiAgICAgIHJldHVybiBzdHJzLnJlZHVjZShmdW5jdGlvbiAoY291bnQsIHN0cikgewogICAgICAgIGlmICh0aXRsZSA9PT0gIk5vdGVib29rIikgY291bnQgKz0gdGV4dENvbnRhaW5zKCJMYXB0b3AiLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKHRpdGxlLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKCJjYXRlZ29yeSIsIHN0cikgPyAxIDogMDsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgIH0sIDApOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBhcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBhcmUoaXRlbSkgewogICAgICB2YXIga2V5T3JkZXIgPSBPYmplY3Qua2V5cyhNb2R1bGVDYXRlZ29yeS5LZXkpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIE1vZHVsZUNhdGVnb3J5LktleVtrZXldOwogICAgICB9KTsKICAgICAgdmFyIGluZGV4MSA9IGtleU9yZGVyLmluZGV4T2YodGhpcy5rZXkpOwogICAgICB2YXIgaW5kZXgyID0ga2V5T3JkZXIuaW5kZXhPZihpdGVtLmtleSk7CiAgICAgIGluZGV4MSA9IGluZGV4MSA9PSAtMSA/IGtleU9yZGVyLmxlbmd0aCA6IGluZGV4MTsKICAgICAgaW5kZXgyID0gaW5kZXgyID09IC0xID8ga2V5T3JkZXIubGVuZ3RoIDogaW5kZXgyOwogICAgICByZXR1cm4gaW5kZXgxID4gaW5kZXgyID8gMSA6IGluZGV4MSA8IGluZGV4MiA/IC0xIDogMDsKICAgIH0KICB9XSk7CgogIHJldHVybiBDYXRlZ29yeTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnk7"},{"version":3,"sources":["C:/dev/freshnet-v2/vue/src/items/Category.js"],"names":["Image","ModuleCategory","ItemSearcher","textContains","Category","stores","data","trim","id","_id","key","title","icon","fromData","background","toData","strs","reduce","count","str","item","keyOrder","Object","keys","Key","map","index1","indexOf","index2","length"],"mappings":"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","sourcesContent":["import Image from \"./Image\";\r\nimport ModuleCategory from \"@/../../express/data_structures/Category\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nclass Category {\r\n\tstores = null;\r\n\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t}\r\n\r\n\tid = \"\";\r\n\tkey = \"\";\r\n\ttitle = \"\";\r\n\ticon = null;\r\n\tbackground = null;\r\n\r\n\tfromData(data) {\r\n\t\tdata = ModuleCategory.trim(data);\r\n\r\n\t\tthis.id = data._id;\r\n\t\tthis.key = data.key;\r\n\t\tthis.title = data.title;\r\n\t\tthis.icon =\r\n\t\t\ttypeof data.icon === \"object\" ? new Image().fromData(data.icon) : null;\r\n\t\tthis.background =\r\n\t\t\ttypeof data.background === \"object\"\r\n\t\t\t\t? new Image().fromData(data.background)\r\n\t\t\t\t: null;\r\n\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\treturn {\r\n\t\t\t_id: this.id,\r\n\t\t\tkey: this.key,\r\n\t\t\ttitle: this.title,\r\n\t\t\ticon: this.icon ? this.icon.toData() : {},\r\n\t\t\tbackground: this.background ? this.background.toData() : {},\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\tconst { title } = this;\r\n\t\treturn strs.reduce((count, str) => {\r\n\t\t\tif (title === \"Notebook\") count += textContains(\"Laptop\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(title, str) ? 1 : 0;\r\n\t\t\tcount += textContains(\"category\", str) ? 1 : 0;\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\tconst keyOrder = Object.keys(ModuleCategory.Key).map((key) => {\r\n\t\t\treturn ModuleCategory.Key[key];\r\n\t\t});\r\n\r\n\t\tlet index1 = keyOrder.indexOf(this.key);\r\n\t\tlet index2 = keyOrder.indexOf(item.key);\r\n\t\tindex1 = index1 == -1 ? keyOrder.length : index1;\r\n\t\tindex2 = index2 == -1 ? keyOrder.length : index2;\r\n\r\n\t\treturn index1 > index2 ? 1 : index1 < index2 ? -1 : 0;\r\n\t}\r\n}\r\n\r\nexport default Category;\r\n"]}]}