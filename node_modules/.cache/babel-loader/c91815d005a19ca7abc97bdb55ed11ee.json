{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-v2\\vue\\src\\main.js","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\main.js","mtime":1668084588786},{"path":"C:\\dev\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcdHlwZW9mLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0ICJDOlxcZGV2XFxmcmVzaG5ldC12MlxcdnVlXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8gdG9vbHMKaW1wb3J0IEFwcExheW91dCBmcm9tICIuL3Rvb2xzL0FwcExheW91dC5qcyI7CmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gIi4vdG9vbHMvTmF2aWdhdGlvbi5qcyI7CmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAiLi90b29scy9Ob3RpZmljYXRpb24uanMiOwppbXBvcnQgVGltZU5vd0dldHRlciBmcm9tICIuL3Rvb2xzL1RpbWVOb3dHZXR0ZXIuanMiOwppbXBvcnQgQXBpSG9zdCBmcm9tICIuL2hvc3QvQXBpSG9zdC5qcyI7IC8vIHZ1ZQoKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgUm91dGVyIGZyb20gIi4vbWFpbi5yb3V0ZXIuanMiOwppbXBvcnQgU3RvcmVzIGZyb20gIi4vbWFpbi5zdG9yZXMuanMiOwppbXBvcnQgTWl4aW4gZnJvbSAiLi9tYWluLm1peGluLmpzIjsgLy8gYXBwCgppbXBvcnQgQXBwIGZyb20gIi4vYXBwL0FwcC52dWUiOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKVnVlLnByb3RvdHlwZS5ob3N0ID0gQXBpSG9zdDsKVnVlLm1peGluKE1peGluKTsKCnZhciBVID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBVKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFUpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFUsIG51bGwsIFt7CiAgICBrZXk6ICJvYmplY3RUb0FycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvYmplY3RUb0FycmF5KCkgewogICAgICB2YXIgb2JqZWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKF90eXBlb2Yob2JqZWN0KSA9PT0gIm9iamVjdCIgPyBvYmplY3QgOiB7fSkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICB2YWx1ZTogb2JqZWN0W2tleV0KICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb25maW5lUm91dGVRdWVyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29uZmluZVJvdXRlUXVlcnkocHJldmlvdXNRdWVyeSwgbmV4dFF1ZXJ5KSB7CiAgICAgIHZhciBuZXh0UXVlcmllcyA9IFUub2JqZWN0VG9BcnJheShwcmV2aW91c1F1ZXJ5KTsKICAgICAgdmFyIHF1ZXJpZXMgPSBVLm9iamVjdFRvQXJyYXkobmV4dFF1ZXJ5KTsKICAgICAgdmFyIGlzQ2hhbmdlZCA9IGZhbHNlOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHF1ZXJpZXMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgICAgdmFyIHF1ZXJ5ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgY3VycmVudCA9IG5leHRRdWVyaWVzLmZpbmQoZnVuY3Rpb24gKGN1cnJlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQua2V5ID09PSBxdWVyeS5rZXk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50LnZhbHVlICE9PSBxdWVyeS52YWx1ZSkgewogICAgICAgICAgICBjdXJyZW50LnZhbHVlID0gcXVlcnkudmFsdWU7CiAgICAgICAgICAgIGlzQ2hhbmdlZCA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgaWYgKCFjdXJyZW50ICYmIHF1ZXJ5LnZhbHVlICE9PSBudWxsICYmIHF1ZXJ5LnZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbmV4dFF1ZXJpZXMucHVzaCh7CiAgICAgICAgICAgICAga2V5OiBxdWVyeS5rZXksCiAgICAgICAgICAgICAgdmFsdWU6IHF1ZXJ5LnZhbHVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpc0NoYW5nZWQgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQudmFsdWUgPT09IG51bGwpIHsKICAgICAgICAgICAgbmV4dFF1ZXJpZXMuc3BsaWNlKG5leHRRdWVyaWVzLmluZGV4T2YoY3VycmVudCksIDEpOwogICAgICAgICAgICBpc0NoYW5nZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICBfbG9vcCgpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBpZiAoIWlzQ2hhbmdlZCkgcmV0dXJuOwogICAgICByZXR1cm4gbmV4dFF1ZXJpZXMucmVkdWNlKGZ1bmN0aW9uIChxdWVyeSwgbmV3UXVlcnkpIHsKICAgICAgICBxdWVyeVtuZXdRdWVyeS5rZXldID0gbmV3UXVlcnkudmFsdWU7CiAgICAgICAgcmV0dXJuIHF1ZXJ5OwogICAgICB9LCB7fSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNPYmplY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZihvYmopID09PSAib2JqZWN0IjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1N0cmluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdHJpbmcoc3RyKSB7CiAgICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAic3RyaW5nIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1Bhc3NlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNQYXNzZWQodXNlciwgcGVybWlzc2lvbnMpIHsKICAgICAgcGVybWlzc2lvbnMgPSBBcnJheS5pc0FycmF5KHBlcm1pc3Npb25zKSA/IHBlcm1pc3Npb25zIDogW107CiAgICAgIHZhciBpc0FkbWluID0gdXNlciA/IHVzZXIuaXNUeXBlQWRtaW4oKSA6IGZhbHNlOwogICAgICB2YXIgaXNTdGFmZiA9IHVzZXIgPyB1c2VyLmlzVHlwZVN0YWZmKCkgOiBmYWxzZTsKCiAgICAgIGlmIChwZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKGlzQWRtaW4gJiYgIXBlcm1pc3Npb25zLmluY2x1ZGVzKCJhZG1pbiIpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgaWYgKGlzU3RhZmYgJiYgIXBlcm1pc3Npb25zLmluY2x1ZGVzKCJzdGFmZiIpKSByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogInBhcnNlSWNvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VJY29uKGljb24pIHsKICAgICAgaWNvbiA9IFUuaXNPYmplY3QoaWNvbikgPyBpY29uIDogbnVsbDsKICAgICAgaWYgKGljb24gPT09IG51bGwpIHJldHVybiBudWxsOwogICAgICB2YXIgbGlnaHQgPSBpY29uID09PSBudWxsID8gIiIgOiBBcGlIb3N0LnJlcygiaWNvbi8iLmNvbmNhdChpY29uLmxpZ2h0LCAiLnN2ZyIpKTsKICAgICAgdmFyIGRhcmsgPSBpY29uID09PSBudWxsID8gIiIgOiBBcGlIb3N0LnJlcygiaWNvbi8iLmNvbmNhdChpY29uLmRhcmssICIuc3ZnIikpOwogICAgICByZXR1cm4gewogICAgICAgIGxpZ2h0OiBsaWdodCwKICAgICAgICBkYXJrOiBkYXJrCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicGFyc2VLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlS2V5KHN0cikgewogICAgICByZXR1cm4gdGhpcy5pc1N0cmluZyhzdHIpID8gc3RyLnRyaW0oKS5yZXBsYWNlKCIgIiwgIiIpIDogIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAicGFyc2VBcnJheSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VBcnJheShhcnJheSkgewogICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnJheSkgPyBhcnJheSA6IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogInBhcnNlT2JqZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZU9iamVjdChvYmopIHsKICAgICAgcmV0dXJuIHRoaXMuaXNPYmplY3Qob2JqKSA/IG9iaiA6IHt9OwogICAgfQogIH0sIHsKICAgIGtleTogInBhcnNlU3RyaW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNTdHJpbmcoc3RyKSA/IHN0ciA6ICIiOwogICAgfQogIH0sIHsKICAgIGtleTogInBhcnNlR3JvdXAycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VHcm91cDJzKGFycmF5KSB7CiAgICAgIHJldHVybiBVLnBhcnNlQXJyYXkoYXJyYXkpLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGtleTogb2JqLmtleSwKICAgICAgICAgIHRpdGxlOiBvYmoudGl0bGUsCiAgICAgICAgICBpY29uOiBvYmouaWNvbiwKICAgICAgICAgIHZhbHVlczogb2JqLnZhbHVlcywKICAgICAgICAgIGNoaWxkcmVuOiBvYmouY2hpbGRyZW4sCiAgICAgICAgICB1c2VyUGVybWlzc2lvbnM6IG9iai51c2VyUGVybWlzc2lvbnMKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBVOwp9KCk7CgpuZXcgVnVlKHsKICBob3N0OiBBcGlIb3N0LAogIHJvdXRlcjogUm91dGVyLAogIHN0b3JlOiBTdG9yZXMuc3RvcmUsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnNvbGU6IHsKICAgICAgICBsb2c6IGZ1bmN0aW9uIGxvZyhwYXJhbTEsIHBhcmFtMikgewogICAgICAgICAgcGFyYW0yID09PSB1bmRlZmluZWQgPyBjb25zb2xlLmxvZyhwYXJhbTEpIDogY29uc29sZS5sb2cocGFyYW0xLCBwYXJhbTIpOwogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHBhcmFtMSwgcGFyYW0yKSB7CiAgICAgICAgICBwYXJhbTIgPT09IHVuZGVmaW5lZCA/IGNvbnNvbGUuZXJyb3IocGFyYW0xKSA6IGNvbnNvbGUuZXJyb3IocGFyYW0xLCBwYXJhbTIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAga2V5R2V0dGVyOiBuZXcgVGltZU5vd0dldHRlcigpLAogICAgICB3aW5kb3c6IHsKICAgICAgICBpbm5lcldpZHRoOiAwLAogICAgICAgIGlubmVySGVpZ2h0OiAwCiAgICAgIH0sCiAgICAgIGFwcExheW91dDogbnVsbCwKICAgICAgbmF2aWdhdGlvbjogbnVsbCwKICAgICAgc25hY2tiYXJzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKGMpIHsKICAgICAgcmV0dXJuIGMubG9naW5TdG9yZS5nZXR0ZXJzLnVzZXI7CiAgICB9LAogICAgLy8gYXBwCiAgICBhcHA6IGZ1bmN0aW9uIGFwcChjKSB7CiAgICAgIHJldHVybiBjLiRjaGlsZHJlbi5sZW5ndGggPyBjLiRjaGlsZHJlblswXSA6IG51bGw7CiAgICB9LAogICAgLy8gcGFnZXMKICAgIHBhZ2VzOiBmdW5jdGlvbiBwYWdlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYWdlcyA9IFUucGFyc2VBcnJheShBcHAuX2NoaWxkcmVuKCkpOwogICAgICBpZiAocGFnZXMubGVuZ3RoIDwgMSkgcmV0dXJuIFtdOwogICAgICB2YXIgbGlzdEdyb3VwMSA9IHBhZ2VzLm1hcChmdW5jdGlvbiAocGFnZSkgewogICAgICAgIC8vIGdldCBwcm9wZXJ0eQogICAgICAgIHZhciBrZXkgPSBwYWdlLmtleSwKICAgICAgICAgICAgdGl0bGUgPSBwYWdlLnRpdGxlLAogICAgICAgICAgICBpY29uID0gcGFnZS5pY29uLAogICAgICAgICAgICB1c2VyUGVybWlzc2lvbnMgPSBwYWdlLnVzZXJQZXJtaXNzaW9uczsKICAgICAgICB2YXIgX2NoaWxkcmVuID0gcGFnZS5fY2hpbGRyZW4sCiAgICAgICAgICAgIF9ncm91cHMgPSBwYWdlLl9ncm91cHMsCiAgICAgICAgICAgIF9xdWVyaWVzID0gcGFnZS5fcXVlcmllczsgLy8gZ2V0IHJlYWR5CgogICAgICAgIGtleSA9IFUucGFyc2VLZXkocGFnZS5rZXkpOwogICAgICAgIHRpdGxlID0gVS5wYXJzZVN0cmluZyhwYWdlLnRpdGxlKS50cmltKCk7CiAgICAgICAgaWNvbiA9IFUucGFyc2VJY29uKHBhZ2UuaWNvbik7CiAgICAgICAgdmFyIGNoaWxkcmVuID0gdHlwZW9mIF9jaGlsZHJlbiA9PT0gImZ1bmN0aW9uIiA/IF9jaGlsZHJlbigpIDogW107CiAgICAgICAgdmFyIGdyb3VwcyA9IHR5cGVvZiBfZ3JvdXBzID09PSAiZnVuY3Rpb24iID8gX2dyb3VwcygpIDogW107CiAgICAgICAgdmFyIHF1ZXJpZXMgPSB0eXBlb2YgX3F1ZXJpZXMgPT09ICJmdW5jdGlvbiIgPyBfcXVlcmllcygpIDogW107IC8vIHBhcnNpbmcKCiAgICAgICAgdmFyIHBhcnNlZENoaWxkcmVuID0gVS5wYXJzZUdyb3VwMnMoW3sKICAgICAgICAgIHZhbHVlczogY2hpbGRyZW4KICAgICAgICB9XSkubWFwKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgIG9iai5pc0xpbmsgPSB0cnVlOwogICAgICAgICAgb2JqLmlzUXVlcnkgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHBhcnNlZEdyb3VwcyA9IFUucGFyc2VHcm91cDJzKGdyb3VwcykubWFwKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgIG9iai5pc0xpbmsgPSB0cnVlOwogICAgICAgICAgb2JqLmlzUXVlcnkgPSBmYWxzZTsKICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHBhcnNlZFF1ZXJpZXMgPSBVLnBhcnNlR3JvdXAycyhxdWVyaWVzKS5tYXAoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgb2JqLmlzTGluayA9IHRydWU7CiAgICAgICAgICBvYmouaXNRdWVyeSA9IHRydWU7CiAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgIH0pOwogICAgICAgIHZhciByZXR1cm5QYXJzZWRHcm91cHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcnNlZENoaWxkcmVuKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcnNlZEdyb3VwcyksIF90b0NvbnN1bWFibGVBcnJheShwYXJzZWRRdWVyaWVzKSkubWFwKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgdmFyIF9ncm91cCR2YWx1ZXM7CgogICAgICAgICAgaWYgKCFVLmlzUGFzc2VkKF90aGlzLnVzZXIsIGdyb3VwLnVzZXJQZXJtaXNzaW9ucykpIHJldHVybiBncm91cDsKICAgICAgICAgIGdyb3VwLmtleSA9IFUucGFyc2VLZXkoZ3JvdXAua2V5KTsKICAgICAgICAgIGdyb3VwLnRpdGxlID0gVS5wYXJzZVN0cmluZyhncm91cC50aXRsZSk7CiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JvdXAudmFsdWVzKSkgZ3JvdXAudmFsdWVzID0gW107CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShncm91cC5jaGlsZHJlbikpIChfZ3JvdXAkdmFsdWVzID0gZ3JvdXAudmFsdWVzKS51bnNoaWZ0LmFwcGx5KF9ncm91cCR2YWx1ZXMsIF90b0NvbnN1bWFibGVBcnJheShncm91cC5jaGlsZHJlbikpOwogICAgICAgICAgcmV0dXJuIGdyb3VwOwogICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoZ3JvdXBzLCBncm91cCkgewogICAgICAgICAgdmFyIF9mb3VuZCRncm91cHM7CgogICAgICAgICAgaWYgKCFVLmlzUGFzc2VkKF90aGlzLnVzZXIsIGdyb3VwLnVzZXJQZXJtaXNzaW9ucykpIHJldHVybiBncm91cHM7IC8vIGdldCBwcm9wZXJ0eQoKICAgICAgICAgIHZhciBrZXkgPSBncm91cC5rZXksCiAgICAgICAgICAgICAgdGl0bGUgPSBncm91cC50aXRsZTsKICAgICAgICAgIHZhciBpc0xpbmsgPSBncm91cC5pc0xpbmssCiAgICAgICAgICAgICAgaXNRdWVyeSA9IGdyb3VwLmlzUXVlcnk7CiAgICAgICAgICB2YXIgdmlld3MgPSBVLnBhcnNlQXJyYXkoZ3JvdXAudmFsdWVzKS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGlmICghVS5pc1Bhc3NlZChfdGhpcy51c2VyLCB2YWx1ZS51c2VyUGVybWlzc2lvbnMpKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgdmFyIGtleSA9IFUucGFyc2VLZXkodmFsdWUua2V5KTsKICAgICAgICAgICAgdmFyIHRpdGxlID0gVS5wYXJzZVN0cmluZyh2YWx1ZS50aXRsZSk7CiAgICAgICAgICAgIHZhciBpY29uID0gVS5wYXJzZUljb24odmFsdWUuaWNvbik7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgaWNvbjogaWNvbiwKICAgICAgICAgICAgICB0aXRsZTogdGl0bGUKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAodmlldykgewogICAgICAgICAgICByZXR1cm4gdmlldyAhPT0gbnVsbDsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGZvdW5kID0gZ3JvdXBzLmZpbmQoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICAgIHJldHVybiBncm91cC5rZXkgPT09IGtleTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgZ3JvdXBzLnB1c2goZm91bmQgPSB7CiAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgICAgIGlzTGluazogaXNMaW5rLAogICAgICAgICAgICAgIGlzUXVlcnk6IGlzUXVlcnksCiAgICAgICAgICAgICAgZ3JvdXBzOiBbXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICAoX2ZvdW5kJGdyb3VwcyA9IGZvdW5kLmdyb3VwcykucHVzaC5hcHBseShfZm91bmQkZ3JvdXBzLCBfdG9Db25zdW1hYmxlQXJyYXkodmlld3MpKTsKCiAgICAgICAgICByZXR1cm4gZ3JvdXBzOwogICAgICAgIH0sIFtdKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICBpY29uOiBpY29uLAogICAgICAgICAgdXNlclBlcm1pc3Npb25zOiB1c2VyUGVybWlzc2lvbnMsCiAgICAgICAgICBncm91cHM6IHJldHVyblBhcnNlZEdyb3VwcwogICAgICAgIH07CiAgICAgIH0pOwogICAgICBsaXN0R3JvdXAxLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwMSkgewogICAgICAgIHZhciBsaXN0R3JvdXAyID0gZ3JvdXAxLmdyb3VwczsKICAgICAgICBsaXN0R3JvdXAyLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwMikgewogICAgICAgICAgdmFyIGxpc3RHcm91cDMgPSBncm91cDIuZ3JvdXBzOwoKICAgICAgICAgIGlmIChsaXN0R3JvdXAzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBsaXN0R3JvdXAyLnNwbGljZShsaXN0R3JvdXAyLmluZGV4T2YoZ3JvdXAyKSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGlzdEdyb3VwMTsKICAgIH0sCiAgICBwYXRoczogZnVuY3Rpb24gcGF0aHMoYykgewogICAgICByZXR1cm4gYy4kcm91dGUucGF0aC5zcGxpdCgiLyIpLmZpbHRlcihmdW5jdGlvbiAocGF0aCkgewogICAgICAgIHJldHVybiBwYXRoOwogICAgICB9KTsKICAgIH0sCiAgICBjdXJyZW50UGF0aHM6IGZ1bmN0aW9uIGN1cnJlbnRQYXRocygpIHsKICAgICAgdmFyIGZ1bGxQYXRoID0gdGhpcy4kcm91dGUuZnVsbFBhdGg7CiAgICAgIHZhciBxdWVzdGlvbk1hcmtJbmRleCA9IGZ1bGxQYXRoLmluZGV4T2YoIj8iKTsKCiAgICAgIGlmIChxdWVzdGlvbk1hcmtJbmRleCAhPT0gLTEpIHsKICAgICAgICBmdWxsUGF0aCA9IGZ1bGxQYXRoLnN1YnN0cmluZygwLCBxdWVzdGlvbk1hcmtJbmRleCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmdWxsUGF0aC5zcGxpdCgvWy9dLykuZmlsdGVyKGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgICAgcmV0dXJuIHBhdGg7CiAgICAgIH0pOwogICAgfSwKICAgIGN1cnJlbnRQYWdlS2V5OiBmdW5jdGlvbiBjdXJyZW50UGFnZUtleSgpIHsKICAgICAgdmFyIHBhdGhzID0gdGhpcy5jdXJyZW50UGF0aHM7CiAgICAgIHJldHVybiBwYXRocy5sZW5ndGggPiAwID8gcGF0aHNbMF0gOiAiIjsKICAgIH0sCiAgICBjdXJyZW50Vmlld0tleTogZnVuY3Rpb24gY3VycmVudFZpZXdLZXkoKSB7CiAgICAgIHZhciBwYXRocyA9IHRoaXMuY3VycmVudFBhdGhzOwogICAgICByZXR1cm4gcGF0aHMubGVuZ3RoID4gMSA/IHBhdGhzWzFdIDogIiI7CiAgICB9LAogICAgLy8gYXBwIGxheW91dCBtb2RlCiAgICBBUFBfTEFZT1VUX01PREU6IGZ1bmN0aW9uIEFQUF9MQVlPVVRfTU9ERShjKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgTk9STUFMOiBBcHBMYXlvdXQuTGF5b3V0Lk5PUk1BTCwKICAgICAgICBGVUxMOiBBcHBMYXlvdXQuTGF5b3V0LkZVTEwKICAgICAgfTsKICAgIH0sCiAgICBhcHBMYXlvdXRDdXJyZW50UmVxdWVzdDogZnVuY3Rpb24gYXBwTGF5b3V0Q3VycmVudFJlcXVlc3QoYykgewogICAgICByZXR1cm4gYy5hcHBMYXlvdXQuZ2V0Q3VycmVudExheW91dCgpOwogICAgfSwKICAgIGFwcExheW91dE1vZGU6IGZ1bmN0aW9uIGFwcExheW91dE1vZGUoYykgewogICAgICByZXR1cm4gYy5hcHBMYXlvdXRDdXJyZW50UmVxdWVzdDsKICAgIH0sCiAgICAvLyBuYXZpZ2F0aW9uCiAgICBEUkFXRVJfVklTSUJJTElUWTogZnVuY3Rpb24gRFJBV0VSX1ZJU0lCSUxJVFkoYykgewogICAgICByZXR1cm4gewogICAgICAgIE5PTkU6IE5hdmlnYXRpb24uVmlzaWJpbGl0eS5OT05FLAogICAgICAgIEVYUEFOREVEOiBOYXZpZ2F0aW9uLlZpc2liaWxpdHkuRVhQQU5ERUQsCiAgICAgICAgQ09MTEFQU0VEOiBOYXZpZ2F0aW9uLlZpc2liaWxpdHkuQ09MTEFQU0VECiAgICAgIH07CiAgICB9LAogICAgRFJBV0VSX0xBWU9VVDogZnVuY3Rpb24gRFJBV0VSX0xBWU9VVChjKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgV0lERTogTmF2aWdhdGlvbi5MYXlvdXQuV0lERSwKICAgICAgICBUSElOOiBOYXZpZ2F0aW9uLkxheW91dC5USElOCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFBhdGhzOiBmdW5jdGlvbiBjdXJyZW50UGF0aHMoKSB7CiAgICAgIHRoaXMuY2xvc2VOYXZpZ2F0aW9uRHJhd2VyKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBhcHAgbGF5b3V0CiAgICBzZXRBcHBMYXlvdXQ6IGZ1bmN0aW9uIHNldEFwcExheW91dChsYXlvdXQpIHsKICAgICAgdGhpcy5hcHBMYXlvdXQuc2V0TGF5b3V0KGxheW91dCk7CiAgICB9LAogICAgLy8gbmF2aWdhdGlvbgogICAgb3Blbk5hdmlnYXRpb25EcmF3ZXI6IGZ1bmN0aW9uIG9wZW5OYXZpZ2F0aW9uRHJhd2VyKCkgewogICAgICB0aGlzLm5hdmlnYXRpb24uc2V0VmlzaWJpbGl0eSh0aGlzLkRSQVdFUl9WSVNJQklMSVRZLkVYUEFOREVEKTsKICAgIH0sCiAgICBjbG9zZU5hdmlnYXRpb25EcmF3ZXI6IGZ1bmN0aW9uIGNsb3NlTmF2aWdhdGlvbkRyYXdlcigpIHsKICAgICAgdGhpcy5uYXZpZ2F0aW9uLnNldFZpc2liaWxpdHkodGhpcy5EUkFXRVJfVklTSUJJTElUWS5DT0xMQVBTRUQpOwogICAgfSwKICAgIHNldE5hdmlnYXRpb25EcmF3ZXJWaXNpYmlsaXk6IGZ1bmN0aW9uIHNldE5hdmlnYXRpb25EcmF3ZXJWaXNpYmlsaXkodmlzaWJpbGl0eSkgewogICAgICB0aGlzLm5hdmlnYXRpb24uc2V0VmlzaWJpbGl0eSh2aXNpYmlsaXR5KTsKICAgIH0sCiAgICAvLyBnZXQgZnVsbCBpY29uIHVybCBvbiBzZXJ2ZXIgbG9jYWxob3N0L3Jlcy9pY29uLyR7bmFtZX0uc3ZnCiAgICBpY29uOiBmdW5jdGlvbiBpY29uKG5hbWUpIHsKICAgICAgY29uc29sZS50cmFjZSgpOwogICAgICBjb25zb2xlLndhcm4oInBsZWFzZSBjb25zaWRlciB1c2luZyBob3N0Lmljb24oKSBpbnN0ZWFkIik7CiAgICAgIHJldHVybiB0aGlzLmhvc3QucmVzKCJpY29uLyIuY29uY2F0KG5hbWUsICIuc3ZnIikpOwogICAgfSwKICAgIC8vIHNlbmQgYSBzbmFja2JhciBub3RpZmljYXRpb24KICAgIGZlZWRiYWNrOiBmdW5jdGlvbiBmZWVkYmFjayhwYXJhbSkgewogICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAic3RyaW5nIikgewogICAgICAgIHBhcmFtID0gewogICAgICAgICAgdGV4dDogcGFyYW0KICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLnNuYWNrYmFycy5wdXNoKG5ldyBOb3RpZmljYXRpb24odGhpcywgcGFyYW0pLnNob3coKSk7CiAgICAgIHJldHVybjsKICAgICAgaWYgKHRoaXMuYXBwKSB0aGlzLmFwcC5zaG93U25hY2tiYXIocGFyYW0pOwogICAgfSwKICAgIC8vIGV4dGVybmFsIGludGVyYWN0aW9uCiAgICBjb3B5VGV4dDogZnVuY3Rpb24gY29weVRleHQodGV4dCkgewogICAgICB2YXIgdGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICB0ZXh0YXJlYS52YWx1ZSA9IHRleHQ7CiAgICAgIHRleHRhcmVhLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCAiIik7CiAgICAgIHRleHRhcmVhLnN0eWxlID0gewogICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgIGxlZnQ6ICItOTk5OXB4IgogICAgICB9OwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRhcmVhKTsKICAgICAgdGV4dGFyZWEuc2VsZWN0KCk7CiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAgIHRleHRhcmVhLnJlbW92ZSgpOwogICAgfSwKICAgIG9wZW5MaW5rOiBmdW5jdGlvbiBvcGVuTGluayhsaW5rKSB7CiAgICAgIHZhciB0YXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICJfYmxhbmsiOwogICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgYS5zdHlsZSA9IHsKICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICBvcGFjaXR5OiAiMCIsCiAgICAgICAgInBvaW50ZXItZXZlbnRzIjogIm5vbmUiCiAgICAgIH07CiAgICAgIGEuaHJlZiA9IGxpbms7CiAgICAgIGEudGFyZ2V0ID0gdGFyZ2V0OwogICAgICBhLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoImNsaWNrIiwgewogICAgICAgIHZpZXc6IHdpbmRvdywKICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgIGNhbmNlbGFibGU6IGZhbHNlCiAgICAgIH0pKTsKICAgICAgYS5yZW1vdmUoKTsKICAgIH0sCiAgICBwdXNoRG93bmxvYWQ6IGZ1bmN0aW9uIHB1c2hEb3dubG9hZChmaWxlbmFtZSwgY29udGVudCkgewogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgZWxlbWVudC5ocmVmID0gImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChjb250ZW50KSk7CiAgICAgIGVsZW1lbnQuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgZWxlbWVudC5jbGljaygpOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgfSwKICAgIHByaW50OiBmdW5jdGlvbiBwcmludChlbGVtZW50KSB7CiAgICAgIC8vIGxldCBQSEUgPSByZXF1aXJlKCJwcmludC1odG1sLWVsZW1lbnQiKTsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc2ltcGxlLXByaW50CiAgICAgIC8vIFBIRS5wcmludEVsZW1lbnQoZWxlbWVudCk7CiAgICAgIHZhciBlV2luZG93ID0gd2luZG93Lm9wZW4oIiIsICJQUklOVCIsICJoZWlnaHQ9NDAwLHdpZHRoPTYwMCIpOwogICAgICBlV2luZG93LmRvY3VtZW50LndyaXRlKCI8aHRtbD4iKTsKICAgICAgZVdpbmRvdy5kb2N1bWVudC53cml0ZSgiPGhlYWQ+Iik7CiAgICAgIGVXaW5kb3cuZG9jdW1lbnQud3JpdGUoIjx0aXRsZT4iLmNvbmNhdChkb2N1bWVudC50aXRsZSwgIjwvdGl0bGU+IikpOwogICAgICBlV2luZG93LmRvY3VtZW50LndyaXRlKCI8L2hlYWQ+Iik7CiAgICAgIGVXaW5kb3cuZG9jdW1lbnQud3JpdGUoIjxib2R5PiIpOwogICAgICBlV2luZG93LmRvY3VtZW50LndyaXRlKGVsZW1lbnQuaW5uZXJIVE1MKTsKICAgICAgZVdpbmRvdy5kb2N1bWVudC53cml0ZSgiPC9ib2R5PiIpOyAvLyBjb25zb2xlLmxvZyhlbGVtZW50LmlubmVySFRNTCk7CiAgICAgIC8vIGZ1bmN0aW9uIGR1bXBDU1NUZXh0KGVsZW1lbnQpIHsKICAgICAgLy8gCWxldCBzdHIgPSAiIjsKICAgICAgLy8gCWxldCBvYmogPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpOwogICAgICAvLyAJZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gCQlzdHIgKz0gYCR7b2JqW2ldfToke29iai5nZXRQcm9wZXJ0eVZhbHVlKG9ialtpXSl9O2A7CiAgICAgIC8vIAl9CiAgICAgIC8vIAlyZXR1cm4gc3RyOwogICAgICAvLyB9CiAgICAgIC8vIGNvbnNvbGUubG9nKGR1bXBDU1NUZXh0KGVsZW1lbnQpKTsKCiAgICAgIGVXaW5kb3cuZG9jdW1lbnQud3JpdGUoIjwvaHRtbD4iKTsKICAgICAgZVdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwCgogICAgICBlV2luZG93LmZvY3VzKCk7IC8vIG5lY2Vzc2FyeSBmb3IgSUUgPj0gMTAqLwoKICAgICAgZVdpbmRvdy5wcmludCgpOwogICAgICBlV2luZG93LmNsb3NlKCk7CiAgICB9LAogICAgLy8gcm91dGVzCiAgICBuZXh0Um91dGU6IGZ1bmN0aW9uIG5leHRSb3V0ZSgpIHsKICAgICAgdmFyIHBhcmFtID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdGhpcy5zZXRSb3V0ZShwYXJhbSwgdHJ1ZSk7CiAgICB9LAogICAgcmVwbGFjZVJvdXRlOiBmdW5jdGlvbiByZXBsYWNlUm91dGUoKSB7CiAgICAgIHZhciBwYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHRoaXMuc2V0Um91dGUocGFyYW0sIGZhbHNlKTsKICAgIH0sCiAgICBzZXRSb3V0ZTogZnVuY3Rpb24gc2V0Um91dGUoKSB7CiAgICAgIHZhciBwYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciBpc05leHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciBxdWVyeSA9IFUuY29uZmluZVJvdXRlUXVlcnkodGhpcy4kcm91dGUucXVlcnksIHBhcmFtLnF1ZXJ5KTsKICAgICAgaWYgKGlzTmV4dCkgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTtlbHNlIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgfSk7CiAgICB9LAogICAgLy8gd2luZG93CiAgICBpbnZhbGlkYXRlV2luZG93OiBmdW5jdGlvbiBpbnZhbGlkYXRlV2luZG93KCkgewogICAgICB0aGlzLndpbmRvdy5pbm5lcldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHRoaXMud2luZG93LmlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYXBwTGF5b3V0ID0gbmV3IEFwcExheW91dCh0aGlzKTsKICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKHRoaXMpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuaW52YWxpZGF0ZVdpbmRvdyk7IC8vIHRvZG8gaW1wbGVtZW50IGluaGVyaXRhYmxlIG9uQmFjayBmdW5jdGlvbnMKICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIChldmVudCkgPT4gewogICAgLy8gICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgLy8gfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbnZhbGlkYXRlV2luZG93KCk7CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihjcmVhdGVFbGVtZW50KSB7CiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChBcHApOwogIH0KfSkuJG1vdW50KCIjYXBwIik7"},{"version":3,"sources":["C:/dev/freshnet-v2/vue/src/main.js"],"names":["AppLayout","Navigation","Notification","TimeNowGetter","ApiHost","Vue","Router","Stores","Mixin","App","config","productionTip","prototype","host","mixin","U","object","Object","keys","map","key","value","previousQuery","nextQuery","nextQueries","objectToArray","queries","isChanged","query","current","find","undefined","push","splice","indexOf","reduce","newQuery","obj","str","user","permissions","Array","isArray","isAdmin","isTypeAdmin","isStaff","isTypeStaff","length","includes","icon","isObject","light","res","dark","isString","trim","replace","array","parseArray","title","values","children","userPermissions","router","store","data","console","log","param1","param2","error","keyGetter","window","innerWidth","innerHeight","appLayout","navigation","snackbars","computed","c","loginStore","getters","app","$children","pages","_children","listGroup1","page","_groups","_queries","parseKey","parseString","parseIcon","groups","parsedChildren","parseGroup2s","isLink","isQuery","parsedGroups","parsedQueries","returnParsedGroups","group","isPassed","unshift","views","filter","view","found","forEach","group1","listGroup2","group2","listGroup3","paths","$route","path","split","currentPaths","fullPath","questionMarkIndex","substring","currentPageKey","currentViewKey","APP_LAYOUT_MODE","NORMAL","Layout","FULL","appLayoutCurrentRequest","getCurrentLayout","appLayoutMode","DRAWER_VISIBILITY","NONE","Visibility","EXPANDED","COLLAPSED","DRAWER_LAYOUT","WIDE","THIN","watch","closeNavigationDrawer","methods","setAppLayout","layout","setLayout","openNavigationDrawer","setVisibility","setNavigationDrawerVisibiliy","visibility","name","trace","warn","feedback","param","text","show","showSnackbar","copyText","textarea","document","createElement","setAttribute","style","position","left","body","appendChild","select","execCommand","remove","openLink","link","target","a","opacity","href","dispatchEvent","MouseEvent","bubbles","cancelable","pushDownload","filename","content","element","encodeURIComponent","download","click","removeChild","print","eWindow","open","write","innerHTML","close","focus","nextRoute","setRoute","replaceRoute","isNext","confineRouteQuery","$router","invalidateWindow","created","addEventListener","mounted","render","$mount"],"mappings":"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","sourcesContent":["// tools\r\nimport AppLayout from \"./tools/AppLayout.js\";\r\nimport Navigation from \"./tools/Navigation.js\";\r\nimport Notification from \"./tools/Notification.js\";\r\nimport TimeNowGetter from \"./tools/TimeNowGetter.js\";\r\nimport ApiHost from \"./host/ApiHost.js\";\r\n\r\n// vue\r\nimport Vue from \"vue\";\r\nimport Router from \"./main.router.js\";\r\nimport Stores from \"./main.stores.js\";\r\nimport Mixin from \"./main.mixin.js\";\r\n\r\n// app\r\nimport App from \"./app/App.vue\";\r\n\r\nVue.config.productionTip = false;\r\nVue.prototype.host = ApiHost;\r\nVue.mixin(Mixin);\r\n\r\nclass U {\r\n\tstatic objectToArray(object = {}) {\r\n\t\treturn Object.keys(typeof object === \"object\" ? object : {}).map((key) => ({\r\n\t\t\tkey,\r\n\t\t\tvalue: object[key],\r\n\t\t}));\r\n\t}\r\n\tstatic confineRouteQuery(previousQuery, nextQuery) {\r\n\t\tlet nextQueries = U.objectToArray(previousQuery);\r\n\t\tlet queries = U.objectToArray(nextQuery);\r\n\t\tlet isChanged = false;\r\n\r\n\t\tfor (let query of queries) {\r\n\t\t\tconst current = nextQueries.find((current) => current.key === query.key);\r\n\r\n\t\t\tif (current && current.value !== query.value) {\r\n\t\t\t\tcurrent.value = query.value;\r\n\t\t\t\tisChanged = true;\r\n\t\t\t} else if (!current && query.value !== null && query.value !== undefined) {\r\n\t\t\t\tnextQueries.push({ key: query.key, value: query.value });\r\n\t\t\t\tisChanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (current && current.value === null) {\r\n\t\t\t\tnextQueries.splice(nextQueries.indexOf(current), 1);\r\n\t\t\t\tisChanged = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!isChanged) return;\r\n\r\n\t\treturn nextQueries.reduce((query, newQuery) => {\r\n\t\t\tquery[newQuery.key] = newQuery.value;\r\n\t\t\treturn query;\r\n\t\t}, {});\r\n\t}\r\n\r\n\tstatic isObject(obj) {\r\n\t\treturn typeof obj === \"object\";\r\n\t}\r\n\tstatic isString(str) {\r\n\t\treturn typeof str === \"string\";\r\n\t}\r\n\tstatic isPassed(user, permissions) {\r\n\t\tpermissions = Array.isArray(permissions) ? permissions : [];\r\n\r\n\t\tconst isAdmin = user ? user.isTypeAdmin() : false;\r\n\t\tconst isStaff = user ? user.isTypeStaff() : false;\r\n\r\n\t\tif (permissions.length > 0) {\r\n\t\t\tif (isAdmin && !permissions.includes(\"admin\")) return false;\r\n\t\t\tif (isStaff && !permissions.includes(\"staff\")) return false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tstatic parseIcon(icon) {\r\n\t\ticon = U.isObject(icon) ? icon : null;\r\n\t\tif (icon === null) return null;\r\n\t\tconst light = icon === null ? \"\" : ApiHost.res(`icon/${icon.light}.svg`);\r\n\t\tconst dark = icon === null ? \"\" : ApiHost.res(`icon/${icon.dark}.svg`);\r\n\t\treturn { light, dark };\r\n\t}\r\n\r\n\tstatic parseKey(str) {\r\n\t\treturn this.isString(str) ? str.trim().replace(\" \", \"\") : \"\";\r\n\t}\r\n\tstatic parseArray(array) {\r\n\t\treturn Array.isArray(array) ? array : [];\r\n\t}\r\n\tstatic parseObject(obj) {\r\n\t\treturn this.isObject(obj) ? obj : {};\r\n\t}\r\n\tstatic parseString(str) {\r\n\t\treturn this.isString(str) ? str : \"\";\r\n\t}\r\n\r\n\tstatic parseGroup2s(array) {\r\n\t\treturn U.parseArray(array).map((obj) => {\r\n\t\t\treturn {\r\n\t\t\t\tkey: obj.key,\r\n\t\t\t\ttitle: obj.title,\r\n\t\t\t\ticon: obj.icon,\r\n\t\t\t\tvalues: obj.values,\r\n\t\t\t\tchildren: obj.children,\r\n\t\t\t\tuserPermissions: obj.userPermissions,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n}\r\n\r\nnew Vue({\r\n\thost: ApiHost,\r\n\trouter: Router,\r\n\tstore: Stores.store,\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tconsole: {\r\n\t\t\t\tlog(param1, param2) {\r\n\t\t\t\t\tparam2 === undefined ? console.log(param1) : console.log(param1, param2);\r\n\t\t\t\t},\r\n\t\t\t\terror(param1, param2) {\r\n\t\t\t\t\tparam2 === undefined\r\n\t\t\t\t\t\t? console.error(param1)\r\n\t\t\t\t\t\t: console.error(param1, param2);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tkeyGetter: new TimeNowGetter(),\r\n\t\t\twindow: { innerWidth: 0, innerHeight: 0 },\r\n\r\n\t\t\tappLayout: null,\r\n\t\t\tnavigation: null,\r\n\t\t\tsnackbars: [],\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tuser: (c) => c.loginStore.getters.user,\r\n\r\n\t\t// app\r\n\t\tapp: (c) => (c.$children.length ? c.$children[0] : null),\r\n\r\n\t\t// pages\r\n\t\tpages() {\r\n\t\t\tconst pages = U.parseArray(App._children());\r\n\t\t\tif (pages.length < 1) return [];\r\n\r\n\t\t\tconst listGroup1 = pages.map((page) => {\r\n\t\t\t\t// get property\r\n\t\t\t\tlet { key, title, icon, userPermissions } = page;\r\n\t\t\t\tconst { _children, _groups, _queries } = page;\r\n\r\n\t\t\t\t// get ready\r\n\t\t\t\tkey = U.parseKey(page.key);\r\n\t\t\t\ttitle = U.parseString(page.title).trim();\r\n\t\t\t\ticon = U.parseIcon(page.icon);\r\n\t\t\t\tconst children = typeof _children === \"function\" ? _children() : [];\r\n\t\t\t\tconst groups = typeof _groups === \"function\" ? _groups() : [];\r\n\t\t\t\tconst queries = typeof _queries === \"function\" ? _queries() : [];\r\n\r\n\t\t\t\t// parsing\r\n\t\t\t\tconst parsedChildren = U.parseGroup2s([{ values: children }]).map((obj) => {\r\n\t\t\t\t\tobj.isLink = true;\r\n\t\t\t\t\tobj.isQuery = false;\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t});\r\n\t\t\t\tconst parsedGroups = U.parseGroup2s(groups).map((obj) => {\r\n\t\t\t\t\tobj.isLink = true;\r\n\t\t\t\t\tobj.isQuery = false;\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t});\r\n\t\t\t\tconst parsedQueries = U.parseGroup2s(queries).map((obj) => {\r\n\t\t\t\t\tobj.isLink = true;\r\n\t\t\t\t\tobj.isQuery = true;\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst returnParsedGroups = [\r\n\t\t\t\t\t...parsedChildren,\r\n\t\t\t\t\t...parsedGroups,\r\n\t\t\t\t\t...parsedQueries,\r\n\t\t\t\t]\r\n\t\t\t\t\t.map((group) => {\r\n\t\t\t\t\t\tif (!U.isPassed(this.user, group.userPermissions)) return group;\r\n\r\n\t\t\t\t\t\tgroup.key = U.parseKey(group.key);\r\n\t\t\t\t\t\tgroup.title = U.parseString(group.title);\r\n\r\n\t\t\t\t\t\tif (!Array.isArray(group.values)) group.values = [];\r\n\t\t\t\t\t\tif (Array.isArray(group.children))\r\n\t\t\t\t\t\t\tgroup.values.unshift(...group.children);\r\n\r\n\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.reduce((groups, group) => {\r\n\t\t\t\t\t\tif (!U.isPassed(this.user, group.userPermissions)) return groups;\r\n\r\n\t\t\t\t\t\t// get property\r\n\t\t\t\t\t\tlet { key, title } = group;\r\n\t\t\t\t\t\tconst { isLink, isQuery } = group;\r\n\r\n\t\t\t\t\t\tconst views = U.parseArray(group.values)\r\n\t\t\t\t\t\t\t.map((value) => {\r\n\t\t\t\t\t\t\t\tif (!U.isPassed(this.user, value.userPermissions)) return null;\r\n\t\t\t\t\t\t\t\tconst key = U.parseKey(value.key);\r\n\t\t\t\t\t\t\t\tconst title = U.parseString(value.title);\r\n\t\t\t\t\t\t\t\tconst icon = U.parseIcon(value.icon);\r\n\t\t\t\t\t\t\t\treturn { key, icon, title };\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.filter((view) => view !== null);\r\n\r\n\t\t\t\t\t\tlet found = groups.find((group) => group.key === key);\r\n\t\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\t\tgroups.push((found = { key, title, isLink, isQuery, groups: [] }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfound.groups.push(...views);\r\n\r\n\t\t\t\t\t\treturn groups;\r\n\t\t\t\t\t}, []);\r\n\r\n\t\t\t\treturn { key, title, icon, userPermissions, groups: returnParsedGroups };\r\n\t\t\t});\r\n\r\n\t\t\tlistGroup1.forEach((group1) => {\r\n\t\t\t\tconst listGroup2 = group1.groups;\r\n\t\t\t\tlistGroup2.forEach((group2) => {\r\n\t\t\t\t\tconst listGroup3 = group2.groups;\r\n\t\t\t\t\tif (listGroup3.length === 0) {\r\n\t\t\t\t\t\tlistGroup2.splice(listGroup2.indexOf(group2), 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn listGroup1;\r\n\t\t},\r\n\t\tpaths: (c) => c.$route.path.split(\"/\").filter((path) => path),\r\n\t\tcurrentPaths() {\r\n\t\t\tlet { fullPath } = this.$route;\r\n\r\n\t\t\tlet questionMarkIndex = fullPath.indexOf(\"?\");\r\n\t\t\tif (questionMarkIndex !== -1) {\r\n\t\t\t\tfullPath = fullPath.substring(0, questionMarkIndex);\r\n\t\t\t}\r\n\r\n\t\t\treturn fullPath.split(/[/]/).filter((path) => path);\r\n\t\t},\r\n\t\tcurrentPageKey() {\r\n\t\t\tlet paths = this.currentPaths;\r\n\t\t\treturn paths.length > 0 ? paths[0] : \"\";\r\n\t\t},\r\n\t\tcurrentViewKey() {\r\n\t\t\tlet paths = this.currentPaths;\r\n\t\t\treturn paths.length > 1 ? paths[1] : \"\";\r\n\t\t},\r\n\r\n\t\t// app layout mode\r\n\t\tAPP_LAYOUT_MODE: (c) => ({\r\n\t\t\tNORMAL: AppLayout.Layout.NORMAL,\r\n\t\t\tFULL: AppLayout.Layout.FULL,\r\n\t\t}),\r\n\t\tappLayoutCurrentRequest: (c) => c.appLayout.getCurrentLayout(),\r\n\t\tappLayoutMode: (c) => c.appLayoutCurrentRequest,\r\n\r\n\t\t// navigation\r\n\t\tDRAWER_VISIBILITY: (c) => {\r\n\t\t\treturn {\r\n\t\t\t\tNONE: Navigation.Visibility.NONE,\r\n\t\t\t\tEXPANDED: Navigation.Visibility.EXPANDED,\r\n\t\t\t\tCOLLAPSED: Navigation.Visibility.COLLAPSED,\r\n\t\t\t};\r\n\t\t},\r\n\t\tDRAWER_LAYOUT: (c) => {\r\n\t\t\treturn {\r\n\t\t\t\tWIDE: Navigation.Layout.WIDE,\r\n\t\t\t\tTHIN: Navigation.Layout.THIN,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tcurrentPaths() {\r\n\t\t\tthis.closeNavigationDrawer();\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\t// app layout\r\n\t\tsetAppLayout(layout) {\r\n\t\t\tthis.appLayout.setLayout(layout);\r\n\t\t},\r\n\r\n\t\t// navigation\r\n\t\topenNavigationDrawer() {\r\n\t\t\tthis.navigation.setVisibility(this.DRAWER_VISIBILITY.EXPANDED);\r\n\t\t},\r\n\t\tcloseNavigationDrawer() {\r\n\t\t\tthis.navigation.setVisibility(this.DRAWER_VISIBILITY.COLLAPSED);\r\n\t\t},\r\n\t\tsetNavigationDrawerVisibiliy(visibility) {\r\n\t\t\tthis.navigation.setVisibility(visibility);\r\n\t\t},\r\n\r\n\t\t// get full icon url on server localhost/res/icon/${name}.svg\r\n\t\ticon(name) {\r\n\t\t\tconsole.trace();\r\n\t\t\tconsole.warn(\"please consider using host.icon() instead\");\r\n\t\t\treturn this.host.res(`icon/${name}.svg`);\r\n\t\t},\r\n\r\n\t\t// send a snackbar notification\r\n\t\tfeedback(param) {\r\n\t\t\tif (typeof param === \"string\") {\r\n\t\t\t\tparam = { text: param };\r\n\t\t\t}\r\n\r\n\t\t\tthis.snackbars.push(new Notification(this, param).show());\r\n\r\n\t\t\treturn;\r\n\t\t\tif (this.app) this.app.showSnackbar(param);\r\n\t\t},\r\n\r\n\t\t// external interaction\r\n\t\tcopyText(text) {\r\n\t\t\tconst textarea = document.createElement(\"textarea\");\r\n\t\t\ttextarea.value = text;\r\n\t\t\ttextarea.setAttribute(\"readonly\", \"\");\r\n\t\t\ttextarea.style = { position: \"absolute\", left: \"-9999px\" };\r\n\t\t\tdocument.body.appendChild(textarea);\r\n\t\t\ttextarea.select();\r\n\t\t\tdocument.execCommand(\"copy\");\r\n\t\t\ttextarea.remove();\r\n\t\t},\r\n\t\topenLink(link, target = \"_blank\") {\r\n\t\t\tlet a = document.createElement(\"a\");\r\n\t\t\ta.style = {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\topacity: \"0\",\r\n\t\t\t\t\"pointer-events\": \"none\",\r\n\t\t\t};\r\n\t\t\ta.href = link;\r\n\t\t\ta.target = target;\r\n\t\t\ta.dispatchEvent(\r\n\t\t\t\tnew MouseEvent(\"click\", {\r\n\t\t\t\t\tview: window,\r\n\t\t\t\t\tbubbles: true,\r\n\t\t\t\t\tcancelable: false,\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t\ta.remove();\r\n\t\t},\r\n\t\tpushDownload(filename, content) {\r\n\t\t\tconst element = document.createElement(\"a\");\r\n\t\t\telement.href = `data:text/plain;charset=utf-8,${encodeURIComponent(content)}`;\r\n\t\t\telement.download = filename;\r\n\t\t\tdocument.body.appendChild(element);\r\n\t\t\telement.click();\r\n\t\t\tdocument.body.removeChild(element);\r\n\t\t},\r\n\t\tprint(element) {\r\n\t\t\t// let PHE = require(\"print-html-element\"); // https://www.npmjs.com/package/simple-print\r\n\t\t\t// PHE.printElement(element);\r\n\r\n\t\t\tconst eWindow = window.open(\"\", \"PRINT\", \"height=400,width=600\");\r\n\r\n\t\t\teWindow.document.write(\"<html>\");\r\n\r\n\t\t\teWindow.document.write(\"<head>\");\r\n\t\t\teWindow.document.write(`<title>${document.title}</title>`);\r\n\t\t\teWindow.document.write(\"</head>\");\r\n\r\n\t\t\teWindow.document.write(\"<body>\");\r\n\t\t\teWindow.document.write(element.innerHTML);\r\n\t\t\teWindow.document.write(\"</body>\");\r\n\r\n\t\t\t// console.log(element.innerHTML);\r\n\r\n\t\t\t// function dumpCSSText(element) {\r\n\t\t\t// \tlet str = \"\";\r\n\t\t\t// \tlet obj = getComputedStyle(element);\r\n\t\t\t// \tfor (let i = 0; i < obj.length; i++) {\r\n\t\t\t// \t\tstr += `${obj[i]}:${obj.getPropertyValue(obj[i])};`;\r\n\t\t\t// \t}\r\n\t\t\t// \treturn str;\r\n\t\t\t// }\r\n\r\n\t\t\t// console.log(dumpCSSText(element));\r\n\r\n\t\t\teWindow.document.write(\"</html>\");\r\n\r\n\t\t\teWindow.document.close(); // necessary for IE >= 10\r\n\t\t\teWindow.focus(); // necessary for IE >= 10*/\r\n\r\n\t\t\teWindow.print();\r\n\t\t\teWindow.close();\r\n\t\t},\r\n\r\n\t\t// routes\r\n\t\tnextRoute(param = {}) {\r\n\t\t\tthis.setRoute(param, true);\r\n\t\t},\r\n\t\treplaceRoute(param = {}) {\r\n\t\t\tthis.setRoute(param, false);\r\n\t\t},\r\n\t\tsetRoute(param = {}, isNext = true) {\r\n\t\t\tlet query = U.confineRouteQuery(this.$route.query, param.query);\r\n\t\t\tif (isNext) this.$router.push({ query });\r\n\t\t\telse this.$router.replace({ query });\r\n\t\t},\r\n\r\n\t\t// window\r\n\t\tinvalidateWindow() {\r\n\t\t\tthis.window.innerWidth = window.innerWidth;\r\n\t\t\tthis.window.innerHeight = window.innerHeight;\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.appLayout = new AppLayout(this);\r\n\t\tthis.navigation = new Navigation(this);\r\n\t\twindow.addEventListener(\"resize\", this.invalidateWindow);\r\n\r\n\t\t// todo implement inheritable onBack functions\r\n\t\t// window.addEventListener(\"keyup\", (event) => {\r\n\t\t//    console.log(event);\r\n\t\t// });\r\n\t},\r\n\tmounted() {\r\n\t\tthis.invalidateWindow();\r\n\t},\r\n\r\n\trender: (createElement) => createElement(App),\r\n}).$mount(\"#app\");\r\n"]}]}