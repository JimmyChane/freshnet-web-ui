{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\service\\ListEvents.vue","mtime":1666360294406},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IEl0ZW1FdmVudCBmcm9tICIuL0l0ZW1FdmVudC52dWUiOwppbXBvcnQgeyBnZXREYXksIHByZXZpb3VzRGF5LCBlbmRPZkRheSwgZm9ybWF0IH0gZnJvbSAiZGF0ZS1mbnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSXRlbUV2ZW50OiBJdGVtRXZlbnQKICB9LAogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ3JvdXBzOiBmdW5jdGlvbiBncm91cHMoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAoZ3JvdXBzLCBpdGVtKSB7CiAgICAgICAgdmFyIHRzID0gaXRlbS50aW1lc3RhbXA7CiAgICAgICAgdmFyIHRpbWUgPSB0cy50aW1lOwoKICAgICAgICB2YXIgaXNXaXRoaW5XZWVrID0gZnVuY3Rpb24gaXNXaXRoaW5XZWVrKCkgewogICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICAgIHZhciBkYXlXZWVrID0gZ2V0RGF5KHRvZGF5KTsKICAgICAgICAgIHZhciBkYXlXZWVrUHJldmlvdXMgPSBwcmV2aW91c0RheSh0b2RheSwgZGF5V2Vlayk7CiAgICAgICAgICB2YXIgdGltZVN0YXJ0V2VlayA9IGVuZE9mRGF5KGRheVdlZWtQcmV2aW91cyk7CiAgICAgICAgICByZXR1cm4gdGltZSA+IHRpbWVTdGFydFdlZWs7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIG9wdEdyb3VwID0gZnVuY3Rpb24gb3B0R3JvdXAodGl0bGUpIHsKICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwcy5maW5kKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgICAgICByZXR1cm4gZ3JvdXAudGl0bGUgPT09IHRpdGxlOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoIWdyb3VwKSBncm91cHMucHVzaChncm91cCA9IHsKICAgICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgICBpdGVtczogW10KICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGdyb3VwOwogICAgICAgIH07CgogICAgICAgIHZhciBwdXRJdGVtID0gZnVuY3Rpb24gcHV0SXRlbSh0aXRsZSkgewogICAgICAgICAgcmV0dXJuIG9wdEdyb3VwKHRpdGxlKS5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgIH07CgogICAgICAgIGlmICh0cy5pc1RvZGF5KCkpIHB1dEl0ZW0oIlRvZGF5Iik7ZWxzZSBpZiAodHMuaXNZZXN0ZXJkYXkoKSkgcHV0SXRlbSgiWWVzdGVyZGF5Iik7ZWxzZSBpZiAoaXNXaXRoaW5XZWVrKCkpIHB1dEl0ZW0oZm9ybWF0KHRpbWUsICJFRUVFLCBkZC9MTC95eXl5IikpO2Vsc2UgaWYgKHRzLmlzVGhpc1llYXIoKSkgcHV0SXRlbShmb3JtYXQodGltZSwgImRkL0xML3l5eXkiKSk7ZWxzZSBwdXRJdGVtKHRzLmdldFllYXIoKS50b1N0cmluZygpKTsKICAgICAgICByZXR1cm4gZ3JvdXBzOwogICAgICB9LCBbXSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ListEvents.vue"],"names":[],"mappings":";;;AACA,OAAA,SAAA,MAAA,iBAAA;AACA,SAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,MAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AAAA,MAAA,IAAA,EAAA,KAAA;AAAA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,MAAA,EAAA,IAAA,EAAA;AACA,YAAA,EAAA,GAAA,IAAA,CAAA,SAAA;AACA,YAAA,IAAA,GAAA,EAAA,CAAA,IAAA;;AAEA,YAAA,YAAA,GAAA,SAAA,YAAA,GAAA;AACA,cAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,KAAA,CAAA;AACA,cAAA,eAAA,GAAA,WAAA,CAAA,KAAA,EAAA,OAAA,CAAA;AACA,cAAA,aAAA,GAAA,QAAA,CAAA,eAAA,CAAA;AACA,iBAAA,IAAA,GAAA,aAAA;AACA,SANA;;AAQA,YAAA,QAAA,GAAA,SAAA,QAAA,CAAA,KAAA,EAAA;AACA,cAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,UAAA,KAAA;AAAA,mBAAA,KAAA,CAAA,KAAA,KAAA,KAAA;AAAA,WAAA,CAAA;AACA,cAAA,CAAA,KAAA,EAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA;AAAA,YAAA,KAAA,EAAA,KAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA;AACA,iBAAA,KAAA;AACA,SAJA;;AAKA,YAAA,OAAA,GAAA,SAAA,OAAA,CAAA,KAAA;AAAA,iBAAA,QAAA,CAAA,KAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAAA,SAAA;;AAEA,YAAA,EAAA,CAAA,OAAA,EAAA,EAAA,OAAA,CAAA,OAAA,CAAA,CAAA,KACA,IAAA,EAAA,CAAA,WAAA,EAAA,EAAA,OAAA,CAAA,WAAA,CAAA,CAAA,KACA,IAAA,YAAA,EAAA,EAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA,kBAAA,CAAA,CAAA,CAAA,KACA,IAAA,EAAA,CAAA,UAAA,EAAA,EAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA,YAAA,CAAA,CAAA,CAAA,KACA,OAAA,CAAA,EAAA,CAAA,OAAA,GAAA,QAAA,EAAA,CAAA;AAEA,eAAA,MAAA;AACA,OA1BA,EA0BA,EA1BA,CAAA;AA2BA;AA7BA;AALA,CAAA","sourcesContent":["<script>\r\n\timport ItemEvent from \"./ItemEvent.vue\";\r\n\timport { getDay, previousDay, endOfDay, format } from \"date-fns\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ItemEvent },\r\n\t\tprops: {\r\n\t\t\titems: { type: Array, default: () => [] },\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgroups() {\r\n\t\t\t\treturn this.items.reduce((groups, item) => {\r\n\t\t\t\t\tconst ts = item.timestamp;\r\n\t\t\t\t\tconst time = ts.time;\r\n\r\n\t\t\t\t\tconst isWithinWeek = () => {\r\n\t\t\t\t\t\tconst today = new Date();\r\n\t\t\t\t\t\tconst dayWeek = getDay(today);\r\n\t\t\t\t\t\tconst dayWeekPrevious = previousDay(today, dayWeek);\r\n\t\t\t\t\t\tconst timeStartWeek = endOfDay(dayWeekPrevious);\r\n\t\t\t\t\t\treturn time > timeStartWeek;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tconst optGroup = (title) => {\r\n\t\t\t\t\t\tlet group = groups.find((group) => group.title === title);\r\n\t\t\t\t\t\tif (!group) groups.push((group = { title, items: [] }));\r\n\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst putItem = (title) => optGroup(title).items.push(item);\r\n\r\n\t\t\t\t\tif (ts.isToday()) putItem(\"Today\");\r\n\t\t\t\t\telse if (ts.isYesterday()) putItem(\"Yesterday\");\r\n\t\t\t\t\telse if (isWithinWeek()) putItem(format(time, \"EEEE, dd/LL/yyyy\"));\r\n\t\t\t\t\telse if (ts.isThisYear()) putItem(format(time, \"dd/LL/yyyy\"));\r\n\t\t\t\t\telse putItem(ts.getYear().toString());\r\n\r\n\t\t\t\t\treturn groups;\r\n\t\t\t\t}, []);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"ListEvents\">\r\n\t\t<div class=\"ListEvents-group\" v-for=\"group of groups\" :key=\"group.title\">\r\n\t\t\t<span class=\"ListEvents-group-title\" v-if=\"group.title\">{{ group.title }}</span>\r\n\r\n\t\t\t<ItemEvent\r\n\t\t\t\tclass=\"ListEvents-group-item\"\r\n\t\t\t\tv-for=\"item of group.items\"\r\n\t\t\t\t:key=\"item.timestamp.time\"\r\n\t\t\t\t:item=\"item\"\r\n\t\t\t\t@callback-delete=\"(item) => $emit('click-item-delete', item)\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.ListEvents {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.ListEvents-group {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.ListEvents-group-title {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t\tbackground: hsl(0, 0%, 98%);\r\n\t\t\t\tborder-bottom: 1px solid hsla(0, 0%, 0%, 0.1);\r\n\t\t\t\tpadding: 0.2rem 0.4rem;\r\n\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\tposition: sticky;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tz-index: 3;\r\n\t\t\t}\r\n\t\t\t.ListEvents-group-item {\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/pages/service"}]}