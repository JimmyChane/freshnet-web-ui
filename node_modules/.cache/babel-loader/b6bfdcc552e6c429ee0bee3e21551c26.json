{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\Customer.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\Customer.js","mtime":1668339820155},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxkZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgTW9kdWxlQ3VzdG9tZXIgZnJvbSAiLi9kYXRhL0N1c3RvbWVyLmpzIjsKaW1wb3J0IFBob25lTnVtYmVyIGZyb20gIi4vUGhvbmVOdW1iZXIuanMiOwppbXBvcnQgSXRlbVNlYXJjaGVyIGZyb20gIi4vdG9vbHMvSXRlbVNlYXJjaGVyLmpzIjsKdmFyIHRleHRDb250YWlucyA9IEl0ZW1TZWFyY2hlci50ZXh0Q29udGFpbnM7CmltcG9ydCBVIGZyb20gIkAvVS5qcyI7Cgp2YXIgQ3VzdG9tZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEN1c3RvbWVyKHN0b3JlcykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1c3RvbWVyKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInN0b3JlcyIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3VzdG9tZXJTdG9yZSIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaWQiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJuYW1lIiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicGhvbmVOdW1iZXIiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJkZXNjcmlwdGlvbiIsICIiKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImRldmljZUlkcyIsIFtdKTsKCiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlczsKICAgIHRoaXMuY3VzdG9tZXJTdG9yZSA9IHN0b3Jlcy5jdXN0b21lcjsKICB9CgogIF9jcmVhdGVDbGFzcyhDdXN0b21lciwgW3sKICAgIGtleTogImZyb21EYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRGF0YShkYXRhKSB7CiAgICAgIGRhdGEgPSBNb2R1bGVDdXN0b21lci50cmltKGRhdGEpOwogICAgICB0aGlzLmlkID0gZGF0YS5faWQ7CiAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTsKICAgICAgdGhpcy5waG9uZU51bWJlciA9IGRhdGEucGhvbmVOdW1iZXIgPyBuZXcgUGhvbmVOdW1iZXIodGhpcy5zdG9yZXMpLmZyb21EYXRhKGRhdGEucGhvbmVOdW1iZXIpIDogbnVsbDsKICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFUub3B0U3RyaW5nKGRhdGEuZGVzY3JpcHRpb24pOwogICAgICB0aGlzLmRldmljZUlkcyA9IFUub3B0QXJyYXkoZGF0YS5kZXZpY2VJZHMpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0RhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvRGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBfaWQ6IHRoaXMuaWQsCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgIHBob25lTnVtYmVyOiB0aGlzLnBob25lTnVtYmVyID8gdGhpcy5waG9uZU51bWJlci50b0RhdGEoKSA6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLAogICAgICAgIGRldmljZUlkczogdGhpcy5kZXZpY2VJZHMubWFwKGZ1bmN0aW9uIChkZXZpY2VJZCkgewogICAgICAgICAgcmV0dXJuIGRldmljZUlkOwogICAgICAgIH0pCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAidG9Db3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9Db3VudChzdHJzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY291bnQgPSBzdHJzLnJlZHVjZShmdW5jdGlvbiAoY291bnQsIHN0cikgewogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucygiY3VzdG9tZXIiLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKF90aGlzLm5hbWUsIHN0cikgPyAxIDogMDsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoX3RoaXMucGhvbmVOdW1iZXIsIHN0cikgPyAxIDogMDsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoX3RoaXMuZGVzY3JpcHRpb24sIHN0cikgPyAxIDogMDsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgIH0sIDApOwogICAgICByZXR1cm4gY291bnQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcGFyZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZShpdGVtKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogIH0sIHsKICAgIGtleTogImZldGNoRGV2aWNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoRGV2aWNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGV2aWNlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbWVyU3RvcmUuZGlzcGF0Y2goImdldERldmljZXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGV2aWNlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmRldmljZUlkcy5tYXAoZnVuY3Rpb24gKGRldmljZUlkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2VzLmZpbmQoZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2UuaWQgPT09IGRldmljZUlkOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoRGV2aWNlcygpIHsKICAgICAgICByZXR1cm4gX2ZldGNoRGV2aWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZmV0Y2hEZXZpY2VzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZmV0Y2hEZXZpY2VHcm91cHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaERldmljZUdyb3VwcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHByb3BlcnR5LAogICAgICAgICAgICBkZXZpY2VzLAogICAgICAgICAgICBvcHRHcm91cCwKICAgICAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IF9hcmdzMi5sZW5ndGggPiAwICYmIF9hcmdzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzBdIDogIiI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaERldmljZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgZGV2aWNlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIG9wdEdyb3VwID0gZnVuY3Rpb24gb3B0R3JvdXAoZ3JvdXBzLCBrZXkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzLmZpbmQoZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwW3Byb3BlcnR5XSA9PT0ga2V5OwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmICghZ3JvdXApIHsKICAgICAgICAgICAgICAgICAgICBncm91cCA9IHsKICAgICAgICAgICAgICAgICAgICAgIGRldmljZXM6IFtdCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBncm91cFtwcm9wZXJ0eV0gPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXA7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBkZXZpY2VzLnJlZHVjZShmdW5jdGlvbiAoZ3JvdXBzLCBkZXZpY2UpIHsKICAgICAgICAgICAgICAgICAgb3B0R3JvdXAoZ3JvdXBzLCBkZXZpY2VbcHJvcGVydHldKS5kZXZpY2VzLnB1c2goZGV2aWNlKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwczsKICAgICAgICAgICAgICAgIH0sIFtdKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoRGV2aWNlR3JvdXBzKCkgewogICAgICAgIHJldHVybiBfZmV0Y2hEZXZpY2VHcm91cHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoRGV2aWNlR3JvdXBzOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gQ3VzdG9tZXI7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IEN1c3RvbWVyOw=="},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/Customer.js"],"names":["ModuleCustomer","PhoneNumber","ItemSearcher","textContains","U","Customer","stores","customerStore","customer","data","trim","id","_id","name","phoneNumber","fromData","description","optString","deviceIds","optArray","toData","map","deviceId","strs","count","reduce","str","item","dispatch","devices","find","device","property","fetchDevices","optGroup","groups","key","group","push"],"mappings":"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","sourcesContent":["import ModuleCustomer from \"./data/Customer.js\";\r\nimport PhoneNumber from \"./PhoneNumber.js\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nimport U from \"@/U.js\";\r\n\r\nclass Customer {\r\n\tstores = null;\r\n\tcustomerStore = null;\r\n\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t\tthis.customerStore = stores.customer;\r\n\t}\r\n\r\n\tid = \"\";\r\n\tname = \"\";\r\n\tphoneNumber = \"\";\r\n\tdescription = \"\";\r\n\tdeviceIds = [];\r\n\r\n\tfromData(data) {\r\n\t\tdata = ModuleCustomer.trim(data);\r\n\t\tthis.id = data._id;\r\n\t\tthis.name = data.name;\r\n\t\tthis.phoneNumber = data.phoneNumber\r\n\t\t\t? new PhoneNumber(this.stores).fromData(data.phoneNumber)\r\n\t\t\t: null;\r\n\t\tthis.description = U.optString(data.description);\r\n\t\tthis.deviceIds = U.optArray(data.deviceIds);\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\treturn {\r\n\t\t\t_id: this.id,\r\n\t\t\tname: this.name,\r\n\t\t\tphoneNumber: this.phoneNumber ? this.phoneNumber.toData() : \"\",\r\n\t\t\tdescription: this.description,\r\n\t\t\tdeviceIds: this.deviceIds.map((deviceId) => deviceId),\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\tlet count = strs.reduce((count, str) => {\r\n\t\t\tcount += textContains(\"customer\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.name, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.phoneNumber, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.description, str) ? 1 : 0;\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\r\n\t\treturn count;\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tasync fetchDevices() {\r\n\t\tconst devices = await this.customerStore.dispatch(\"getDevices\");\r\n\t\treturn this.deviceIds.map((deviceId) => {\r\n\t\t\treturn devices.find((device) => device.id === deviceId);\r\n\t\t});\r\n\t}\r\n\tasync fetchDeviceGroups(property = \"\") {\r\n\t\tconst devices = await this.fetchDevices();\r\n\t\tconst optGroup = (groups, key) => {\r\n\t\t\tlet group = groups.find((group) => group[property] === key);\r\n\t\t\tif (!group) {\r\n\t\t\t\tgroup = { devices: [] };\r\n\t\t\t\tgroup[property] = key;\r\n\t\t\t\tgroups.push(group);\r\n\t\t\t}\r\n\t\t\treturn group;\r\n\t\t};\r\n\t\treturn devices.reduce((groups, device) => {\r\n\t\t\toptGroup(groups, device[property]).devices.push(device);\r\n\t\t\treturn groups;\r\n\t\t}, []);\r\n\t}\r\n}\r\n\r\nexport default Customer;\r\n"]}]}