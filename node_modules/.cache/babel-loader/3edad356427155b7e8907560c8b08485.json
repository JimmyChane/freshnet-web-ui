{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-v2\\express\\data_structures\\ProductPrice.js","dependencies":[{"path":"C:\\dev\\freshnet-v2\\express\\data_structures\\ProductPrice.js","mtime":1662650897381},{"path":"C:\\dev\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxjbGFzc0NhbGxDaGVjay5qcyIpLmRlZmF1bHQ7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZSgiQzpcXGRldlxcZnJlc2huZXQtdjJcXHZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGNyZWF0ZUNsYXNzLmpzIikuZGVmYXVsdDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7Cgp2YXIgVGV4dCA9IHJlcXVpcmUoIi4vVGV4dC5qcyIpOwoKdmFyIEJ1bmRsZSA9IHJlcXVpcmUoIi4vUHJvZHVjdEJ1bmRsZS5qcyIpOwoKdmFyIFByb2R1Y3RQcmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBQcm9kdWN0UHJpY2UoKSB7CiAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvZHVjdFByaWNlKTsKCiAgICB0aGlzLm5vcm1hbCA9IFRleHQudHJpbShkYXRhLm5vcm1hbCwgIiIpOwogICAgdGhpcy5wcm9tb3Rpb24gPSBUZXh0LnRyaW0oZGF0YS5wcm9tb3Rpb24sICIiKTsgLy8gZGVwcmVjYXRlZCBvbiAyMDIyXzA0XzA5CgogICAgdGhpcy5idW5kbGVzID0gKEFycmF5LmlzQXJyYXkoZGF0YS5idW5kbGVzKSA/IGRhdGEuYnVuZGxlcyA6IFtdKS5tYXAoZnVuY3Rpb24gKGJ1bmRsZSkgewogICAgICByZXR1cm4gQnVuZGxlLnRyaW0oYnVuZGxlKTsKICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoYnVuZGxlKSB7CiAgICAgIHJldHVybiBidW5kbGUudGl0bGUubGVuZ3RoOwogICAgfSk7CiAgICBpZiAoIXRoaXMuYnVuZGxlcy5sZW5ndGgpIHRoaXMuYnVuZGxlcyA9IHVuZGVmaW5lZDsKICB9CgogIF9jcmVhdGVDbGFzcyhQcm9kdWN0UHJpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJ0cmltIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmltKGRhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9kdWN0UHJpY2UoZGF0YSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzU2FtZUNvbnRlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1NhbWVDb250ZW50KHByaWNlMSwgcHJpY2UyKSB7CiAgICAgIHJldHVybiBwcmljZTEubm9ybWFsID09PSBwcmljZTIubm9ybWFsIHx8IHByaWNlMS5wcm9tb3Rpb24gPT09IHByaWNlMi5wcm9tb3Rpb247IC8vIGRlcHJlY2F0ZWQgb24gMjAyMl8wNF8wOQoKICAgICAgdmFyIGJ1bmRsZXMxID0gKEFycmF5LmlzQXJyYXkocHJpY2UxLmJ1bmRsZXMpID8gcHJpY2UxLmJ1bmRsZXMgOiBbXSkuZmlsdGVyKGZ1bmN0aW9uIChidW5kbGUxKSB7CiAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHByaWNlMi5idW5kbGVzKSA/IHByaWNlMi5idW5kbGVzIDogW10pLmZpbmQoZnVuY3Rpb24gKGJ1bmRsZTIpIHsKICAgICAgICAgIHJldHVybiBidW5kbGUyLnRpdGxlID09PSBidW5kbGUxLnRpdGxlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIGJ1bmRsZXMyID0gKEFycmF5LmlzQXJyYXkocHJpY2UyLmJ1bmRsZXMpID8gcHJpY2UyLmJ1bmRsZXMgOiBbXSkuZmlsdGVyKGZ1bmN0aW9uIChidW5kbGUyKSB7CiAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHByaWNlMS5idW5kbGVzKSA/IHByaWNlMS5idW5kbGVzIDogW10pLmZpbmQoZnVuY3Rpb24gKGJ1bmRsZTEpIHsKICAgICAgICAgIHJldHVybiBidW5kbGUxLnRpdGxlID09PSBidW5kbGUyLnRpdGxlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHByaWNlMS5ub3JtYWwgPT09IHByaWNlMi5ub3JtYWwgfHwgcHJpY2UxLnByb21vdGlvbiA9PT0gcHJpY2UyLnByb21vdGlvbiB8fCBidW5kbGVzMS5sZW5ndGggPT09IGJ1bmRsZXMyLmxlbmd0aDsKICAgIH0KICB9XSk7CgogIHJldHVybiBQcm9kdWN0UHJpY2U7Cn0oKTsKCm1vZHVsZS5leHBvcnRzID0gUHJvZHVjdFByaWNlOw=="},{"version":3,"sources":["C:/dev/freshnet-v2/express/data_structures/ProductPrice.js"],"names":["Text","require","Bundle","ProductPrice","data","normal","trim","promotion","bundles","Array","isArray","map","bundle","filter","title","length","undefined","price1","price2","bundles1","bundle1","find","bundle2","bundles2","module","exports"],"mappings":";;;;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,oBAAD,CAAtB;;IAEME,Y;;;AAkCH,0BAAyB;AAAA,QAAbC,IAAa,uEAAN,IAAM;;AAAA;;AACtB,SAAKC,MAAL,GAAcL,IAAI,CAACM,IAAL,CAAUF,IAAI,CAACC,MAAf,EAAuB,EAAvB,CAAd;AACA,SAAKE,SAAL,GAAiBP,IAAI,CAACM,IAAL,CAAUF,IAAI,CAACG,SAAf,EAA0B,EAA1B,CAAjB,CAFsB,CAItB;;AACA,SAAKC,OAAL,GAAe,CAACC,KAAK,CAACC,OAAN,CAAcN,IAAI,CAACI,OAAnB,IAA8BJ,IAAI,CAACI,OAAnC,GAA6C,EAA9C,EACXG,GADW,CACP,UAACC,MAAD;AAAA,aAAYV,MAAM,CAACI,IAAP,CAAYM,MAAZ,CAAZ;AAAA,KADO,EAEXC,MAFW,CAEJ,UAACD,MAAD;AAAA,aAAYA,MAAM,CAACE,KAAP,CAAaC,MAAzB;AAAA,KAFI,CAAf;AAIA,QAAI,CAAC,KAAKP,OAAL,CAAaO,MAAlB,EAA0B,KAAKP,OAAL,GAAeQ,SAAf;AAC5B;;;;WA3CD,cAAYZ,IAAZ,EAAkB;AACf,aAAO,IAAID,YAAJ,CAAiBC,IAAjB,CAAP;AACF;;;WAED,wBAAsBa,MAAtB,EAA8BC,MAA9B,EAAsC;AACnC,aACGD,MAAM,CAACZ,MAAP,KAAkBa,MAAM,CAACb,MAAzB,IACAY,MAAM,CAACV,SAAP,KAAqBW,MAAM,CAACX,SAF/B,CADmC,CAMnC;;AACA,UAAMY,QAAQ,GAAG,CACdV,KAAK,CAACC,OAAN,CAAcO,MAAM,CAACT,OAArB,IAAgCS,MAAM,CAACT,OAAvC,GAAiD,EADnC,EAEfK,MAFe,CAER,UAACO,OAAD;AAAA,eACN,CAACX,KAAK,CAACC,OAAN,CAAcQ,MAAM,CAACV,OAArB,IAAgCU,MAAM,CAACV,OAAvC,GAAiD,EAAlD,EAAsDa,IAAtD,CACG,UAACC,OAAD;AAAA,iBAAaA,OAAO,CAACR,KAAR,KAAkBM,OAAO,CAACN,KAAvC;AAAA,SADH,CADM;AAAA,OAFQ,CAAjB;AAOA,UAAMS,QAAQ,GAAG,CACdd,KAAK,CAACC,OAAN,CAAcQ,MAAM,CAACV,OAArB,IAAgCU,MAAM,CAACV,OAAvC,GAAiD,EADnC,EAEfK,MAFe,CAER,UAACS,OAAD;AAAA,eACN,CAACb,KAAK,CAACC,OAAN,CAAcO,MAAM,CAACT,OAArB,IAAgCS,MAAM,CAACT,OAAvC,GAAiD,EAAlD,EAAsDa,IAAtD,CACG,UAACD,OAAD;AAAA,iBAAaA,OAAO,CAACN,KAAR,KAAkBQ,OAAO,CAACR,KAAvC;AAAA,SADH,CADM;AAAA,OAFQ,CAAjB;AAQA,aACGG,MAAM,CAACZ,MAAP,KAAkBa,MAAM,CAACb,MAAzB,IACAY,MAAM,CAACV,SAAP,KAAqBW,MAAM,CAACX,SAD5B,IAEAY,QAAQ,CAACJ,MAAT,KAAoBQ,QAAQ,CAACR,MAHhC;AAKF;;;;;;AAeJS,MAAM,CAACC,OAAP,GAAiBtB,YAAjB","sourcesContent":["const Text = require(\"./Text.js\");\r\nconst Bundle = require(\"./ProductBundle.js\");\r\n\r\nclass ProductPrice {\r\n   static trim(data) {\r\n      return new ProductPrice(data);\r\n   }\r\n\r\n   static hasSameContent(price1, price2) {\r\n      return (\r\n         price1.normal === price2.normal ||\r\n         price1.promotion === price2.promotion\r\n      );\r\n\r\n      // deprecated on 2022_04_09\r\n      const bundles1 = (\r\n         Array.isArray(price1.bundles) ? price1.bundles : []\r\n      ).filter((bundle1) =>\r\n         (Array.isArray(price2.bundles) ? price2.bundles : []).find(\r\n            (bundle2) => bundle2.title === bundle1.title\r\n         )\r\n      );\r\n      const bundles2 = (\r\n         Array.isArray(price2.bundles) ? price2.bundles : []\r\n      ).filter((bundle2) =>\r\n         (Array.isArray(price1.bundles) ? price1.bundles : []).find(\r\n            (bundle1) => bundle1.title === bundle2.title\r\n         )\r\n      );\r\n\r\n      return (\r\n         price1.normal === price2.normal ||\r\n         price1.promotion === price2.promotion ||\r\n         bundles1.length === bundles2.length\r\n      );\r\n   }\r\n\r\n   constructor(data = null) {\r\n      this.normal = Text.trim(data.normal, \"\");\r\n      this.promotion = Text.trim(data.promotion, \"\");\r\n\r\n      // deprecated on 2022_04_09\r\n      this.bundles = (Array.isArray(data.bundles) ? data.bundles : [])\r\n         .map((bundle) => Bundle.trim(bundle))\r\n         .filter((bundle) => bundle.title.length);\r\n\r\n      if (!this.bundles.length) this.bundles = undefined;\r\n   }\r\n}\r\n\r\nmodule.exports = ProductPrice;\r\n"]}]}