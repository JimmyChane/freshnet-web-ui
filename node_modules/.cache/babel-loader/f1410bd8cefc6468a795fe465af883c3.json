{"remainingRequest":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-v2\\vue\\src\\stores\\store.login.js","dependencies":[{"path":"C:\\dev\\freshnet-v2\\vue\\src\\stores\\store.login.js","mtime":1666953105335},{"path":"C:\\dev\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXYyXFx2dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgQXBpSG9zdCBmcm9tICJAL2hvc3QvQXBpSG9zdC5qcyI7CmltcG9ydCBJdGVtVXNlciBmcm9tICIuLi9pdGVtcy9Vc2VyLmpzIjsKaW1wb3J0IFByb2Nlc3NvciBmcm9tICIuL3Rvb2xzL1Byb2Nlc3Nvci5qcyI7CnZhciBzdG9yYWdlVG9rZW5LZXkgPSAidXNlclRva2VuIjsKCnZhciBnZXRUb2tlbiA9IGZ1bmN0aW9uIGdldFRva2VuKCkgewogIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZVRva2VuS2V5KTsKfTsKCnZhciBzZXRUb2tlbiA9IGZ1bmN0aW9uIHNldFRva2VuKHRva2VuKSB7CiAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlVG9rZW5LZXksIHRva2VuKTsKfTsKCnZhciBkZWxldGVUb2tlbiA9IGZ1bmN0aW9uIGRlbGV0ZVRva2VuKCkgewogIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZVRva2VuS2V5KTsKfTsKCnZhciBvbk5ld0NyZWRlbnRhaWwgPSBmdW5jdGlvbiBvbk5ld0NyZWRlbnRhaWwoY29udGV4dCkgewogIHZhciBhcmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKICAgIHRva2VuOiB0b2tlbiwKICAgIHVzZXI6IHVzZXIKICB9OwogIHZhciBTdG9yZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHRva2VuID0gYXJnLnRva2VuLAogICAgICAgIHVzZXIgPSBhcmcudXNlcjsKICAgIHZhciBuZXdVc2VyID0gbmV3IEl0ZW1Vc2VyKFN0b3JlcykuZnJvbURhdGEodXNlcik7CiAgICBzZXRUb2tlbih0b2tlbik7CiAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIG5ld1VzZXIpOwogICAgY29udGV4dC5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgcmV0dXJuIG5ld1VzZXI7CiAgfSgpOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoU3RvcmVzKSB7CiAgICB2YXIgc3RvcmUgPSBTdG9yZXMuc3RvcmU7CiAgICB2YXIgbG9naW5TdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICAgICAgc3RhdGU6IHsKICAgICAgICBsYXN0TW9kaWZpZWQ6IDAsCiAgICAgICAgdXNlcjogbnVsbCwKICAgICAgICBsb2FkZXI6IG5ldyBQcm9jZXNzb3IoKQogICAgICB9LAogICAgICBtdXRhdGlvbnM6IHsKICAgICAgICBsYXN0TW9kaWZpZWQ6IGZ1bmN0aW9uIGxhc3RNb2RpZmllZChzdGF0ZSwgdGltZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmxhc3RNb2RpZmllZCA9IHRpbWU7CiAgICAgICAgfSwKICAgICAgICB1c2VyOiBmdW5jdGlvbiAoX3VzZXIpIHsKICAgICAgICAgIGZ1bmN0aW9uIHVzZXIoX3gsIF94MikgewogICAgICAgICAgICByZXR1cm4gX3VzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH0KCiAgICAgICAgICB1c2VyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3VzZXIudG9TdHJpbmcoKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgICAgfShmdW5jdGlvbiAoc3RhdGUsIHVzZXIpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS51c2VyID0gdXNlcjsKICAgICAgICB9KQogICAgICB9LAogICAgICBnZXR0ZXJzOiB7CiAgICAgICAgbGFzdE1vZGlmaWVkOiBmdW5jdGlvbiBsYXN0TW9kaWZpZWQoc3RhdGUpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS5sYXN0TW9kaWZpZWQ7CiAgICAgICAgfSwKICAgICAgICBpc0xvYWRpbmc6IGZ1bmN0aW9uIGlzTG9hZGluZyhzdGF0ZSkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmxvYWRlci5pc0xvYWRpbmcoKTsKICAgICAgICB9LAogICAgICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoc3RhdGUpIHsKICAgICAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgICAgIH0sCiAgICAgICAgdG9rZW46IGZ1bmN0aW9uIHRva2VuKCkgewogICAgICAgICAgcmV0dXJuIGdldFRva2VuKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhY3Rpb25zOiB7CiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5sb2FkZXIuYWNxdWlyZSgicmVmcmVzaCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXNwYXRjaCgiZ2V0VXNlciIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgZ2V0VXNlcjogZnVuY3Rpb24gZ2V0VXNlcihjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5zdGF0ZS5sb2FkZXIuYWNxdWlyZSgiZ2V0VXNlciIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF90b2tlbiwgYXBpLCBjb250ZW50LCBfdXNlcjIsIHVzZXJOb3csIGlzVXNlcm5hbWVTYW1lLCBpc05hbWVTYW1lLCBpc1VzZXJUeXBlU2FtZTsKCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b2tlbiA9IGdldFRva2VuKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Rva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFwaUhvc3QucmVxdWVzdCgpLlBPU1QoKS51cmwoInNlc3Npb24vdmVyaWZ5VG9rZW4vIikuYm9keSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IF90b2tlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91c2VyMiA9IG5ldyBJdGVtVXNlcigpLmZyb21EYXRhKGNvbnRlbnQudXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOb3cgPSBjb250ZXh0LnN0YXRlLnVzZXI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXJOb3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VzZXJuYW1lU2FtZSA9IHVzZXJOb3cudXNlcm5hbWUgPT09IF91c2VyMi51c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOYW1lU2FtZSA9IHVzZXJOb3cubmFtZSA9PT0gX3VzZXIyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXNlclR5cGVTYW1lID0gdXNlck5vdy51c2VyVHlwZSA9PT0gX3VzZXIyLnVzZXJUeXBlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaXNVc2VybmFtZVNhbWUgJiYgaXNOYW1lU2FtZSAmJiBpc1VzZXJUeXBlU2FtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgdXNlck5vdyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9rZW4oX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInVzZXIiLCBfdXNlcjIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdXNlcjIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0My50MC5tZXNzYWdlID09PSAibm90IHNpZ25lZCBpbiIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInVzZXIiLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoImxhc3RNb2RpZmllZCIsIERhdGUubm93KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVUb2tlbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzAsIDI1XV0pOwogICAgICAgICAgICAgICAgICAgIH0pKSkpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgfSkpKCk7CiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoY29udGV4dCkgewogICAgICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1sxXSA6IHt9OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LnN0YXRlLmxvYWRlci5hY3F1aXJlKCJjaGFuZ2VQYXNzd29yZCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIsIHVzZXJuYW1lLCBwYXNzd29yZFZlcmlmeSwgcGFzc3dvcmROZXcsIGFwaSwgY29udGVudCwgdG9rZW47CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gY29udGV4dC5nZXR0ZXJzLnVzZXI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghdXNlciB8fCAhdXNlci51c2VybmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiY2Fubm90IGZpbmQgdXNlcm5hbWUgd2l0aCBjdXJyZW50IHVzZXIiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlci51c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRWZXJpZnkgPSBhcmcucGFzc3dvcmRWZXJpZnksIHBhc3N3b3JkTmV3ID0gYXJnLnBhc3N3b3JkTmV3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBcGlIb3N0LnJlcXVlc3QoKS5QT1NUKCkudXJsKCJzZXNzaW9uL3VzZXIvIi5jb25jYXQodXNlcm5hbWUsICIvY2hhbmdlUGFzc3dvcmQiKSkuYm9keSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRWZXJpZnk6IHBhc3N3b3JkVmVyaWZ5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkTmV3OiBwYXNzd29yZE5ldwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5zZW5kKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGFwaS5nZXRDb250ZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gY29udGVudC50b2tlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9IGNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSBvbk5ld0NyZWRlbnRhaWwoY29udGV4dCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFN0b3Jlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJyZXN0YXJ0U29ja2V0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB1c2VyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgICB9KSkoKTsKICAgICAgICB9LAogICAgICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihjb250ZXh0KSB7CiAgICAgICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHM7CiAgICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICAgICAgdmFyIGFyZzsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBhcmcgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUubG9hZGVyLmFjcXVpcmUoImxvZ2luIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBpLCBlcnJvciwgY29udGVudCwgX3Rva2VuMiwgX3VzZXIzLCBuZXdVc2VyOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVG9rZW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBpSG9zdC5yZXF1ZXN0KCkuUE9TVCgpLnVybCgic2Vzc2lvbi9sb2dpbi8iKS5ib2R5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogYXJnLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBhcmcucGFzc3dvcmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuc2VuZCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gYXBpLmdldEVycm9yKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBhcGkuZ2V0Q29udGVudCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IgfHwgIWNvbnRlbnQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b2tlbjIgPSBjb250ZW50LnRva2VuLCBfdXNlcjMgPSBjb250ZW50LnVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1VzZXIgPSBvbk5ld0NyZWRlbnRhaWwoY29udGV4dCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBfdG9rZW4yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IF91c2VyMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBTdG9yZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgicmVzdGFydFNvY2tldCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgbmV3VXNlcik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVUb2tlbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Ny50MDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1swLCAxNV1dKTsKICAgICAgICAgICAgICAgICAgICB9KSkpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0sCiAgICAgICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoY29udGV4dCkgewogICAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuc3RhdGUubG9hZGVyLmFjcXVpcmUoImxvZ291dCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF91c2VyNDsKCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCJyZXN0YXJ0U29ja2V0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF91c2VyNCA9IGNvbnRleHQuZ2V0dGVycy51c2VyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgidXNlciIsIG51bGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgibGFzdE1vZGlmaWVkIiwgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBfdXNlcjQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRva2VuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJ1c2VyIiwgbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJsYXN0TW9kaWZpZWQiLCBEYXRlLm5vdygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ5LnQwOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU5LCBudWxsLCBbWzAsIDldXSk7CiAgICAgICAgICAgICAgICAgICAgfSkpKSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgICAgIH0pKSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbG9naW5TdG9yZTsKICB9Cn07"},{"version":3,"sources":["C:/dev/freshnet-v2/vue/src/stores/store.login.js"],"names":["Vuex","ApiHost","ItemUser","Processor","storageTokenKey","getToken","window","localStorage","getItem","setToken","token","setItem","deleteToken","removeItem","onNewCredentail","context","arg","user","Stores","newUser","fromData","commit","Date","now","init","store","loginStore","Store","state","lastModified","loader","mutations","time","getters","isLoading","actions","refresh","acquire","dispatch","getUser","request","POST","url","body","send","api","content","getContent","userNow","isUsernameSame","username","isNameSame","name","isUserTypeSame","userType","message","changePassword","Error","passwordVerify","passwordNew","login","password","error","getError","logout"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\r\nimport ApiHost from \"@/host/ApiHost.js\";\r\nimport ItemUser from \"../items/User.js\";\r\nimport Processor from \"./tools/Processor.js\";\r\n\r\nconst storageTokenKey = \"userToken\";\r\nconst getToken = () => window.localStorage.getItem(storageTokenKey);\r\nconst setToken = (token) => window.localStorage.setItem(storageTokenKey, token);\r\nconst deleteToken = () => window.localStorage.removeItem(storageTokenKey);\r\nconst onNewCredentail = (context, arg = { token, user }, Stores) => {\r\n\tconst { token, user } = arg;\r\n\tconst newUser = new ItemUser(Stores).fromData(user);\r\n\tsetToken(token);\r\n\tcontext.commit(\"user\", newUser);\r\n\tcontext.commit(\"lastModified\", Date.now());\r\n\treturn newUser;\r\n};\r\n\r\nexport default {\r\n\tinit(Stores) {\r\n\t\tconst { store } = Stores;\r\n\r\n\t\tconst loginStore = new Vuex.Store({\r\n\t\t\tstate: { lastModified: 0, user: null, loader: new Processor() },\r\n\t\t\tmutations: {\r\n\t\t\t\tlastModified: (state, time) => (state.lastModified = time),\r\n\t\t\t\tuser: (state, user) => (state.user = user),\r\n\t\t\t},\r\n\t\t\tgetters: {\r\n\t\t\t\tlastModified: (state) => state.lastModified,\r\n\t\t\t\tisLoading: (state) => state.loader.isLoading(),\r\n\t\t\t\tuser: (state) => state.user,\r\n\t\t\t\ttoken: () => getToken(),\r\n\t\t\t},\r\n\t\t\tactions: {\r\n\t\t\t\tasync refresh(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"refresh\", async () => {\r\n\t\t\t\t\t\tawait context.dispatch(\"getUser\");\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tasync getUser(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"getUser\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst token = getToken();\r\n\t\t\t\t\t\t\tif (!token) {\r\n\t\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t\t.url(\"session/verifyToken/\")\r\n\t\t\t\t\t\t\t\t.body({ token })\r\n\t\t\t\t\t\t\t\t.send();\r\n\r\n\t\t\t\t\t\t\tconst content = api.getContent();\r\n\t\t\t\t\t\t\tconst user = new ItemUser().fromData(content.user);\r\n\r\n\t\t\t\t\t\t\tconst userNow = context.state.user;\r\n\t\t\t\t\t\t\tif (userNow) {\r\n\t\t\t\t\t\t\t\tconst isUsernameSame = userNow.username === user.username;\r\n\t\t\t\t\t\t\t\tconst isNameSame = userNow.name === user.name;\r\n\t\t\t\t\t\t\t\tconst isUserTypeSame = userNow.userType === user.userType;\r\n\t\t\t\t\t\t\t\tif (isUsernameSame && isNameSame && isUserTypeSame) {\r\n\t\t\t\t\t\t\t\t\treturn userNow;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tsetToken(token);\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", user);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\r\n\t\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tif (error.message === \"not signed in\") {\r\n\t\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync changePassword(context, arg = {}) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"changePassword\", async () => {\r\n\t\t\t\t\t\tlet { user } = context.getters;\r\n\t\t\t\t\t\tif (!user || !user.username) {\r\n\t\t\t\t\t\t\tthrow new Error(\"cannot find username with current user\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet username = user.username;\r\n\t\t\t\t\t\tlet { passwordVerify, passwordNew } = arg;\r\n\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t.url(`session/user/${username}/changePassword`)\r\n\t\t\t\t\t\t\t.body({ passwordVerify, passwordNew })\r\n\t\t\t\t\t\t\t.send();\r\n\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\tlet { token } = content;\r\n\t\t\t\t\t\tuser = content;\r\n\t\t\t\t\t\tuser = onNewCredentail(context, { token, user }, Stores);\r\n\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tasync login(context, arg = { username, password }) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"login\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tlet api = await ApiHost.request()\r\n\t\t\t\t\t\t\t\t.POST()\r\n\t\t\t\t\t\t\t\t.url(\"session/login/\")\r\n\t\t\t\t\t\t\t\t.body({\r\n\t\t\t\t\t\t\t\t\tusername: arg.username,\r\n\t\t\t\t\t\t\t\t\tpassword: arg.password,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.send();\r\n\t\t\t\t\t\t\tlet error = api.getError();\r\n\t\t\t\t\t\t\tlet content = api.getContent();\r\n\t\t\t\t\t\t\tif (error || !content) throw new Error();\r\n\t\t\t\t\t\t\tconst { token, user } = content;\r\n\t\t\t\t\t\t\tconst newUser = onNewCredentail(context, { token, user }, Stores);\r\n\t\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\t\t\t\t\t\t\treturn newUser;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tasync logout(context) {\r\n\t\t\t\t\treturn context.state.loader.acquire(\"logout\", async () => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tstore.dispatch(\"restartSocket\");\r\n\t\t\t\t\t\t\tlet user = context.getters.user;\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tdeleteToken();\r\n\t\t\t\t\t\t\tcontext.commit(\"user\", null);\r\n\t\t\t\t\t\t\tcontext.commit(\"lastModified\", Date.now());\r\n\t\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\treturn loginStore;\r\n\t},\r\n};\r\n"]}]}