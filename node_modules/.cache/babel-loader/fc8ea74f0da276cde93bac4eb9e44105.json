{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\host\\ApiHost.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\host\\ApiHost.js","mtime":1668341071708},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXGRldlxcZnJlc2huZXQtdnVlXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxjcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWMuanMiOwppbXBvcnQgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY2xhc3NQcml2YXRlRmllbGRHZXQuanMiOwppbXBvcnQgX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldCBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldC5qcyI7CmltcG9ydCBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kR2V0IGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kR2V0LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy53ZWFrLW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgSG9zdFJlcXVlc3QgZnJvbSAiLi9Ib3N0UmVxdWVzdC5qcyI7CmltcG9ydCBIb3N0UmVzcG9uc2UgZnJvbSAiLi9Ib3N0UmVzcG9uc2UuanMiOwppbXBvcnQgVGV4dCBmcm9tICJAL2l0ZW1zL2RhdGEvVGV4dC5qcyI7Cgp2YXIgX3BhdGhDbG91ZGluYXJ5ID0gLyojX19QVVJFX18qL25ldyBXZWFrTWFwKCk7Cgp2YXIgQXBpSG9zdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXBpSG9zdCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcGlIb3N0KTsKCiAgICBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyh0aGlzLCBfcGF0aENsb3VkaW5hcnksIHsKICAgICAgZ2V0OiBfZ2V0X3BhdGhDbG91ZGluYXJ5LAogICAgICBzZXQ6IHZvaWQgMAogICAgfSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXBpSG9zdCwgW3sKICAgIGtleTogIm9yaWdpbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgLy8gcmV0dXJuICJodHRwczovL3d3dy5mcmVzaG5ldC5hcHAiOwogICAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbiwKICAgICAgICAgIHByb3RvY29sID0gX3dpbmRvdyRsb2NhdGlvbi5wcm90b2NvbCwKICAgICAgICAgIGhvc3RuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5ob3N0bmFtZTsKICAgICAgcmV0dXJuIF9jbGFzc1N0YXRpY1ByaXZhdGVNZXRob2RHZXQoQXBpSG9zdCwgQXBpSG9zdCwgX3BhcnNlT3JpZ2luKS5jYWxsKEFwaUhvc3QsIHByb3RvY29sLCBob3N0bmFtZSwgX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldChBcGlIb3N0LCBBcGlIb3N0LCBfZGV2X3BvcnQpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbWdGaWxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKF9uYW1lKSB7CiAgICAgICAgICB2YXIgb3B0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgICAgIHZhciBfb3B0aW9uJHdpZHRoID0gb3B0aW9uLndpZHRoLAogICAgICAgICAgICAgIHdpZHRoID0gX29wdGlvbiR3aWR0aCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb24kd2lkdGgsCiAgICAgICAgICAgICAgX29wdGlvbiRoZWlnaHQgPSBvcHRpb24uaGVpZ2h0LAogICAgICAgICAgICAgIGhlaWdodCA9IF9vcHRpb24kaGVpZ2h0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbiRoZWlnaHQ7CiAgICAgICAgICB3aWR0aCA9IHdpZHRoID4gMCA/IHdpZHRoIDogMDsKICAgICAgICAgIGhlaWdodCA9IGhlaWdodCA+IDAgPyBoZWlnaHQgOiAwOwogICAgICAgICAgdmFyIHF1ZXJ5ID0gIiI7CgogICAgICAgICAgaWYgKHdpZHRoICE9IDAgJiYgaGVpZ2h0ID09IDApIHsKICAgICAgICAgICAgcXVlcnkgPSAiP3dpZHRoPSIuY29uY2F0KHdpZHRoKTsKICAgICAgICAgIH0gZWxzZSBpZiAod2lkdGggPT0gMCAmJiBoZWlnaHQgIT0gMCkgewogICAgICAgICAgICBxdWVyeSA9ICI/aGVpZ2h0PSIuY29uY2F0KGhlaWdodCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKSB7CiAgICAgICAgICAgIHF1ZXJ5ID0gIj93aWR0aD0iLmNvbmNhdCh3aWR0aCwgIiZoZWlnaHQ9IikuY29uY2F0KGhlaWdodCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChfdGhpcy5vcmlnaW4sICIvYXBpL2ltYWdlL25hbWUvIikuY29uY2F0KF9uYW1lKS5jb25jYXQocXVlcnkpOwogICAgICAgIH0sCiAgICAgICAgbGlzdDogZnVuY3Rpb24gbGlzdCgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5hcGkoewogICAgICAgICAgICB1cmw6ICJpbWFnZS9saXN0IgogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgICByZXR1cm4ganNvbi5jb250ZW50OwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZCgpIHsKICAgICAgICAgIHZhciBpbWFnZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBpbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoaW1hZ2UpIHsKICAgICAgICAgICAgcmV0dXJuIGZvcm1EYXRhLmFwcGVuZChpbWFnZS5uYW1lLCBpbWFnZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaCh7CiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICB1cmw6ICJpbWFnZS91cGxvYWQiLAogICAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMucmVxdWVzdCgpLkRFTEVURSgpLnVybCgiaW1hZ2UvZGVsZXRlLyIuY29uY2F0KG5hbWUpKS5zZW5kKCk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInJlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzKHVybCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMub3JpZ2luLCAiL3Jlc291cmNlLyIpLmNvbmNhdCh1cmwpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsb3VkaW5hcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3VkaW5hcnkoKSB7CiAgICAgIHZhciBwYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogewogICAgICAgIHVybDogIiIKICAgICAgfTsKICAgICAgdmFyIHVybCA9IHBhcmFtLnVybDsKICAgICAgdXJsID0gdHlwZW9mIHVybCA9PT0gInN0cmluZyIgPyBUZXh0LnRyaW0odXJsLCAiIikgOiAiIjsKICAgICAgaWYgKHVybCA9PT0gIiIpIHJldHVybiAiIjsKICAgICAgcmV0dXJuICIiLmNvbmNhdChfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3BhdGhDbG91ZGluYXJ5KSwgInJlc291cmNlLyIpLmNvbmNhdCh1cmwpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlcXVlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3QoKSB7CiAgICAgIHJldHVybiBuZXcgSG9zdFJlcXVlc3QodGhpcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBpIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcGkoKSB7CiAgICAgIHZhciBwYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdXJsOiAiIiwKICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICBib2R5OiB1bmRlZmluZWQKICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgpLm1ldGhvZChwYXJhbS5tZXRob2QpLnVybChwYXJhbS51cmwpLmhlYWRlcnMocGFyYW0uaGVhZGVycykuYm9keShwYXJhbS5ib2R5KS5zZW5kKCk7CiAgICB9IC8vbGVnYWN5CgogIH0sIHsKICAgIGtleTogImZldGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoX2ZldGNoKSB7CiAgICAgIGZ1bmN0aW9uIGZldGNoKCkgewogICAgICAgIHJldHVybiBfZmV0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgZmV0Y2gudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaC50b1N0cmluZygpOwogICAgICB9OwoKICAgICAgcmV0dXJuIGZldGNoOwogICAgfSgKICAgIC8qI19fUFVSRV9fKi8KICAgIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHBhcmFtLAogICAgICAgICAgX3BhcmFtJG1ldGhvZCwKICAgICAgICAgIG1ldGhvZCwKICAgICAgICAgIF9wYXJhbSR1cmwsCiAgICAgICAgICB1cmwsCiAgICAgICAgICBfcGFyYW0kaGVhZGVycywKICAgICAgICAgIGhlYWRlcnMsCiAgICAgICAgICBfcGFyYW0kYm9keSwKICAgICAgICAgIGJvZHksCiAgICAgICAgICByZXNwb25zZSwKICAgICAgICAgIGpzb24sCiAgICAgICAgICBob3N0UmVzcG9uc2UsCiAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBwYXJhbSA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDoge307CiAgICAgICAgICAgICAgX3BhcmFtJG1ldGhvZCA9IHBhcmFtLm1ldGhvZCwgbWV0aG9kID0gX3BhcmFtJG1ldGhvZCA9PT0gdm9pZCAwID8gIkdFVCIgOiBfcGFyYW0kbWV0aG9kLCBfcGFyYW0kdXJsID0gcGFyYW0udXJsLCB1cmwgPSBfcGFyYW0kdXJsID09PSB2b2lkIDAgPyAiIiA6IF9wYXJhbSR1cmwsIF9wYXJhbSRoZWFkZXJzID0gcGFyYW0uaGVhZGVycywgaGVhZGVycyA9IF9wYXJhbSRoZWFkZXJzID09PSB2b2lkIDAgPyB7fSA6IF9wYXJhbSRoZWFkZXJzLCBfcGFyYW0kYm9keSA9IHBhcmFtLmJvZHksIGJvZHkgPSBfcGFyYW0kYm9keSA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3BhcmFtJGJvZHk7CiAgICAgICAgICAgICAgaWYgKHVybCkgdXJsID0gIiIuY29uY2F0KHRoaXMub3JpZ2luLCAiL2FwaS8iKS5jb25jYXQodXJsKTsKCiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlclRva2VuIikpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlclRva2VuIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgICAgICAgICAgICBib2R5OiBib2R5CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBqc29uID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBob3N0UmVzcG9uc2UgPSBuZXcgSG9zdFJlc3BvbnNlKGpzb24pOwoKICAgICAgICAgICAgICBpZiAoaG9zdFJlc3BvbnNlLmdldEVycm9yKCkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkFwaUhvc3QgUmVzcG9uc2U6IiwgaG9zdFJlc3BvbnNlLmdldEVycm9yKCkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgaG9zdFJlc3BvbnNlKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRmV0Y2g6IiwgX2NvbnRleHQudDApOwogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s0LCAxNl1dKTsKICAgIH0pKSkKICB9XSk7CgogIHJldHVybiBBcGlIb3N0Owp9KCk7CgpmdW5jdGlvbiBfcGFyc2VPcmlnaW4ocHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0KSB7CiAgcG9ydCA9IHBvcnQgPT09IDgwID8gIiIgOiAiOiIuY29uY2F0KHBvcnQpOwogIHJldHVybiAiIi5jb25jYXQocHJvdG9jb2wsICIvLyIpLmNvbmNhdChob3N0bmFtZSkuY29uY2F0KHBvcnQpOwp9CgpmdW5jdGlvbiBfZ2V0X3BhdGhDbG91ZGluYXJ5KCkgewogIHJldHVybiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZnJlc2huZXQvaW1hZ2UvdXBsb2FkLyI7Cn0KCnZhciBfZGV2X3BvcnQgPSB7CiAgd3JpdGFibGU6IHRydWUsCiAgdmFsdWU6IDgwCn07CmV4cG9ydCBkZWZhdWx0IG5ldyBBcGlIb3N0KCk7"},{"version":3,"sources":["C:/dev/freshnet-vue/src/host/ApiHost.js"],"names":["HostRequest","HostResponse","Text","ApiHost","window","location","protocol","hostname","name","option","width","height","query","origin","list","api","url","then","json","content","upload","images","formData","FormData","forEach","image","append","fetch","method","body","remove","request","DELETE","send","param","trim","headers","undefined","localStorage","getItem","authorization","response","hostResponse","getError","console","error","port"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,WAAP,MAAwB,kBAAxB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;;;IAEMC,O;;;;;;;;;;;;SAUL,eAAa;AACZ;AACA,6BAA+BC,MAAM,CAACC,QAAtC;AAAA,UAAQC,QAAR,oBAAQA,QAAR;AAAA,UAAkBC,QAAlB,oBAAkBA,QAAlB;AACA,0CAAOJ,OAAP,EAbIA,OAaJ,qBAAOA,OAAP,EAA4BG,QAA5B,EAAsCC,QAAtC,kCAAgDJ,OAAhD,EAbIA,OAaJ;AACA;;;SACD,eAAc;AAAA;;AACb,aAAO;AACNK,QAAAA,IAAI,EAAE,cAACA,KAAD,EAAuB;AAAA,cAAhBC,MAAgB,uEAAP,EAAO;AAC5B,8BAAgCA,MAAhC,CAAMC,KAAN;AAAA,cAAMA,KAAN,8BAAc,CAAd;AAAA,+BAAgCD,MAAhC,CAAiBE,MAAjB;AAAA,cAAiBA,MAAjB,+BAA0B,CAA1B;AACAD,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAR,GAAYA,KAAZ,GAAoB,CAA5B;AACAC,UAAAA,MAAM,GAAGA,MAAM,GAAG,CAAT,GAAaA,MAAb,GAAsB,CAA/B;AAEA,cAAIC,KAAK,GAAG,EAAZ;;AACA,cAAIF,KAAK,IAAI,CAAT,IAAcC,MAAM,IAAI,CAA5B,EAA+B;AAC9BC,YAAAA,KAAK,oBAAaF,KAAb,CAAL;AACA,WAFD,MAEO,IAAIA,KAAK,IAAI,CAAT,IAAcC,MAAM,IAAI,CAA5B,EAA+B;AACrCC,YAAAA,KAAK,qBAAcD,MAAd,CAAL;AACA,WAFM,MAEA,IAAID,KAAK,GAAG,CAAR,IAAaC,MAAM,GAAG,CAA1B,EAA6B;AACnCC,YAAAA,KAAK,oBAAaF,KAAb,qBAA6BC,MAA7B,CAAL;AACA;;AAED,2BAAU,KAAI,CAACE,MAAf,6BAAwCL,KAAxC,SAA+CI,KAA/C;AACA,SAhBK;AAiBNE,QAAAA,IAAI,EAAE;AAAA,iBAAM,KAAI,CAACC,GAAL,CAAS;AAAEC,YAAAA,GAAG;AAAL,WAAT,EAAgCC,IAAhC,CAAqC,UAACC,IAAD;AAAA,mBAAUA,IAAI,CAACC,OAAf;AAAA,WAArC,CAAN;AAAA,SAjBA;AAkBNC,QAAAA,MAAM,EAAE,kBAAiB;AAAA,cAAhBC,MAAgB,uEAAP,EAAO;AACxB,cAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAF,UAAAA,MAAM,CAACG,OAAP,CAAe,UAACC,KAAD;AAAA,mBAAWH,QAAQ,CAACI,MAAT,CAAgBD,KAAK,CAACjB,IAAtB,EAA4BiB,KAA5B,CAAX;AAAA,WAAf;AAEA,iBAAO,KAAI,CAACE,KAAL,CAAW;AACjBC,YAAAA,MAAM,EAAE,MADS;AAEjBZ,YAAAA,GAAG,gBAFc;AAGjBa,YAAAA,IAAI,EAAEP;AAHW,WAAX,CAAP;AAKA,SA3BK;AA4BNQ,QAAAA,MAAM,EAAE,gBAACtB,IAAD,EAAU;AACjB,iBAAO,KAAI,CAACuB,OAAL,GAAeC,MAAf,GAAwBhB,GAAxB,wBAA4CR,IAA5C,GAAoDyB,IAApD,EAAP;AACA;AA9BK,OAAP;AAgCA;;;WAED,aAAIjB,GAAJ,EAAS;AACR,uBAAU,KAAKH,MAAf,uBAAkCG,GAAlC;AACA;;;WACD,sBAAgC;AAAA,UAArBkB,KAAqB,uEAAb;AAAElB,QAAAA,GAAG,EAAE;AAAP,OAAa;AAC/B,UAAMA,GAAN,GAAckB,KAAd,CAAMlB,GAAN;AACAA,MAAAA,GAAG,GAAG,OAAOA,GAAP,KAAe,QAAf,GAA0Bd,IAAI,CAACiC,IAAL,CAAUnB,GAAV,EAAe,EAAf,CAA1B,GAA+C,EAArD;AACA,UAAIA,GAAG,KAAK,EAAZ,EAAgB,OAAO,EAAP;AAChB,6CAAU,IAAV,wCAA0CA,GAA1C;AACA;;;WAED,mBAAU;AACT,aAAO,IAAIhB,WAAJ,CAAgB,IAAhB,CAAP;AACA;;;WACD,eAAsE;AAAA,UAAlEkC,KAAkE,uEAA1D;AAAEN,QAAAA,MAAM,EAAE,KAAV;AAAiBZ,QAAAA,GAAG,EAAE,EAAtB;AAA0BoB,QAAAA,OAAO,EAAE,EAAnC;AAAuCP,QAAAA,IAAI,EAAEQ;AAA7C,OAA0D;AACrE,aAAO,KAAKN,OAAL,GACLH,MADK,CACEM,KAAK,CAACN,MADR,EAELZ,GAFK,CAEDkB,KAAK,CAAClB,GAFL,EAGLoB,OAHK,CAGGF,KAAK,CAACE,OAHT,EAILP,IAJK,CAIAK,KAAK,CAACL,IAJN,EAKLI,IALK,EAAP;AAMA,K,CAAC;;;;;;;;;;;;;;;;4DACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAYC,cAAAA,KAAZ,2DAAoB,EAApB;AAAA,8BACoEA,KADpE,CACON,MADP,EACOA,MADP,8BACgB,KADhB,+BACoEM,KADpE,CACuBlB,GADvB,EACuBA,GADvB,2BAC6B,EAD7B,gCACoEkB,KADpE,CACiCE,OADjC,EACiCA,OADjC,+BAC2C,EAD3C,iCACoEF,KADpE,CAC+CL,IAD/C,EAC+CA,IAD/C,4BACsDQ,SADtD;AAGC,kBAAIrB,GAAJ,EAASA,GAAG,aAAM,KAAKH,MAAX,kBAAyBG,GAAzB,CAAH;;AACT,kBAAIZ,MAAM,CAACkC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAJ,EAA8C;AAC7CH,gBAAAA,OAAO,CAACI,aAAR,GAAwBpC,MAAM,CAACkC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAxB;AACA;;AANF;AAAA;AAAA,qBASuBZ,KAAK,CAACX,GAAD,EAAM;AAAEY,gBAAAA,MAAM,EAANA,MAAF;AAAUQ,gBAAAA,OAAO,EAAPA,OAAV;AAAmBP,gBAAAA,IAAI,EAAJA;AAAnB,eAAN,CAT5B;;AAAA;AASMY,cAAAA,QATN;AAAA;AAAA,qBAUmBA,QAAQ,CAACvB,IAAT,EAVnB;;AAAA;AAUMA,cAAAA,IAVN;AAWMwB,cAAAA,YAXN,GAWqB,IAAIzC,YAAJ,CAAiBiB,IAAjB,CAXrB;;AAaE,kBAAIwB,YAAY,CAACC,QAAb,EAAJ,EAA6B;AAC5BC,gBAAAA,OAAO,CAACC,KAAR,CAAc,mBAAd,EAAmCH,YAAY,CAACC,QAAb,EAAnC;AACA;;AAfH,+CAiBSD,YAjBT;;AAAA;AAAA;AAAA;AAmBEE,cAAAA,OAAO,CAACC,KAAR,CAAc,QAAd;AAnBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;sBArEoBvC,Q,EAAUC,Q,EAAUuC,I,EAAM;AAC7CA,EAAAA,IAAI,GAAGA,IAAI,KAAK,EAAT,GAAc,EAAd,cAAuBA,IAAvB,CAAP;AACA,mBAAUxC,QAAV,eAAuBC,QAAvB,SAAkCuC,IAAlC;AACA;;+BAEqB;AACrB,SAAO,mDAAP;AACA;;;;SARkB;;AA+FpB,eAAe,IAAI3C,OAAJ,EAAf","sourcesContent":["import HostRequest from \"./HostRequest.js\";\r\nimport HostResponse from \"./HostResponse.js\";\r\nimport Text from \"@/items/data/Text.js\";\r\n\r\nclass ApiHost {\r\n\tstatic #dev_port = 80;\r\n\tstatic #parseOrigin(protocol, hostname, port) {\r\n\t\tport = port === 80 ? \"\" : `:${port}`;\r\n\t\treturn `${protocol}//${hostname}${port}`;\r\n\t}\r\n\r\n\tget #pathCloudinary() {\r\n\t\treturn \"https://res.cloudinary.com/freshnet/image/upload/\";\r\n\t}\r\n\tget origin() {\r\n\t\t// return \"https://www.freshnet.app\";\r\n\t\tconst { protocol, hostname } = window.location;\r\n\t\treturn ApiHost.#parseOrigin(protocol, hostname, ApiHost.#dev_port);\r\n\t}\r\n\tget imgFile() {\r\n\t\treturn {\r\n\t\t\tname: (name, option = {}) => {\r\n\t\t\t\tlet { width = 0, height = 0 } = option;\r\n\t\t\t\twidth = width > 0 ? width : 0;\r\n\t\t\t\theight = height > 0 ? height : 0;\r\n\r\n\t\t\t\tlet query = \"\";\r\n\t\t\t\tif (width != 0 && height == 0) {\r\n\t\t\t\t\tquery = `?width=${width}`;\r\n\t\t\t\t} else if (width == 0 && height != 0) {\r\n\t\t\t\t\tquery = `?height=${height}`;\r\n\t\t\t\t} else if (width > 0 && height > 0) {\r\n\t\t\t\t\tquery = `?width=${width}&height=${height}`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn `${this.origin}/api/image/name/${name}${query}`;\r\n\t\t\t},\r\n\t\t\tlist: () => this.api({ url: `image/list` }).then((json) => json.content),\r\n\t\t\tupload: (images = []) => {\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\timages.forEach((image) => formData.append(image.name, image));\r\n\r\n\t\t\t\treturn this.fetch({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: `image/upload`,\r\n\t\t\t\t\tbody: formData,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremove: (name) => {\r\n\t\t\t\treturn this.request().DELETE().url(`image/delete/${name}`).send();\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tres(url) {\r\n\t\treturn `${this.origin}/resource/${url}`;\r\n\t}\r\n\tcloudinary(param = { url: \"\" }) {\r\n\t\tlet { url } = param;\r\n\t\turl = typeof url === \"string\" ? Text.trim(url, \"\") : \"\";\r\n\t\tif (url === \"\") return \"\";\r\n\t\treturn `${this.#pathCloudinary}resource/${url}`;\r\n\t}\r\n\r\n\trequest() {\r\n\t\treturn new HostRequest(this);\r\n\t}\r\n\tapi(param = { method: \"GET\", url: \"\", headers: {}, body: undefined }) {\r\n\t\treturn this.request()\r\n\t\t\t.method(param.method)\r\n\t\t\t.url(param.url)\r\n\t\t\t.headers(param.headers)\r\n\t\t\t.body(param.body)\r\n\t\t\t.send();\r\n\t} //legacy\r\n\tasync fetch(param = {}) {\r\n\t\tlet { method = \"GET\", url = \"\", headers = {}, body = undefined } = param;\r\n\r\n\t\tif (url) url = `${this.origin}/api/${url}`;\r\n\t\tif (window.localStorage.getItem(\"userToken\")) {\r\n\t\t\theaders.authorization = window.localStorage.getItem(\"userToken\");\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tlet response = await fetch(url, { method, headers, body });\r\n\t\t\tlet json = await response.json();\r\n\t\t\tlet hostResponse = new HostResponse(json);\r\n\r\n\t\t\tif (hostResponse.getError()) {\r\n\t\t\t\tconsole.error(\"ApiHost Response:\", hostResponse.getError());\r\n\t\t\t}\r\n\r\n\t\t\treturn hostResponse;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Fetch:\", error);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new ApiHost();\r\n"]}]}