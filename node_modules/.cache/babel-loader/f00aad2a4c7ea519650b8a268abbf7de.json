{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\Product.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\Product.js","mtime":1668339843992},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgQXBwSG9zdCBmcm9tICJAL2hvc3QvQXBwSG9zdC5qcyI7CmltcG9ydCBNb2R1bGVQcm9kdWN0IGZyb20gIi4vZGF0YS9Qcm9kdWN0LmpzIjsKaW1wb3J0IE1vZHVsZVN0b2NrIGZyb20gIi4vZGF0YS9Qcm9kdWN0U3RvY2suanMiOwppbXBvcnQgTW9kdWxlQnVuZGxlIGZyb20gIi4vZGF0YS9Qcm9kdWN0QnVuZGxlLmpzIjsKaW1wb3J0IEltYWdlIGZyb20gIi4vSW1hZ2UuanMiOwppbXBvcnQgUHJvZHVjdFNwZWNDb250ZW50IGZyb20gIi4vUHJvZHVjdFNwZWNDb250ZW50LmpzIjsKaW1wb3J0IFByb2R1Y3RQcmljZSBmcm9tICIuL1Byb2R1Y3RQcmljZS5qcyI7CmltcG9ydCBJdGVtU2VhcmNoZXIgZnJvbSAiLi90b29scy9JdGVtU2VhcmNoZXIuanMiOwppbXBvcnQgVSBmcm9tICJAL1UuanMiOwp2YXIgdGV4dENvbnRhaW5zID0gSXRlbVNlYXJjaGVyLnRleHRDb250YWluczsKCnZhciBQcm9kdWN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQcm9kdWN0KHN0b3JlcykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb2R1Y3QpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RvcmVzIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjYXRlZ29yeVN0b3JlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJwcm9kdWN0U3RvcmUiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImJyYW5kU3RvcmUiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNwZWNpZmljYXRpb25TdG9yZSIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaWQiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0aXRsZSIsICIiKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImRlc2NyaXB0aW9uIiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2lmdHMiLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJidW5kbGVzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiYnJhbmRJZCIsICIiKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImNhdGVnb3J5SWQiLCAiIik7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzcGVjaWZpY2F0aW9ucyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImltYWdlcyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInByaWNlIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzdG9jayIsIE1vZHVsZVN0b2NrLnRyaW0oe30pKTsKCiAgICB0aGlzLnN0b3JlcyA9IHN0b3JlczsKICAgIHRoaXMuY2F0ZWdvcnlTdG9yZSA9IHN0b3Jlcy5jYXRlZ29yeTsKICAgIHRoaXMucHJvZHVjdFN0b3JlID0gc3RvcmVzLnByb2R1Y3Q7CiAgICB0aGlzLmJyYW5kU3RvcmUgPSBzdG9yZXMuYnJhbmQ7CiAgICB0aGlzLnNwZWNpZmljYXRpb25TdG9yZSA9IHN0b3Jlcy5zcGVjaWZpY2F0aW9uOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFByb2R1Y3QsIFt7CiAgICBrZXk6ICJmcm9tRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbURhdGEoZGF0YSkgewogICAgICBkYXRhID0gTW9kdWxlUHJvZHVjdC50cmltKGRhdGEpOwogICAgICBpZiAoVS5pc09iamVjdChkYXRhLmltYWdlKSAmJiBkYXRhLmltYWdlKSBkYXRhLmltYWdlcy5wdXNoKGRhdGEuaW1hZ2UpOwogICAgICB0aGlzLmlkID0gZGF0YS5faWQ7CiAgICAgIHRoaXMudGl0bGUgPSBVLm9wdFN0cmluZyhkYXRhLnRpdGxlKTsKICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFUub3B0U3RyaW5nKGRhdGEuZGVzY3JpcHRpb24pLnRyaW0oKTsKICAgICAgdGhpcy5zZXRHaWZ0cyhkYXRhLmdpZnRzKTsKICAgICAgdGhpcy5zZXRCdW5kbGVzKGRhdGEuYnVuZGxlcyk7CiAgICAgIHRoaXMuc2V0QnJhbmRJZChkYXRhLmJyYW5kSWQpOwogICAgICB0aGlzLnNldENhdGVnb3J5SWQoZGF0YS5jYXRlZ29yeUlkKTsKICAgICAgdGhpcy5zZXRTcGVjaWZpY2F0aW9ucyhkYXRhLnNwZWNpZmljYXRpb25zKTsKICAgICAgdGhpcy5zZXRJbWFnZXMoZGF0YS5pbWFnZXMpOwogICAgICB0aGlzLnNldFByaWNlKGRhdGEucHJpY2UpOwogICAgICB0aGlzLnN0b2NrID0gZGF0YS5zdG9jazsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9EYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0RhdGEoKSB7CiAgICAgIHZhciBzcGVjaWZpY2F0aW9uID0ge307CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5zcGVjaWZpY2F0aW9ucyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtU3BlY2lmaWNhdGlvbiA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgc3BlY2lmaWNhdGlvbltpdGVtU3BlY2lmaWNhdGlvbi50eXBlLmtleV0gPSBpdGVtU3BlY2lmaWNhdGlvbi5jb250ZW50OwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICB2YXIgcHJpY2UgPSB0aGlzLnByaWNlID8gdGhpcy5wcmljZSA6IHt9OwogICAgICB2YXIgcHJpY2VQcm9tb3Rpb24gPSBwcmljZS5wcm9tb3Rpb247CiAgICAgIHZhciBwcmljZU5vcm1hbCA9IHByaWNlLm5vcm1hbDsKICAgICAgcmV0dXJuIHsKICAgICAgICBfaWQ6IHRoaXMuaWQsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUgPyB0aGlzLnRpdGxlIDogdW5kZWZpbmVkLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uID8gdGhpcy5kZXNjcmlwdGlvbiA6IHVuZGVmaW5lZCwKICAgICAgICBicmFuZElkOiBVLm9wdFN0cmluZyh0aGlzLmJyYW5kSWQpLAogICAgICAgIGNhdGVnb3J5SWQ6IFUub3B0U3RyaW5nKHRoaXMuY2F0ZWdvcnlJZCksCiAgICAgICAgc3RvY2s6IE1vZHVsZVN0b2NrLnRyaW0odGhpcy5zdG9jayksCiAgICAgICAgZ2lmdHM6IHRoaXMuZ2lmdHMubWFwKGZ1bmN0aW9uIChnaWZ0KSB7CiAgICAgICAgICByZXR1cm4gZ2lmdDsKICAgICAgICB9KSwKICAgICAgICBidW5kbGVzOiB0aGlzLmJ1bmRsZXMubWFwKGZ1bmN0aW9uIChidW5kbGUpIHsKICAgICAgICAgIHJldHVybiBNb2R1bGVCdW5kbGUudHJpbShidW5kbGUpOwogICAgICAgIH0pLAogICAgICAgIGltYWdlOiB0aGlzLmltYWdlID8gdGhpcy5pbWFnZS50b0RhdGEoKSA6IHt9LAogICAgICAgIHNwZWNpZmljYXRpb246IHNwZWNpZmljYXRpb24sCiAgICAgICAgcHJpY2U6IHsKICAgICAgICAgIG5vcm1hbDogcHJpY2VQcm9tb3Rpb24sCiAgICAgICAgICBwcm9tb3Rpb246IHByaWNlTm9ybWFsCiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInRvQ291bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvQ291bnQoc3RycykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGJyYW5kID0gdGhpcy5icmFuZCwKICAgICAgICAgIGNhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeSwKICAgICAgICAgIHNwZWNpZmljYXRpb25zID0gdGhpcy5zcGVjaWZpY2F0aW9uczsKICAgICAgcmV0dXJuIHN0cnMucmVkdWNlKGZ1bmN0aW9uIChjb3VudCwgc3RyKSB7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKCJwcm9kdWN0Iiwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucyhfdGhpcy50aXRsZSwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucyhfdGhpcy5kZXNjcmlwdGlvbiwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IGJyYW5kICYmIHRleHRDb250YWlucyhicmFuZC50aXRsZSwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IGNhdGVnb3J5ICYmIHRleHRDb250YWlucyhjYXRlZ29yeS50aXRsZSwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHNwZWNpZmljYXRpb25zLnJlZHVjZShmdW5jdGlvbiAoY291bnQsIHNwZWNDb250ZW50KSB7CiAgICAgICAgICB2YXIgdHlwZSA9IHNwZWNDb250ZW50LnR5cGUsCiAgICAgICAgICAgICAgY29udGVudCA9IHNwZWNDb250ZW50LmNvbnRlbnQ7CiAgICAgICAgICBjb3VudCArPSB0eXBlICYmIHRleHRDb250YWlucyh0eXBlLnRpdGxlLCBzdHIpID8gMSA6IDA7CiAgICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoY29udGVudCwgc3RyKSA/IDEgOiAwOwogICAgICAgICAgcmV0dXJuIGNvdW50OwogICAgICAgIH0sIDApOwogICAgICAgIHJldHVybiBjb3VudDsKICAgICAgfSwgMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9JbWFnZVRodW1ibmFpbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9JbWFnZVRodW1ibmFpbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzLmxlbmd0aCA/IHRoaXMuaW1hZ2VzWzBdIDogbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wYXJlKGl0ZW0pIHsKICAgICAgdmFyIHZhbHVlID0gMDsKICAgICAgaWYgKHZhbHVlID09PSAwKSB2YWx1ZSA9IHRoaXMuY29tcGFyZUF2YWlsYWJsZShpdGVtKTsKICAgICAgaWYgKHZhbHVlID09PSAwKSB2YWx1ZSA9IHRoaXMuY29tcGFyZVByb21vdGlvbnMoaXRlbSk7CiAgICAgIGlmICh2YWx1ZSA9PT0gMCkgdmFsdWUgPSB0aGlzLmNvbXBhcmVTZWNvbmRIYW5kKGl0ZW0pOwogICAgICBpZiAodmFsdWUgPT09IDApIHZhbHVlID0gdGhpcy5jb21wYXJlSW1hZ2UoaXRlbSk7CiAgICAgIGlmICh2YWx1ZSA9PT0gMCkgdmFsdWUgPSB0aGlzLmNvbXBhcmVQcmljZXMoaXRlbSk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlQXZhaWxhYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wYXJlQXZhaWxhYmxlKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzJHN0b2NrLCBfaXRlbSRzdG9jaywgX3N0b2NrMSRpc0F2YWlsYWJsZSwgX3N0b2NrMiRpc0F2YWlsYWJsZTsKCiAgICAgIHZhciBzdG9jazEgPSAoX3RoaXMkc3RvY2sgPSB0aGlzLnN0b2NrKSAhPT0gbnVsbCAmJiBfdGhpcyRzdG9jayAhPT0gdm9pZCAwID8gX3RoaXMkc3RvY2sgOiB7CiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsCiAgICAgICAgaXNTZWNvbmRIYW5kOiBmYWxzZQogICAgICB9OwogICAgICB2YXIgc3RvY2syID0gKF9pdGVtJHN0b2NrID0gaXRlbS5zdG9jaykgIT09IG51bGwgJiYgX2l0ZW0kc3RvY2sgIT09IHZvaWQgMCA/IF9pdGVtJHN0b2NrIDogewogICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlLAogICAgICAgIGlzU2Vjb25kSGFuZDogZmFsc2UKICAgICAgfTsKICAgICAgdmFyIGlzQXZhaWxhYmxlMSA9IChfc3RvY2sxJGlzQXZhaWxhYmxlID0gc3RvY2sxLmlzQXZhaWxhYmxlKSAhPT0gbnVsbCAmJiBfc3RvY2sxJGlzQXZhaWxhYmxlICE9PSB2b2lkIDAgPyBfc3RvY2sxJGlzQXZhaWxhYmxlIDogdHJ1ZTsKICAgICAgdmFyIGlzQXZhaWxhYmxlMiA9IChfc3RvY2syJGlzQXZhaWxhYmxlID0gc3RvY2syLmlzQXZhaWxhYmxlKSAhPT0gbnVsbCAmJiBfc3RvY2syJGlzQXZhaWxhYmxlICE9PSB2b2lkIDAgPyBfc3RvY2syJGlzQXZhaWxhYmxlIDogdHJ1ZTsKICAgICAgaWYgKGlzQXZhaWxhYmxlMSAmJiAhaXNBdmFpbGFibGUyKSByZXR1cm4gLTE7CiAgICAgIGlmICghaXNBdmFpbGFibGUxICYmIGlzQXZhaWxhYmxlMikgcmV0dXJuIDE7CiAgICAgIHJldHVybiAwOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBhcmVJbWFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZUltYWdlKGl0ZW0pIHsKICAgICAgaWYgKHRoaXMuaW1hZ2UgJiYgIWl0ZW0uaW1hZ2UpIHJldHVybiAtMTsKICAgICAgaWYgKCF0aGlzLmltYWdlICYmIGl0ZW0uaW1hZ2UpIHJldHVybiAxOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlUHJvbW90aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZVByb21vdGlvbnMoaXRlbSkgewogICAgICB2YXIgcHJpY2UxID0gdGhpcy5wcmljZTsKICAgICAgdmFyIHByaWNlMiA9IGl0ZW0ucHJpY2U7CiAgICAgIHZhciBwcm9tb3Rpb24xID0gcHJpY2UxID8gVS5vcHRTdHJpbmcocHJpY2UxLnByb21vdGlvbikudHJpbSgpIDogIiI7CiAgICAgIHZhciBwcm9tb3Rpb24yID0gcHJpY2UyID8gVS5vcHRTdHJpbmcocHJpY2UyLnByb21vdGlvbikudHJpbSgpIDogIiI7CiAgICAgIHZhciBoYXNQcm9tb3Rpb24xID0gcHJvbW90aW9uMS5sZW5ndGggPiAwOwogICAgICB2YXIgaGFzUHJvbW90aW9uMiA9IHByb21vdGlvbjIubGVuZ3RoID4gMDsKICAgICAgaWYgKGhhc1Byb21vdGlvbjEgJiYgIWhhc1Byb21vdGlvbjIpIHJldHVybiAtMTsKICAgICAgaWYgKCFoYXNQcm9tb3Rpb24xICYmIGhhc1Byb21vdGlvbjIpIHJldHVybiAxOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlUHJpY2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wYXJlUHJpY2VzKGl0ZW0pIHsKICAgICAgdmFyIHByaWNlMSA9IHRoaXMucHJpY2U7CiAgICAgIHZhciBwcmljZTIgPSBpdGVtLnByaWNlOwogICAgICB2YXIgbm9ybWFsMSA9IHByaWNlMSA/IFUub3B0U3RyaW5nKHByaWNlMS5ub3JtYWwpLnRyaW0oKSA6ICIiOwogICAgICB2YXIgbm9ybWFsMiA9IHByaWNlMiA/IFUub3B0U3RyaW5nKHByaWNlMi5ub3JtYWwpLnRyaW0oKSA6ICIiOwogICAgICBpZiAoIW5vcm1hbDEgJiYgbm9ybWFsMikgcmV0dXJuIDE7CiAgICAgIGlmIChub3JtYWwxICYmICFub3JtYWwyKSByZXR1cm4gLTE7CiAgICAgIGlmIChub3JtYWwxID4gbm9ybWFsMikgcmV0dXJuIC0xOwogICAgICBpZiAobm9ybWFsMSA8IG5vcm1hbDIpIHJldHVybiAxOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlU2Vjb25kSGFuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZVNlY29uZEhhbmQoaXRlbSkgewogICAgICB2YXIgX3RoaXMkc3RvY2syLCBfaXRlbSRzdG9jazIsIF9zdG9jazEkaXNTZWNvbmRIYW5kLCBfc3RvY2syJGlzU2Vjb25kSGFuZDsKCiAgICAgIHZhciBzdG9jazEgPSAoX3RoaXMkc3RvY2syID0gdGhpcy5zdG9jaykgIT09IG51bGwgJiYgX3RoaXMkc3RvY2syICE9PSB2b2lkIDAgPyBfdGhpcyRzdG9jazIgOiB7CiAgICAgICAgaXNBdmFpbGFibGU6IHRydWUsCiAgICAgICAgaXNTZWNvbmRIYW5kOiBmYWxzZQogICAgICB9OwogICAgICB2YXIgc3RvY2syID0gKF9pdGVtJHN0b2NrMiA9IGl0ZW0uc3RvY2spICE9PSBudWxsICYmIF9pdGVtJHN0b2NrMiAhPT0gdm9pZCAwID8gX2l0ZW0kc3RvY2syIDogewogICAgICAgIGlzQXZhaWxhYmxlOiB0cnVlLAogICAgICAgIGlzU2Vjb25kSGFuZDogZmFsc2UKICAgICAgfTsKICAgICAgdmFyIGlzU2Vjb25kSGFuZDEgPSAoX3N0b2NrMSRpc1NlY29uZEhhbmQgPSBzdG9jazEuaXNTZWNvbmRIYW5kKSAhPT0gbnVsbCAmJiBfc3RvY2sxJGlzU2Vjb25kSGFuZCAhPT0gdm9pZCAwID8gX3N0b2NrMSRpc1NlY29uZEhhbmQgOiBmYWxzZTsKICAgICAgdmFyIGlzU2Vjb25kSGFuZDIgPSAoX3N0b2NrMiRpc1NlY29uZEhhbmQgPSBzdG9jazIuaXNTZWNvbmRIYW5kKSAhPT0gbnVsbCAmJiBfc3RvY2syJGlzU2Vjb25kSGFuZCAhPT0gdm9pZCAwID8gX3N0b2NrMiRpc1NlY29uZEhhbmQgOiBmYWxzZTsKICAgICAgaWYgKGlzU2Vjb25kSGFuZDEgJiYgIWlzU2Vjb25kSGFuZDIpIHJldHVybiAxOwogICAgICBpZiAoIWlzU2Vjb25kSGFuZDEgJiYgaXNTZWNvbmRIYW5kMikgcmV0dXJuIC0xOwogICAgICByZXR1cm4gMDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQcmljZU5vcm1hbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJpY2VOb3JtYWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnByaWNlID8gdGhpcy5wcmljZS5ub3JtYWwgOiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFByaWNlUHJvbW90aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcmljZVByb21vdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucHJpY2UgPyB0aGlzLnByaWNlLnByb21vdGlvbiA6IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UHJpY2VOb3JtYWxWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJpY2VOb3JtYWxWYWx1ZSgpIHsKICAgICAgdmFyIG5vcm1hbCA9IHRoaXMuZ2V0UHJpY2VOb3JtYWwoKTsKICAgICAgcmV0dXJuIG5vcm1hbCA/IG5vcm1hbC52YWx1ZSA6IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UHJpY2VQcm9tb3Rpb25WYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJpY2VQcm9tb3Rpb25WYWx1ZSgpIHsKICAgICAgdmFyIHByb21vdGlvbiA9IHRoaXMuZ2V0UHJpY2VQcm9tb3Rpb24oKTsKICAgICAgcmV0dXJuIHByb21vdGlvbiA/IHByb21vdGlvbi52YWx1ZSA6IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TGluayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGluaygpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdChBcHBIb3N0LnBhdGgsICIvaXRlbS9pZC8iKS5jb25jYXQodGhpcy5pZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmV0Y2hCcmFuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoQnJhbmQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBicmFuZHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYnJhbmRJZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJhbmRTdG9yZS5kaXNwYXRjaCgiZ2V0SXRlbXMiKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYnJhbmRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGJyYW5kcy5maW5kKGZ1bmN0aW9uIChicmFuZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYnJhbmQuaWQgPT09IF90aGlzMi5icmFuZElkOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmV0Y2hCcmFuZCgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoQnJhbmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoQnJhbmQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmZXRjaEZ1bGxUaXRsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoRnVsbFRpdGxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdGl0bGUsIGJyYW5kLCBicmFuZFRpdGxlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aXRsZSA9IHRoaXMudGl0bGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEJyYW5kKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGJyYW5kID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBicmFuZFRpdGxlID0gYnJhbmQgPyBicmFuZC50aXRsZSA6ICIiOwoKICAgICAgICAgICAgICAgIGlmICghKCFicmFuZFRpdGxlICYmICF0aXRsZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgIiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoIShicmFuZFRpdGxlICYmIHRpdGxlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAiIi5jb25jYXQoYnJhbmRUaXRsZSwgIiAiKS5jb25jYXQodGl0bGUpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKCF0aXRsZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdGl0bGUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKCFicmFuZFRpdGxlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBicmFuZFRpdGxlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAiIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmZXRjaEZ1bGxUaXRsZSgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoRnVsbFRpdGxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmZXRjaEZ1bGxUaXRsZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImZldGNoQ2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaENhdGVnb3J5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIGNhdGVnb3JpZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhdGVnb3J5SWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhdGVnb3J5U3RvcmUuZGlzcGF0Y2goImdldEl0ZW1zIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBjYXRlZ29yaWVzLmZpbmQoZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeS5pZCA9PT0gX3RoaXMzLmNhdGVnb3J5SWQ7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoQ2F0ZWdvcnkoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaENhdGVnb3J5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmZXRjaENhdGVnb3J5OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaXNQcmljZVByb21vdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNQcmljZVByb21vdGlvbigpIHsKICAgICAgdmFyIHByaWNlID0gdGhpcy5wcmljZTsKICAgICAgaWYgKCFwcmljZSkgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgbm9ybWFsVmFsdWUgPSBwcmljZS5ub3JtYWwgPyBwcmljZS5ub3JtYWwudmFsdWUgOiAwOwogICAgICB2YXIgcHJvbW90aW9uVmFsdWUgPSBwcmljZS5ub3JtYWwgPyBwcmljZS5wcm9tb3Rpb24udmFsdWUgOiAwOwogICAgICByZXR1cm4gbm9ybWFsVmFsdWUgPiAwICYmIHByb21vdGlvblZhbHVlID4gMCAmJiBub3JtYWxWYWx1ZSA+IHByb21vdGlvblZhbHVlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzU3RvY2tBdmFpbGFibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3RvY2tBdmFpbGFibGUoKSB7CiAgICAgIHZhciBzdG9jayA9IHRoaXMuc3RvY2s7CiAgICAgIHJldHVybiBzdG9jayA/IHN0b2NrLmlzQXZhaWxhYmxlIDogdHJ1ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1N0b2NrU2Vjb25kSGFuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdG9ja1NlY29uZEhhbmQoKSB7CiAgICAgIHZhciBzdG9jayA9IHRoaXMuc3RvY2s7CiAgICAgIHJldHVybiBzdG9jayA/IHN0b2NrLmlzU2Vjb25kSGFuZCA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEJyYW5kSWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJyYW5kSWQoYnJhbmRJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuYnJhbmRJZCA9IGJyYW5kSWQ7CiAgICAgIHRoaXMuZmV0Y2hCcmFuZCgpLnRoZW4oZnVuY3Rpb24gKGJyYW5kKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5icmFuZCA9IGJyYW5kOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDYXRlZ29yeUlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDYXRlZ29yeUlkKGNhdGVnb3J5SWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmNhdGVnb3J5SWQgPSBjYXRlZ29yeUlkOwogICAgICB0aGlzLmZldGNoQ2F0ZWdvcnkoKS50aGVuKGZ1bmN0aW9uIChjYXRlZ29yeSkgewogICAgICAgIHJldHVybiBfdGhpczUuY2F0ZWdvcnkgPSBjYXRlZ29yeTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UHJpY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFByaWNlKHByaWNlKSB7CiAgICAgIHZhciBfcmVmID0gcHJpY2UgPyBwcmljZSA6IHt9LAogICAgICAgICAgbm9ybWFsID0gX3JlZi5ub3JtYWwsCiAgICAgICAgICBwcm9tb3Rpb24gPSBfcmVmLnByb21vdGlvbjsKCiAgICAgIHRoaXMucHJpY2UgPSB7CiAgICAgICAgbm9ybWFsOiBQcm9kdWN0UHJpY2UucGFyc2VTdHJpbmcoVS5pc1N0cmluZyhub3JtYWwpID8gbm9ybWFsIDogIiIpLAogICAgICAgIHByb21vdGlvbjogUHJvZHVjdFByaWNlLnBhcnNlU3RyaW5nKFUuaXNTdHJpbmcocHJvbW90aW9uKSA/IHByb21vdGlvbiA6ICIiKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInNldEltYWdlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW1hZ2VzKGltYWdlcykgewogICAgICB0aGlzLmltYWdlcyA9IGltYWdlcy5maWx0ZXIoZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgcmV0dXJuIFUuaXNTdHJpbmcoaW1hZ2UubWV0aG9kKSAmJiBVLmlzU3RyaW5nKGltYWdlLnBhdGgpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZSgpLmZyb21EYXRhKHsKICAgICAgICAgIG1ldGhvZDogaW1hZ2UubWV0aG9kLAogICAgICAgICAgcGF0aDogaW1hZ2UucGF0aAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRJbWFnZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEltYWdlcyhpbWFnZXMpIHsKICAgICAgdmFyIF90aGlzJGltYWdlczsKCiAgICAgIChfdGhpcyRpbWFnZXMgPSB0aGlzLmltYWdlcykucHVzaC5hcHBseShfdGhpcyRpbWFnZXMsIF90b0NvbnN1bWFibGVBcnJheShpbWFnZXMubWFwKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZSgpLmZyb21EYXRhKGRhdGEpOwogICAgICB9KSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUltYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJbWFnZShpbWFnZSkgewogICAgICB0aGlzLmltYWdlcyA9IHRoaXMuaW1hZ2VzLmZpbHRlcihmdW5jdGlvbiAodGhpc0ltYWdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXNJbWFnZS5wYXRoICE9PSBpbWFnZS5wYXRoOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRTcGVjaWZpY2F0aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3BlY2lmaWNhdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHNwZWNpZmljYXRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdGhpcy5zcGVjaWZpY2F0aW9ucyA9IHNwZWNpZmljYXRpb25zLm1hcChmdW5jdGlvbiAoc3BlY2lmaWNhdGlvbikgewogICAgICAgIHJldHVybiBuZXcgUHJvZHVjdFNwZWNDb250ZW50KF90aGlzNi5zdG9yZXMpLmZyb21EYXRhKHsKICAgICAgICAgIGtleTogc3BlY2lmaWNhdGlvbi50eXBlLAogICAgICAgICAgY29udGVudDogc3BlY2lmaWNhdGlvbi5jb250ZW50CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFNwZWNpZmljYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNwZWNpZmljYXRpb24oc3BlY2lmaWNhdGlvbikgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIG5ldyBQcm9kdWN0U3BlY0NvbnRlbnQoKS5mcm9tRGF0YSh7CiAgICAgICAga2V5OiBzcGVjaWZpY2F0aW9uLnR5cGUsCiAgICAgICAgY29udGVudDogc3BlY2lmaWNhdGlvbi5jb250ZW50CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNwZWMpIHsKICAgICAgICBfdGhpczcuc3BlY2lmaWNhdGlvbi5wdXNoKHNwZWMpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVTcGVjaWZpY2F0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVTcGVjaWZpY2F0aW9uKHNwZWNpZmljYXRpb24pIHsKICAgICAgdGhpcy5zcGVjaWZpY2F0aW9ucyA9IHRoaXMuc3BlY2lmaWNhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh0aGlzU3BlY2lmaWNhdGlvbikgewogICAgICAgIHJldHVybiAhKHRoaXNTcGVjaWZpY2F0aW9uLnR5cGUgPT09IHNwZWNpZmljYXRpb24udHlwZSAmJiB0aGlzU3BlY2lmaWNhdGlvbi5jb250ZW50ID09PSBzcGVjaWZpY2F0aW9uLmNvbnRlbnQpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRCdW5kbGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRCdW5kbGVzKCkgewogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHRoaXMuYnVuZGxlcyA9IChBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdKS5tYXAoZnVuY3Rpb24gKGJ1bmRsZSkgewogICAgICAgIHJldHVybiBNb2R1bGVCdW5kbGUudHJpbShidW5kbGUpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRCdW5kbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEJ1bmRsZShidW5kbGUpIHsKICAgICAgdGhpcy5idW5kbGVzLnB1c2goYnVuZGxlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVCdW5kbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUJ1bmRsZShidW5kbGUpIHsKICAgICAgdGhpcy5idW5kbGVzID0gdGhpcy5idW5kbGVzLmZpbHRlcihmdW5jdGlvbiAodGhpc0J1bmRsZSkgewogICAgICAgIHJldHVybiB0aGlzQnVuZGxlLnRpdGxlICE9PSBidW5kbGUudGl0bGU7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEdpZnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRHaWZ0cygpIHsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmdpZnRzID0gKEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW10pLm1hcChmdW5jdGlvbiAoZ2lmdCkgewogICAgICAgIHJldHVybiBVLmlzU3RyaW5nKGdpZnQpID8gZ2lmdC50cmltKCkgOiAiIjsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChnaWZ0KSB7CiAgICAgICAgcmV0dXJuIGdpZnQ7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZEdpZnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEdpZnQoZ2lmdCkgewogICAgICB0aGlzLmdpZnRzLnB1c2goZ2lmdCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlR2lmdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlR2lmdChnaWZ0KSB7CiAgICAgIHRoaXMuZ2lmdHMgPSB0aGlzLmdpZnRzLmZpbHRlcihmdW5jdGlvbiAodGhpc0dpZnQpIHsKICAgICAgICByZXR1cm4gdGhpc0dpZnQgIT09IGdpZnQ7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFByb2R1Y3Q7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7"},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/Product.js"],"names":["AppHost","ModuleProduct","ModuleStock","ModuleBundle","Image","ProductSpecContent","ProductPrice","ItemSearcher","U","textContains","Product","stores","trim","categoryStore","category","productStore","product","brandStore","brand","specificationStore","specification","data","isObject","image","images","push","id","_id","title","optString","description","setGifts","gifts","setBundles","bundles","setBrandId","brandId","setCategoryId","categoryId","setSpecifications","specifications","setImages","setPrice","price","stock","itemSpecification","type","key","content","pricePromotion","promotion","priceNormal","normal","undefined","map","gift","bundle","toData","strs","reduce","count","str","specContent","length","item","value","compareAvailable","comparePromotions","compareSecondHand","compareImage","comparePrices","stock1","isAvailable","isSecondHand","stock2","isAvailable1","isAvailable2","price1","price2","promotion1","promotion2","hasPromotion1","hasPromotion2","normal1","normal2","isSecondHand1","isSecondHand2","getPriceNormal","getPricePromotion","path","dispatch","brands","find","fetchBrand","brandTitle","categories","normalValue","promotionValue","then","fetchCategory","parseString","isString","filter","method","fromData","thisImage","spec","thisSpecification","Array","isArray","thisBundle","thisGift"],"mappings":"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","sourcesContent":["import AppHost from \"@/host/AppHost.js\";\r\n\r\nimport ModuleProduct from \"./data/Product.js\";\r\nimport ModuleStock from \"./data/ProductStock.js\";\r\nimport ModuleBundle from \"./data/ProductBundle.js\";\r\n\r\nimport Image from \"./Image.js\";\r\nimport ProductSpecContent from \"./ProductSpecContent.js\";\r\nimport ProductPrice from \"./ProductPrice.js\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\n\r\nimport U from \"@/U.js\";\r\n\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nclass Product {\r\n\tstores = null;\r\n\tcategoryStore = null;\r\n\tproductStore = null;\r\n\tbrandStore = null;\r\n\tspecificationStore = null;\r\n\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t\tthis.categoryStore = stores.category;\r\n\t\tthis.productStore = stores.product;\r\n\t\tthis.brandStore = stores.brand;\r\n\t\tthis.specificationStore = stores.specification;\r\n\t}\r\n\r\n\tid = \"\";\r\n\ttitle = \"\";\r\n\tdescription = \"\";\r\n\tgifts = [];\r\n\tbundles = [];\r\n\tbrandId = \"\";\r\n\tcategoryId = \"\";\r\n\tspecifications = [];\r\n\timages = [];\r\n\tprice = null;\r\n\tstock = ModuleStock.trim({});\r\n\r\n\tfromData(data) {\r\n\t\tdata = ModuleProduct.trim(data);\r\n\r\n\t\tif (U.isObject(data.image) && data.image) data.images.push(data.image);\r\n\r\n\t\tthis.id = data._id;\r\n\t\tthis.title = U.optString(data.title);\r\n\t\tthis.description = U.optString(data.description).trim();\r\n\t\tthis.setGifts(data.gifts);\r\n\t\tthis.setBundles(data.bundles);\r\n\t\tthis.setBrandId(data.brandId);\r\n\t\tthis.setCategoryId(data.categoryId);\r\n\t\tthis.setSpecifications(data.specifications);\r\n\t\tthis.setImages(data.images);\r\n\t\tthis.setPrice(data.price);\r\n\r\n\t\tthis.stock = data.stock;\r\n\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\tlet specification = {};\r\n\t\tfor (let itemSpecification of this.specifications) {\r\n\t\t\tspecification[itemSpecification.type.key] = itemSpecification.content;\r\n\t\t}\r\n\r\n\t\tlet price = this.price ? this.price : {};\r\n\t\tlet pricePromotion = price.promotion;\r\n\t\tlet priceNormal = price.normal;\r\n\r\n\t\treturn {\r\n\t\t\t_id: this.id,\r\n\t\t\ttitle: this.title ? this.title : undefined,\r\n\t\t\tdescription: this.description ? this.description : undefined,\r\n\t\t\tbrandId: U.optString(this.brandId),\r\n\t\t\tcategoryId: U.optString(this.categoryId),\r\n\t\t\tstock: ModuleStock.trim(this.stock),\r\n\t\t\tgifts: this.gifts.map((gift) => gift),\r\n\t\t\tbundles: this.bundles.map((bundle) => ModuleBundle.trim(bundle)),\r\n\t\t\timage: this.image ? this.image.toData() : {},\r\n\t\t\tspecification,\r\n\t\t\tprice: { normal: pricePromotion, promotion: priceNormal },\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\tlet { brand, category, specifications } = this;\r\n\r\n\t\treturn strs.reduce((count, str) => {\r\n\t\t\tcount += textContains(\"product\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.title, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.description, str) ? 1 : 0;\r\n\t\t\tcount += brand && textContains(brand.title, str) ? 1 : 0;\r\n\t\t\tcount += category && textContains(category.title, str) ? 1 : 0;\r\n\t\t\tcount += specifications.reduce((count, specContent) => {\r\n\t\t\t\tlet { type, content } = specContent;\r\n\t\t\t\tcount += type && textContains(type.title, str) ? 1 : 0;\r\n\t\t\t\tcount += textContains(content, str) ? 1 : 0;\r\n\t\t\t\treturn count;\r\n\t\t\t}, 0);\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\t}\r\n\ttoImageThumbnail() {\r\n\t\treturn this.images.length ? this.images[0] : null;\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\tlet value = 0;\r\n\t\tif (value === 0) value = this.compareAvailable(item);\r\n\t\tif (value === 0) value = this.comparePromotions(item);\r\n\t\tif (value === 0) value = this.compareSecondHand(item);\r\n\t\tif (value === 0) value = this.compareImage(item);\r\n\t\tif (value === 0) value = this.comparePrices(item);\r\n\t\treturn value;\r\n\t}\r\n\tcompareAvailable(item) {\r\n\t\tconst stock1 = this.stock ?? { isAvailable: true, isSecondHand: false };\r\n\t\tconst stock2 = item.stock ?? { isAvailable: true, isSecondHand: false };\r\n\t\tconst isAvailable1 = stock1.isAvailable ?? true;\r\n\t\tconst isAvailable2 = stock2.isAvailable ?? true;\r\n\r\n\t\tif (isAvailable1 && !isAvailable2) return -1;\r\n\t\tif (!isAvailable1 && isAvailable2) return 1;\r\n\t\treturn 0;\r\n\t}\r\n\tcompareImage(item) {\r\n\t\tif (this.image && !item.image) return -1;\r\n\t\tif (!this.image && item.image) return 1;\r\n\t\treturn 0;\r\n\t}\r\n\tcomparePromotions(item) {\r\n\t\tlet price1 = this.price;\r\n\t\tlet price2 = item.price;\r\n\r\n\t\tlet promotion1 = price1 ? U.optString(price1.promotion).trim() : \"\";\r\n\t\tlet promotion2 = price2 ? U.optString(price2.promotion).trim() : \"\";\r\n\r\n\t\tlet hasPromotion1 = promotion1.length > 0;\r\n\t\tlet hasPromotion2 = promotion2.length > 0;\r\n\r\n\t\tif (hasPromotion1 && !hasPromotion2) return -1;\r\n\t\tif (!hasPromotion1 && hasPromotion2) return 1;\r\n\t\treturn 0;\r\n\t}\r\n\tcomparePrices(item) {\r\n\t\tlet price1 = this.price;\r\n\t\tlet price2 = item.price;\r\n\r\n\t\tlet normal1 = price1 ? U.optString(price1.normal).trim() : \"\";\r\n\t\tlet normal2 = price2 ? U.optString(price2.normal).trim() : \"\";\r\n\r\n\t\tif (!normal1 && normal2) return 1;\r\n\t\tif (normal1 && !normal2) return -1;\r\n\r\n\t\tif (normal1 > normal2) return -1;\r\n\t\tif (normal1 < normal2) return 1;\r\n\t\treturn 0;\r\n\t}\r\n\tcompareSecondHand(item) {\r\n\t\tconst stock1 = this.stock ?? { isAvailable: true, isSecondHand: false };\r\n\t\tconst stock2 = item.stock ?? { isAvailable: true, isSecondHand: false };\r\n\r\n\t\tconst isSecondHand1 = stock1.isSecondHand ?? false;\r\n\t\tconst isSecondHand2 = stock2.isSecondHand ?? false;\r\n\t\tif (isSecondHand1 && !isSecondHand2) return 1;\r\n\t\tif (!isSecondHand1 && isSecondHand2) return -1;\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tgetPriceNormal() {\r\n\t\treturn this.price ? this.price.normal : null;\r\n\t}\r\n\tgetPricePromotion() {\r\n\t\treturn this.price ? this.price.promotion : null;\r\n\t}\r\n\tgetPriceNormalValue() {\r\n\t\tconst normal = this.getPriceNormal();\r\n\t\treturn normal ? normal.value : 0;\r\n\t}\r\n\tgetPricePromotionValue() {\r\n\t\tconst promotion = this.getPricePromotion();\r\n\t\treturn promotion ? promotion.value : 0;\r\n\t}\r\n\tgetLink() {\r\n\t\treturn `${AppHost.path}/item/id/${this.id}`;\r\n\t}\r\n\tasync fetchBrand() {\r\n\t\tif (!this.brandId) return null;\r\n\t\tconst brands = await this.brandStore.dispatch(\"getItems\");\r\n\t\treturn brands.find((brand) => brand.id === this.brandId);\r\n\t}\r\n\tasync fetchFullTitle() {\r\n\t\tconst { title } = this;\r\n\t\tconst brand = await this.fetchBrand();\r\n\t\tconst brandTitle = brand ? brand.title : \"\";\r\n\r\n\t\tif (!brandTitle && !title) return \"\";\r\n\t\tif (brandTitle && title) return `${brandTitle} ${title}`;\r\n\t\tif (title) return title;\r\n\t\tif (brandTitle) return brandTitle;\r\n\t\treturn \"\";\r\n\t}\r\n\tasync fetchCategory() {\r\n\t\tif (!this.categoryId) return null;\r\n\t\tconst categories = await this.categoryStore.dispatch(\"getItems\");\r\n\t\treturn categories.find((category) => category.id === this.categoryId);\r\n\t}\r\n\r\n\tisPricePromotion() {\r\n\t\tlet price = this.price;\r\n\t\tif (!price) return false;\r\n\r\n\t\tlet normalValue = price.normal ? price.normal.value : 0;\r\n\t\tlet promotionValue = price.normal ? price.promotion.value : 0;\r\n\r\n\t\treturn (\r\n\t\t\tnormalValue > 0 && promotionValue > 0 && normalValue > promotionValue\r\n\t\t);\r\n\t}\r\n\tisStockAvailable() {\r\n\t\tlet stock = this.stock;\r\n\t\treturn stock ? stock.isAvailable : true;\r\n\t}\r\n\tisStockSecondHand() {\r\n\t\tlet stock = this.stock;\r\n\t\treturn stock ? stock.isSecondHand : false;\r\n\t}\r\n\r\n\tsetBrandId(brandId) {\r\n\t\tthis.brandId = brandId;\r\n\t\tthis.fetchBrand().then((brand) => (this.brand = brand));\r\n\t}\r\n\tsetCategoryId(categoryId) {\r\n\t\tthis.categoryId = categoryId;\r\n\t\tthis.fetchCategory().then((category) => (this.category = category));\r\n\t}\r\n\tsetPrice(price) {\r\n\t\tlet { normal, promotion } = price ? price : {};\r\n\t\tthis.price = {\r\n\t\t\tnormal: ProductPrice.parseString(U.isString(normal) ? normal : \"\"),\r\n\t\t\tpromotion: ProductPrice.parseString(\r\n\t\t\t\tU.isString(promotion) ? promotion : \"\",\r\n\t\t\t),\r\n\t\t};\r\n\t}\r\n\r\n\tsetImages(images) {\r\n\t\tthis.images = images\r\n\t\t\t.filter((image) => U.isString(image.method) && U.isString(image.path))\r\n\t\t\t.map((image) => {\r\n\t\t\t\treturn new Image().fromData({ method: image.method, path: image.path });\r\n\t\t\t});\r\n\t}\r\n\taddImages(images) {\r\n\t\tthis.images.push(...images.map((data) => new Image().fromData(data)));\r\n\t}\r\n\tremoveImage(image) {\r\n\t\tthis.images = this.images.filter((thisImage) => {\r\n\t\t\treturn thisImage.path !== image.path;\r\n\t\t});\r\n\t}\r\n\r\n\tsetSpecifications(specifications = []) {\r\n\t\tthis.specifications = specifications.map((specification) => {\r\n\t\t\treturn new ProductSpecContent(this.stores).fromData({\r\n\t\t\t\tkey: specification.type,\r\n\t\t\t\tcontent: specification.content,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\taddSpecification(specification) {\r\n\t\tnew ProductSpecContent()\r\n\t\t\t.fromData({\r\n\t\t\t\tkey: specification.type,\r\n\t\t\t\tcontent: specification.content,\r\n\t\t\t})\r\n\t\t\t.then((spec) => {\r\n\t\t\t\tthis.specification.push(spec);\r\n\t\t\t});\r\n\t}\r\n\tremoveSpecification(specification) {\r\n\t\tthis.specifications = this.specifications.filter((thisSpecification) => {\r\n\t\t\treturn !(\r\n\t\t\t\tthisSpecification.type === specification.type &&\r\n\t\t\t\tthisSpecification.content === specification.content\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tsetBundles(data = []) {\r\n\t\tthis.bundles = (Array.isArray(data) ? data : []).map((bundle) =>\r\n\t\t\tModuleBundle.trim(bundle),\r\n\t\t);\r\n\t}\r\n\taddBundle(bundle) {\r\n\t\tthis.bundles.push(bundle);\r\n\t}\r\n\tremoveBundle(bundle) {\r\n\t\tthis.bundles = this.bundles.filter((thisBundle) => {\r\n\t\t\treturn thisBundle.title !== bundle.title;\r\n\t\t});\r\n\t}\r\n\r\n\tsetGifts(data = []) {\r\n\t\tthis.gifts = (Array.isArray(data) ? data : [])\r\n\t\t\t.map((gift) => (U.isString(gift) ? gift.trim() : \"\"))\r\n\t\t\t.filter((gift) => gift);\r\n\t}\r\n\taddGift(gift) {\r\n\t\tthis.gifts.push(gift);\r\n\t}\r\n\tremoveGift(gift) {\r\n\t\tthis.gifts = this.gifts.filter((thisGift) => thisGift !== gift);\r\n\t}\r\n}\r\n\r\nexport default Product;\r\n"]}]}