{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\src\\items\\Order.js","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\items\\Order.js","mtime":1668341407676},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcZGV2XFxmcmVzaG5ldC12dWVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGRlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBNb2R1bGVPcmRlciBmcm9tICIuL2RhdGEvT3JkZXIuanMiOwppbXBvcnQgT3JkZXJDdXN0b21lciBmcm9tICIuL09yZGVyQ3VzdG9tZXIuanMiOwppbXBvcnQgSXRlbVNlYXJjaGVyIGZyb20gIi4vdG9vbHMvSXRlbVNlYXJjaGVyLmpzIjsKdmFyIHRleHRDb250YWlucyA9IEl0ZW1TZWFyY2hlci50ZXh0Q29udGFpbnM7Cgp2YXIgT3JkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIC8vIGxlZ2FjeQogIC8vbGVnYWN5CiAgZnVuY3Rpb24gT3JkZXIoc3RvcmVzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3JkZXIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RvcmVzIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJpZCIsICIiKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImN1c3RvbWVyIiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjb250ZW50IiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3JlYXRlZEF0IiwgIiIpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3RhdHVzIiwgT3JkZXIuU1RBVFVTX1BFTkRJTkcpOwoKICAgIHRoaXMuc3RvcmVzID0gc3RvcmVzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKE9yZGVyLCBbewogICAga2V5OiAiZnJvbURhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21EYXRhKGRhdGEpIHsKICAgICAgZGF0YSA9IE1vZHVsZU9yZGVyLnRyaW0oZGF0YSk7CiAgICAgIHRoaXMuaWQgPSBkYXRhLl9pZDsgLy8gdGhpcy5jdXN0b21lcl9uYW1lID0gZGF0YS5jdXN0b21lcl9uYW1lOwogICAgICAvLyB0aGlzLnBob25lX251bWJlciA9IGRhdGEucGhvbmVfbnVtYmVyOwoKICAgICAgdGhpcy5jdXN0b21lciA9IG5ldyBPcmRlckN1c3RvbWVyKHRoaXMuc3RvcmVzKS5mcm9tRGF0YSh7CiAgICAgICAgbmFtZTogZGF0YS5jdXN0b21lcl9uYW1lLAogICAgICAgIHBob25lTnVtYmVyOiBkYXRhLnBob25lX251bWJlcgogICAgICB9KTsKICAgICAgdGhpcy5jb250ZW50ID0gZGF0YS5jb250ZW50OwogICAgICB0aGlzLmNyZWF0ZWRBdCA9IGRhdGEuY3JlYXRlZEF0OwogICAgICB0aGlzLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0RhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvRGF0YSgpIHsKICAgICAgdmFyIGN1c3RvbWVyID0gdGhpcy5jdXN0b21lci50b0RhdGEoKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBfaWQ6IHRoaXMuaWQsCiAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LAogICAgICAgIGN1c3RvbWVyX25hbWU6IGN1c3RvbWVyLm5hbWUsCiAgICAgICAgcGhvbmVfbnVtYmVyOiBjdXN0b21lci5waG9uZU51bWJlciwKICAgICAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LAogICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0NvdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0NvdW50KHN0cnMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb3VudCA9IHN0cnMucmVkdWNlKGZ1bmN0aW9uIChjb3VudCwgc3RyKSB7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKCJvcmRlciIsIHN0cikgPyAxIDogMDsKICAgICAgICBjb3VudCArPSB0ZXh0Q29udGFpbnMoX3RoaXMuY29udGVudCwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucyhfdGhpcy5jdXN0b21lcl9uYW1lLCBzdHIpID8gMSA6IDA7CiAgICAgICAgY291bnQgKz0gdGV4dENvbnRhaW5zKF90aGlzLnBob25lX251bWJlciwgc3RyKSA/IDEgOiAwOwogICAgICAgIGNvdW50ICs9IHRleHRDb250YWlucyhfdGhpcy5zdGF0dXMsIHN0cikgPyAxIDogMDsKICAgICAgICByZXR1cm4gY291bnQ7CiAgICAgIH0sIDApOwogICAgICBjb3VudCArPSB0aGlzLmN1c3RvbWVyLnRvQ291bnQoc3Rycyk7CiAgICAgIHJldHVybiBjb3VudDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wYXJlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wYXJlKGl0ZW0pIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT3JkZXI7Cn0oKTsKCl9kZWZpbmVQcm9wZXJ0eShPcmRlciwgIlNUQVRVUyIsIHsKICBQRU5ESU5HOiBNb2R1bGVPcmRlci5TdGF0dXMuUGVuZGluZywKICBDT01QTEVURUQ6IE1vZHVsZU9yZGVyLlN0YXR1cy5Db21wbGV0ZWQKfSk7CgpfZGVmaW5lUHJvcGVydHkoT3JkZXIsICJTVEFUVVNfUEVORElORyIsIE1vZHVsZU9yZGVyLlN0YXR1cy5QZW5kaW5nKTsKCl9kZWZpbmVQcm9wZXJ0eShPcmRlciwgIlNUQVRVU19DT01QTEVURUQiLCBNb2R1bGVPcmRlci5TdGF0dXMuQ29tcGxldGVkKTsKCmV4cG9ydCBkZWZhdWx0IE9yZGVyOw=="},{"version":3,"sources":["C:/dev/freshnet-vue/src/items/Order.js"],"names":["ModuleOrder","OrderCustomer","ItemSearcher","textContains","Order","stores","STATUS_PENDING","data","trim","id","_id","customer","fromData","name","customer_name","phoneNumber","phone_number","content","createdAt","status","toData","strs","count","reduce","str","toCount","item","PENDING","Status","Pending","COMPLETED","Completed"],"mappings":"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","sourcesContent":["import ModuleOrder from \"./data/Order.js\";\r\nimport OrderCustomer from \"./OrderCustomer.js\";\r\nimport ItemSearcher from \"./tools/ItemSearcher.js\";\r\nconst textContains = ItemSearcher.textContains;\r\n\r\nclass Order {\r\n\tstatic STATUS = {\r\n\t\tPENDING: ModuleOrder.Status.Pending,\r\n\t\tCOMPLETED: ModuleOrder.Status.Completed,\r\n\t};\r\n\tstatic STATUS_PENDING = ModuleOrder.Status.Pending; // legacy\r\n\tstatic STATUS_COMPLETED = ModuleOrder.Status.Completed; //legacy\r\n\r\n\tstores = null;\r\n\r\n\tconstructor(stores) {\r\n\t\tthis.stores = stores;\r\n\t}\r\n\r\n\tid = \"\";\r\n\t// customer_name = \"\";\r\n\t// phone_number = \"\";\r\n\tcustomer = null;\r\n\tcontent = \"\";\r\n\tcreatedAt = \"\";\r\n\tstatus = Order.STATUS_PENDING;\r\n\r\n\tfromData(data) {\r\n\t\tdata = ModuleOrder.trim(data);\r\n\r\n\t\tthis.id = data._id;\r\n\t\t// this.customer_name = data.customer_name;\r\n\t\t// this.phone_number = data.phone_number;\r\n\t\tthis.customer = new OrderCustomer(this.stores).fromData({\r\n\t\t\tname: data.customer_name,\r\n\t\t\tphoneNumber: data.phone_number,\r\n\t\t});\r\n\t\tthis.content = data.content;\r\n\t\tthis.createdAt = data.createdAt;\r\n\t\tthis.status = data.status;\r\n\r\n\t\treturn this;\r\n\t}\r\n\ttoData() {\r\n\t\tconst customer = this.customer.toData();\r\n\t\treturn {\r\n\t\t\t_id: this.id,\r\n\t\t\tcontent: this.content,\r\n\t\t\tcustomer_name: customer.name,\r\n\t\t\tphone_number: customer.phoneNumber,\r\n\t\t\tcreatedAt: this.createdAt,\r\n\t\t\tstatus: this.status,\r\n\t\t};\r\n\t}\r\n\ttoCount(strs) {\r\n\t\tlet count = strs.reduce((count, str) => {\r\n\t\t\tcount += textContains(\"order\", str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.content, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.customer_name, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.phone_number, str) ? 1 : 0;\r\n\t\t\tcount += textContains(this.status, str) ? 1 : 0;\r\n\t\t\treturn count;\r\n\t\t}, 0);\r\n\t\tcount += this.customer.toCount(strs);\r\n\r\n\t\treturn count;\r\n\t}\r\n\r\n\tcompare(item) {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nexport default Order;\r\n"]}]}