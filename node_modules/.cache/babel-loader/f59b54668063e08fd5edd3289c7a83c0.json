{"remainingRequest":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\development\\freshnet-v2\\vue\\src\\pages\\service\\items\\ItemService_Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\development\\freshnet-v2\\vue\\src\\pages\\service\\items\\ItemService_Detail.vue","mtime":1662650937451},{"path":"C:\\development\\freshnet-v2\\vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\development\\freshnet-v2\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCBFdmVudE1vZHVsZSBmcm9tICJALy4uLy4uL2V4cHJlc3MvZGF0YV9zdHJ1Y3R1cmVzL1NlcnZpY2VFdmVudC5qcyI7CmltcG9ydCBTZXJ2aWNlUHJpY2UgZnJvbSAiQC9pdGVtcy9TZXJ2aWNlUHJpY2UiOwppbXBvcnQgTWVudUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvYnV0dG9uL01lbnVCdXR0b24udnVlIjsKaW1wb3J0IEJ1dHRvbjMgZnJvbSAiQC9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24zLnZ1ZSI7CmltcG9ydCBTZXJ2aWNlU3RhdGUgZnJvbSAiQC9pdGVtcy9TZXJ2aWNlU3RhdGUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWVudUJ1dHRvbjogTWVudUJ1dHRvbiwKICAgIEJ1dHRvbjM6IEJ1dHRvbjMKICB9LAogIGVtaXRzOiBbImNhbGxiYWNrLXZpZXciLCAiY2FsbGJhY2stZGVsZXRlIl0sCiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgaXNTZWxlY3RlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHByb3BlcnRpZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1c3RvbWVyOiBmdW5jdGlvbiBjdXN0b21lcihjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0Lml0ZW0uY3VzdG9tZXI7CiAgICB9LAogICAgbmFtZTogZnVuY3Rpb24gbmFtZShjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0LmN1c3RvbWVyLm5hbWU7CiAgICB9LAogICAgcGhvbmVOdW1iZXI6IGZ1bmN0aW9uIHBob25lTnVtYmVyKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGNvbnRleHQuY3VzdG9tZXIucGhvbmVOdW1iZXI7CiAgICB9LAogICAgZGVzY3JpcHRpb246IGZ1bmN0aW9uIGRlc2NyaXB0aW9uKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGNvbnRleHQuaXRlbS5kZXNjcmlwdGlvbjsKICAgIH0sCiAgICBpbWFnZXM6IGZ1bmN0aW9uIGltYWdlcyhjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0Lml0ZW0uZ2V0SW1hZ2VGaWxlcygpOwogICAgfSwKICAgIGlzVXJnZW50OiBmdW5jdGlvbiBpc1VyZ2VudChjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0Lml0ZW0uaXNVcmdlbnQoKTsKICAgIH0sCiAgICBpc1dhcnJhbnR5OiBmdW5jdGlvbiBpc1dhcnJhbnR5KGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGNvbnRleHQuaXRlbS5pc1dhcnJhbnR5KCk7CiAgICB9LAogICAgZXZlbnRzOiBmdW5jdGlvbiBldmVudHMoY29udGV4dCkgewogICAgICB2YXIgZXZlbnRzID0gY29udGV4dC5pdGVtLmdldEV2ZW50cygpOwogICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFtdKS5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIGV2ZW50OwogICAgICB9KS5zb3J0KGZ1bmN0aW9uIChldmVudDEsIGV2ZW50MikgewogICAgICAgIHJldHVybiBldmVudDEuY29tcGFyZShldmVudDIpOwogICAgICB9KTsKICAgIH0sCiAgICB0b3RhbENvc3Q6IGZ1bmN0aW9uIHRvdGFsQ29zdChjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0LmV2ZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGNvc3QsIGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50Lm1ldGhvZCA9PT0gRXZlbnRNb2R1bGUuTWV0aG9kLlB1cmNoYXNlKSB7CiAgICAgICAgICBjb3N0ID0gY29zdC5wbHVzKGV2ZW50LnByaWNlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjb3N0OwogICAgICB9LCBuZXcgU2VydmljZVByaWNlKDApKTsKICAgIH0sCiAgICB0b3RhbENvc3RBbW91bnQ6IGZ1bmN0aW9uIHRvdGFsQ29zdEFtb3VudChjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0LnRvdGFsQ29zdCA/IGNvbnRleHQudG90YWxDb3N0LmdldEFtb3VudCgpIDogMDsKICAgIH0sCiAgICB0aW1lc3RhbXA6IGZ1bmN0aW9uIHRpbWVzdGFtcChjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0Lml0ZW0udGltZXN0YW1wOwogICAgfSwKICAgIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZShjb250ZXh0KSB7CiAgICAgIHJldHVybiBjb250ZXh0Lml0ZW0uc3RhdGU7CiAgICB9LAogICAgcHJpbWFyeUNvbG9yOiBmdW5jdGlvbiBwcmltYXJ5Q29sb3IoY29udGV4dCkgewogICAgICByZXR1cm4gU2VydmljZVN0YXRlLmdldFJlc291cmNlQnlLZXkoY29udGV4dC5zdGF0ZSkuY29sb3I7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9wZXJ0eUJ5S2V5OiBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5S2V5KGtleSkgewogICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmZpbmQoZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgICAgcmV0dXJuIHByb3BlcnR5LmtleSA9PT0ga2V5OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ItemService_Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\n   import EventModule from \"@/../../express/data_structures/ServiceEvent.js\";\r\n   import ServicePrice from \"@/items/ServicePrice\";\r\n\r\n   import MenuButton from \"@/components/button/MenuButton.vue\";\r\n   import Button3 from \"@/components/button/Button3.vue\";\r\n   import ServiceState from \"@/items/ServiceState.js\";\r\n\r\n   export default {\r\n      components: { MenuButton, Button3 },\r\n      emits: [\"callback-view\", \"callback-delete\"],\r\n      props: {\r\n         item: { type: Object, default: null },\r\n         isSelected: { type: Boolean, default: false },\r\n         properties: { type: Array, default: () => [] },\r\n      },\r\n      computed: {\r\n         customer: (context) => context.item.customer,\r\n         name: (context) => context.customer.name,\r\n         phoneNumber: (context) => context.customer.phoneNumber,\r\n         description: (context) => context.item.description,\r\n         images: (context) => context.item.getImageFiles(),\r\n         isUrgent: (context) => context.item.isUrgent(),\r\n         isWarranty: (context) => context.item.isWarranty(),\r\n         events: (context) => {\r\n            const events = context.item.getEvents();\r\n            return (Array.isArray(events) ? events : [])\r\n               .map((event) => event)\r\n               .sort((event1, event2) => event1.compare(event2));\r\n         },\r\n         totalCost: (context) => {\r\n            return context.events.reduce((cost, event) => {\r\n               if (event.method === EventModule.Method.Purchase) {\r\n                  cost = cost.plus(event.price);\r\n               }\r\n               return cost;\r\n            }, new ServicePrice(0));\r\n         },\r\n         totalCostAmount: (context) =>\r\n            context.totalCost ? context.totalCost.getAmount() : 0,\r\n         timestamp: (context) => context.item.timestamp,\r\n\r\n         state: (context) => context.item.state,\r\n         primaryColor: (context) => ServiceState.getResourceByKey(context.state).color,\r\n      },\r\n      methods: {\r\n         getPropertyByKey(key) {\r\n            return this.properties.find((property) => property.key === key);\r\n         },\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <Button3\r\n      class=\"ItemServiceDetail\"\r\n      :style=\"{ '--primary-color': primaryColor }\"\r\n      :isSelected=\"isSelected\"\r\n      @click=\"$emit('callback-view', item)\"\r\n   >\r\n      <div\r\n         :class=\"[\r\n            'ItemServiceDetail-body',\r\n            `ItemServiceDetail-body-${isSelected ? 'isSelected' : 'isDeselected'}`,\r\n         ]\"\r\n      >\r\n         <span\r\n            class=\"ItemServiceDetail-customerName\"\r\n            :style=\"{ '--width': `${getPropertyByKey('customerName').width}px` }\"\r\n            >{{ name }}</span\r\n         >\r\n         <span\r\n            class=\"ItemServiceDetail-customerPhoneNumber\"\r\n            :style=\"{ '--width': `${getPropertyByKey('customerPhoneNumber').width}px` }\"\r\n            >{{ phoneNumber }}</span\r\n         >\r\n\r\n         <!-- <div class=\"ItemServiceDetail-top-dot-body\">\r\n            <div class=\"ItemServiceDetail-state-dot\"></div>\r\n         </div> -->\r\n\r\n         <div\r\n            class=\"ItemServiceDetail-description\"\r\n            :style=\"{ '--width': `${getPropertyByKey('description').width}px` }\"\r\n            >{{ description }}</div\r\n         >\r\n\r\n         <div\r\n            class=\"ItemServiceDetail-images\"\r\n            :style=\"{ '--width': `${getPropertyByKey('images').width}px` }\"\r\n         >\r\n            <span>Images x{{ images.length }}</span>\r\n         </div>\r\n\r\n         <div\r\n            class=\"ItemServiceDetail-notice\"\r\n            :style=\"{ '--width': `${getPropertyByKey('notice').width}px` }\"\r\n         >\r\n            <span class=\"ItemServiceDetail-notice-urgent\" v-if=\"isUrgent\">Urgent</span>\r\n            <span class=\"ItemServiceDetail-notice-warranty\" v-if=\"isWarranty\"\r\n               >Warranty</span\r\n            >\r\n            <span\r\n               class=\"ItemServiceDetail-notice-totalCost\"\r\n               v-if=\"totalCostAmount !== 0\"\r\n               >{{ totalCost }}</span\r\n            >\r\n         </div>\r\n\r\n         <span\r\n            class=\"ItemServiceDetail-timestamp\"\r\n            :style=\"{ '--width': `${getPropertyByKey('timestamp').width}px` }\"\r\n            >{{ timestamp }}</span\r\n         >\r\n      </div>\r\n   </Button3>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .ItemServiceDetail {\r\n      background: white;\r\n\r\n      .ItemServiceDetail-body {\r\n         height: 100%;\r\n         gap: 0.5rem;\r\n         padding: 0.3rem;\r\n\r\n         font-weight: 400;\r\n         font-size: 1rem;\r\n         color: black;\r\n         text-align: start;\r\n         line-height: 1.1;\r\n         transition: var(--animation-duration);\r\n         border-radius: 0 0.5em 0.5em 0;\r\n         border: 0.1em solid transparent;\r\n\r\n         display: flex;\r\n         flex-direction: row;\r\n         align-items: flex-start;\r\n\r\n         & > * {\r\n            --width: 2rem;\r\n            height: 1.1rem;\r\n            white-space: pre-line;\r\n            text-overflow: ellipsis;\r\n            word-wrap: break-word;\r\n            overflow: hidden;\r\n         }\r\n\r\n         .ItemServiceDetail-customerName {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n         }\r\n\r\n         .ItemServiceDetail-customerPhoneNumber {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n         }\r\n\r\n         .ItemServiceDetail-description {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n         }\r\n\r\n         .ItemServiceDetail-images {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: flex-start;\r\n            justify-content: flex-start;\r\n            .ItemServiceDetail-image {\r\n               height: 40px;\r\n            }\r\n         }\r\n\r\n         .ItemServiceDetail-notice {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n\r\n            gap: 0.1rem;\r\n\r\n            display: flex;\r\n            flex-direction: row;\r\n\r\n            & > * {\r\n               width: max-content;\r\n               font-size: 0.9em;\r\n               color: white;\r\n               padding: 0.25em 0.5em;\r\n               padding: 0.15em 0.4em;\r\n               border-radius: 0.2rem;\r\n               line-height: 1;\r\n               background: var(--primary-color);\r\n            }\r\n            .ItemServiceDetail-notice-urgent {\r\n               --primary-color: #d93f35;\r\n            }\r\n            .ItemServiceDetail-notice-warranty {\r\n               --primary-color: #db950c;\r\n            }\r\n            .ItemServiceDetail-notice-totalCost {\r\n               --primary-color: #258915;\r\n            }\r\n         }\r\n\r\n         .ItemServiceDetail-timestamp {\r\n            width: var(--width);\r\n            min-width: var(--width);\r\n            max-width: var(--width);\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"],"sourceRoot":"src/pages/service/items"}]}