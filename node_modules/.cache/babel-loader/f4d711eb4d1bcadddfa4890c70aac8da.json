{"remainingRequest":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\freshnet-vue\\src\\pages\\login\\PageLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\freshnet-vue\\src\\pages\\login\\PageLogin.vue","mtime":1664551315823},{"path":"C:\\dev\\freshnet-vue\\babel.config.js","mtime":1662650914175},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662650915901},{"path":"C:\\dev\\freshnet-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662650916242},{"path":"C:\\dev\\freshnet-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662650934771}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZyZXNobmV0LXZ1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IExvYWRpbmd2MSBmcm9tICJAL2NvbXBvbmVudHMvTG9hZGluZyI7CmltcG9ydCBJbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvSW5wdXQudnVlIjsKaW1wb3J0IEJ1dHRvbjIgZnJvbSAiQC9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24yLnZ1ZSI7CmltcG9ydCBBY3Rpb25iYXIgZnJvbSAiQC9jb21wb25lbnRzL25hdmlnYXRpb24vYWN0aW9uYmFyMi9BY3Rpb25iYXIudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL2FwcC9Gb290ZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIHRpdGxlOiAiU3RhZmYgTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmd2MTogTG9hZGluZ3YxLAogICAgSW5wdXQ6IElucHV0LAogICAgQnV0dG9uMjogQnV0dG9uMiwKICAgIEFjdGlvbmJhcjogQWN0aW9uYmFyLAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3A6IHsKICAgICAgICBzaGFkb3c6IGZhbHNlCiAgICAgIH0sCiAgICAgIHVzZXJuYW1lRXJyb3JUZXh0OiAiIiwKICAgICAgcGFzc3dvcmRFcnJvclRleHQ6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTG9hZGluZzogZnVuY3Rpb24gaXNMb2FkaW5nKGMpIHsKICAgICAgcmV0dXJuIGMubG9naW5TdG9yZS5nZXR0ZXJzLmlzTG9hZGluZzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsaWNrTG9naW46IGZ1bmN0aW9uIGNsaWNrTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnkkcmUsCiAgICAgICAgICBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVkaXJlY3QgPSAoX3RoaXMkJHJvdXRlJHF1ZXJ5JHJlID0gdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QpICE9PSBudWxsICYmIF90aGlzJCRyb3V0ZSRxdWVyeSRyZSAhPT0gdm9pZCAwID8gX3RoaXMkJHJvdXRlJHF1ZXJ5JHJlIDogIi9ob21lIjsKICAgICAgdmFyIHVzZXJuYW1lID0gdGhpcy4kcmVmcy51c2VybmFtZS52YWx1ZTsKICAgICAgdmFyIHBhc3N3b3JkID0gdGhpcy4kcmVmcy5wYXNzd29yZC52YWx1ZTsKICAgICAgdGhpcy51c2VybmFtZUVycm9yVGV4dCA9ICIiOwogICAgICB0aGlzLnBhc3N3b3JkRXJyb3JUZXh0ID0gIiI7CiAgICAgIGlmICh1c2VybmFtZSA9PT0gIiIpIHRoaXMudXNlcm5hbWVFcnJvclRleHQgPSAiTWlzc2luZyBGaWVsZCI7CiAgICAgIGlmIChwYXNzd29yZCA9PT0gIiIpIHRoaXMucGFzc3dvcmRFcnJvclRleHQgPSAiTWlzc2luZyBGaWVsZCI7CiAgICAgIGlmICh1c2VybmFtZSA9PT0gIiIgfHwgcGFzc3dvcmQgPT0gIiIpIHJldHVybjsKICAgICAgdGhpcy5sb2dpblN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKHJlZGlyZWN0KTsKICAgICAgICB9LCAyMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJvb3QuZmVlZGJhY2soIkxvZ2luIGZhaWxlZCIpOwoKICAgICAgICBfdGhpcy51c2VybmFtZUVycm9yVGV4dCA9ICJDaGVjayB5b3VyIHVzZXJuYW1lIjsKICAgICAgICBfdGhpcy5wYXNzd29yZEVycm9yVGV4dCA9ICJDaGVjayB5b3VyIHBhc3N3b3JkIjsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHVzZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxvZ2luU3RvcmUuZGlzcGF0Y2goImdldFVzZXIiKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBpZiAoX3RoaXMyLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogX3RoaXMyLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["PageLogin.vue"],"names":[],"mappings":";;AACA,OAAA,SAAA,MAAA,sBAAA;AACA,OAAA,KAAA,MAAA,wBAAA;AACA,OAAA,OAAA,MAAA,iCAAA;AACA,OAAA,SAAA,MAAA,kDAAA;AACA,OAAA,MAAA,MAAA,kBAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,aADA;AAGA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA,SAAA;AAAA,IAAA,KAAA,EAAA,KAAA;AAAA,IAAA,OAAA,EAAA,OAAA;AAAA,IAAA,SAAA,EAAA,SAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,GAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OADA;AAEA,MAAA,iBAAA,EAAA,EAFA;AAGA,MAAA,iBAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,CAAA;AAAA,aAAA,CAAA,CAAA,UAAA,CAAA,OAAA,CAAA,SAAA;AAAA;AADA,GAXA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;AAAA;;AACA,UAAA,QAAA,4BAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,yEAAA,OAAA;AAEA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,WAAA,iBAAA,GAAA,EAAA;AACA,WAAA,iBAAA,GAAA,EAAA;AAEA,UAAA,QAAA,KAAA,EAAA,EAAA,KAAA,iBAAA,GAAA,eAAA;AACA,UAAA,QAAA,KAAA,EAAA,EAAA,KAAA,iBAAA,GAAA,eAAA;AACA,UAAA,QAAA,KAAA,EAAA,IAAA,QAAA,IAAA,EAAA,EAAA;AAEA,WAAA,UAAA,CACA,QADA,CACA,OADA,EACA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,eAAA,UAAA,CAAA;AAAA,iBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AAAA,SAAA,EAAA,GAAA,CAAA;AAAA,OAFA,EAGA,KAHA,CAGA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,cAAA;;AACA,QAAA,KAAA,CAAA,iBAAA,GAAA,qBAAA;AACA,QAAA,KAAA,CAAA,iBAAA,GAAA,qBAAA;AACA,OAPA;AAQA;AArBA,GAdA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,UAAA,CAAA,QAAA,CAAA,SAAA,CADA;;AAAA;AACA,cAAA,IADA;;AAAA,kBAEA,IAFA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,kBAGA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAIA,cAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AAAA,eAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AA1CA,CAAA","sourcesContent":["<script>\r\n   import Loadingv1 from \"@/components/Loading\";\r\n   import Input from \"@/components/Input.vue\";\r\n   import Button2 from \"@/components/button/Button2.vue\";\r\n   import Actionbar from \"@/components/navigation/actionbar2/Actionbar.vue\";\r\n   import Footer from \"@/app/Footer.vue\";\r\n\r\n   export default {\r\n      title: \"Staff Login\",\r\n\r\n      components: { Loadingv1, Input, Button2, Actionbar, Footer },\r\n      data() {\r\n         return {\r\n            top: { shadow: false },\r\n            usernameErrorText: \"\",\r\n            passwordErrorText: \"\",\r\n         };\r\n      },\r\n      computed: {\r\n         isLoading: (c) => c.loginStore.getters.isLoading,\r\n      },\r\n      methods: {\r\n         clickLogin() {\r\n            let redirect = this.$route.query.redirect ?? \"/home\";\r\n\r\n            const username = this.$refs.username.value;\r\n            const password = this.$refs.password.value;\r\n            this.usernameErrorText = \"\";\r\n            this.passwordErrorText = \"\";\r\n\r\n            if (username === \"\") this.usernameErrorText = \"Missing Field\";\r\n            if (password === \"\") this.passwordErrorText = \"Missing Field\";\r\n            if (username === \"\" || password == \"\") return;\r\n\r\n            this.loginStore\r\n               .dispatch(\"login\", { username, password })\r\n               .then((user) => setTimeout(() => this.$router.push(redirect), 200))\r\n               .catch(() => {\r\n                  this.$root.feedback(\"Login failed\");\r\n                  this.usernameErrorText = \"Check your username\";\r\n                  this.passwordErrorText = \"Check your password\";\r\n               });\r\n         },\r\n      },\r\n      async mounted() {\r\n         let user = await this.loginStore.dispatch(\"getUser\");\r\n         if (!user) return;\r\n         if (!this.$route.query.redirect) return;\r\n         this.$router.push({ path: this.$route.query.redirect });\r\n      },\r\n   };\r\n</script>\r\n\r\n<template>\r\n   <div class=\"PageLogin\">\r\n      <Loadingv1 class=\"PageLogin-Loading\" :isRunning=\"isLoading\" />\r\n\r\n      <div\r\n         class=\"PageLogin-body\"\r\n         @scroll=\"(event) => (top.shadow = event.target.scrollTop > 0)\"\r\n      >\r\n         <Actionbar\r\n            class=\"PageLogin-top\"\r\n            :class=\"[top.shadow ? 'PageLogin-top-shadow' : '']\"\r\n            v-if=\"$root.navigation.isDrawer()\"\r\n            :leftMenus=\"[\r\n               {\r\n                  title: 'Hamburger Menu',\r\n                  icon: host.res('icon/hamburgerMenu-2A4858.svg'),\r\n                  click: () => $root.openNavigationDrawer(),\r\n               },\r\n            ]\"\r\n         >\r\n            <router-link class=\"PageLogin-top-logo\" :to=\"{ name: 'home' }\">\r\n               <img\r\n                  class=\"PageLogin-top-logo-img\"\r\n                  :src=\"host.res('icon/home-2A4858.svg')\"\r\n               />\r\n            </router-link>\r\n         </Actionbar>\r\n\r\n         <div class=\"PageLogin-main\">\r\n            <div class=\"PageLogin-form\">\r\n               <div class=\"PageLogin-header\">\r\n                  <span class=\"PageLogin-title\">Staff Login</span>\r\n               </div>\r\n\r\n               <form class=\"PageLogin-content\" @submit.prevent=\"clickLogin()\">\r\n                  <Input\r\n                     class=\"PageLogin-input\"\r\n                     ref=\"username\"\r\n                     label=\"Username\"\r\n                     type=\"text\"\r\n                     @input=\"\r\n                        (comp) => {\r\n                           let value = comp.value;\r\n                           if (value.includes(''))\r\n                              comp.value = value.trim().replace(' ', '');\r\n                        }\r\n                     \"\r\n                     :isRequired=\"true\"\r\n                     :error=\"usernameErrorText\"\r\n                  />\r\n                  <Input\r\n                     class=\"PageLogin-input\"\r\n                     ref=\"password\"\r\n                     label=\"Password\"\r\n                     type=\"password\"\r\n                     :isRequired=\"true\"\r\n                     :error=\"passwordErrorText\"\r\n                  />\r\n\r\n                  <Button2 class=\"PageLogin-button\" text=\"Login\" />\r\n               </form>\r\n            </div>\r\n         </div>\r\n\r\n         <Footer />\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n   .PageLogin {\r\n      --page-background-color: #c9d7df;\r\n      --page-background-color-shadow: #b6b6b6;\r\n\r\n      background: var(--page-background-color);\r\n      color: #2a4858;\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: stretch;\r\n      justify-content: stretch;\r\n      position: relative;\r\n\r\n      --max-width: 650px;\r\n      --max-width: 28em;\r\n\r\n      .PageLogin-Loading {\r\n         z-index: 3;\r\n         position: absolute;\r\n         top: 0;\r\n         width: 100%;\r\n      }\r\n\r\n      .PageLogin-body {\r\n         z-index: 1;\r\n         width: 100%;\r\n         display: flex;\r\n         flex-direction: column;\r\n         align-items: center;\r\n         justify-content: flex-start;\r\n         position: relative;\r\n         overflow-x: hidden;\r\n         overflow-y: auto;\r\n\r\n         .PageLogin-top {\r\n            top: 0;\r\n            right: 0;\r\n            left: 0;\r\n            z-index: 2;\r\n            width: 100%;\r\n            background: #d6e1e5;\r\n            position: sticky;\r\n            transition: var(--animation-duration);\r\n\r\n            .PageLogin-top-logo {\r\n               --size: 2.8rem;\r\n\r\n               width: var(--size);\r\n               height: var(--size);\r\n               min-width: var(--size);\r\n               min-height: var(--size);\r\n               max-width: var(--size);\r\n               max-height: var(--size);\r\n               background: none;\r\n               border: none;\r\n               cursor: pointer;\r\n               padding: 0.6rem;\r\n               border-radius: 50%;\r\n               transition: var(--animation-duration);\r\n               display: flex;\r\n               flex-grow: 0;\r\n               flex-direction: row;\r\n               align-items: center;\r\n               justify-content: center;\r\n\r\n               &:hover {\r\n                  background: hsla(0, 0%, 0%, 0.1);\r\n                  background: #49748940;\r\n               }\r\n               &-img {\r\n                  height: 100%;\r\n                  width: 100%;\r\n               }\r\n            }\r\n         }\r\n         .PageLogin-top-shadow {\r\n            box-shadow: 0 0 3rem rgba(0, 0, 0, 0.1);\r\n         }\r\n\r\n         .PageLogin-main {\r\n            width: 100%;\r\n            height: 80%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n\r\n            .PageLogin-form {\r\n               z-index: 1;\r\n               width: 100%;\r\n               max-width: var(--max-width);\r\n               display: flex;\r\n               flex-direction: column;\r\n               align-items: flex-start;\r\n               justify-content: flex-start;\r\n               gap: 1em;\r\n               padding: 2em;\r\n\r\n               .PageLogin-header {\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  align-items: flex-start;\r\n                  justify-content: center;\r\n                  .PageLogin-title {\r\n                     font-size: 4rem;\r\n                     opacity: 0.6;\r\n                     line-height: 1.4;\r\n                  }\r\n                  .PageLogin-description {\r\n                     font-weight: 400;\r\n                     font-size: 1.2rem;\r\n                  }\r\n               }\r\n\r\n               .PageLogin-content {\r\n                  width: 100%;\r\n                  padding: 20px 0;\r\n                  display: flex;\r\n                  flex-direction: column;\r\n                  align-items: center;\r\n                  justify-content: center;\r\n                  gap: 14px;\r\n\r\n                  & > * {\r\n                     width: 100%;\r\n                  }\r\n\r\n                  .PageLogin-input {\r\n                     padding: 0.8rem 1rem;\r\n                  }\r\n\r\n                  .PageLogin-button {\r\n                     max-width: 200px;\r\n                     margin-top: 20px;\r\n                     padding: 10px;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      }\r\n   }\r\n</style>\r\n"],"sourceRoot":"src/pages/login"}]}